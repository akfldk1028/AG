{"version":3,"file":"aedc38774473df331eb6dcbf7c0cc919f6d02efc-80e33dfd5e5f29b1b2e7.js","mappings":"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","sources":["webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/plus.js","webpack://autogentstudio/./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js","webpack://autogentstudio/./src/components/views/teambuilder/api.ts","webpack://autogentstudio/./node_modules/@xyflow/react/node_modules/zustand/esm/shallow.mjs","webpack://autogentstudio/./node_modules/@xyflow/react/node_modules/zustand/esm/vanilla.mjs","webpack://autogentstudio/./node_modules/@xyflow/react/node_modules/zustand/esm/traditional.mjs","webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/upload.js","webpack://autogentstudio/./node_modules/d3-dispatch/src/dispatch.js","webpack://autogentstudio/./node_modules/d3-selection/src/selector.js","webpack://autogentstudio/./node_modules/d3-selection/src/selectorAll.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/selectAll.js","webpack://autogentstudio/./node_modules/d3-selection/src/array.js","webpack://autogentstudio/./node_modules/d3-selection/src/matcher.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/selectChild.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/selectChildren.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/sparse.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/enter.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/data.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/sort.js","webpack://autogentstudio/./node_modules/d3-selection/src/namespaces.js","webpack://autogentstudio/./node_modules/d3-selection/src/namespace.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/attr.js","webpack://autogentstudio/./node_modules/d3-selection/src/window.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/style.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/property.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/classed.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/text.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/html.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/raise.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/lower.js","webpack://autogentstudio/./node_modules/d3-selection/src/creator.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/insert.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/remove.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/clone.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/on.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/dispatch.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/index.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/select.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/filter.js","webpack://autogentstudio/./node_modules/d3-selection/src/constant.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/exit.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/join.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/merge.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/order.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/call.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/nodes.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/node.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/size.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/empty.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/each.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/append.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/datum.js","webpack://autogentstudio/./node_modules/d3-selection/src/selection/iterator.js","webpack://autogentstudio/./node_modules/d3-selection/src/select.js","webpack://autogentstudio/./node_modules/d3-selection/src/pointer.js","webpack://autogentstudio/./node_modules/d3-selection/src/sourceEvent.js","webpack://autogentstudio/./node_modules/d3-drag/src/noevent.js","webpack://autogentstudio/./node_modules/d3-drag/src/nodrag.js","webpack://autogentstudio/./node_modules/d3-drag/src/constant.js","webpack://autogentstudio/./node_modules/d3-drag/src/event.js","webpack://autogentstudio/./node_modules/d3-drag/src/drag.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/zoom.js","webpack://autogentstudio/./node_modules/d3-timer/src/timer.js","webpack://autogentstudio/./node_modules/d3-timer/src/timeout.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/schedule.js","webpack://autogentstudio/./node_modules/d3-transition/src/interrupt.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/number.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/transform/decompose.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/transform/parse.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/transform/index.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/tween.js","webpack://autogentstudio/./node_modules/d3-color/src/define.js","webpack://autogentstudio/./node_modules/d3-color/src/color.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/basis.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/constant.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/color.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/rgb.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/basisClosed.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/string.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/interpolate.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/attr.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/attrTween.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/delay.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/duration.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/selection.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/style.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/index.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/select.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/selectAll.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/filter.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/merge.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/transition.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/on.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/styleTween.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/text.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/textTween.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/remove.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/ease.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/easeVarying.js","webpack://autogentstudio/./node_modules/d3-transition/src/transition/end.js","webpack://autogentstudio/./node_modules/d3-transition/src/selection/transition.js","webpack://autogentstudio/./node_modules/d3-ease/src/cubic.js","webpack://autogentstudio/./node_modules/d3-transition/src/selection/index.js","webpack://autogentstudio/./node_modules/d3-transition/src/selection/interrupt.js","webpack://autogentstudio/./node_modules/d3-zoom/src/constant.js","webpack://autogentstudio/./node_modules/d3-zoom/src/event.js","webpack://autogentstudio/./node_modules/d3-zoom/src/transform.js","webpack://autogentstudio/./node_modules/d3-zoom/src/noevent.js","webpack://autogentstudio/./node_modules/d3-zoom/src/zoom.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/array.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/date.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/object.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/numberArray.js","webpack://autogentstudio/./node_modules/d3-interpolate/src/value.js","webpack://autogentstudio/./node_modules/@xyflow/system/dist/esm/index.js","webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/network.js","webpack://autogentstudio/./node_modules/classcat/index.js","webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/terminal.js","webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/square-pen.js","webpack://autogentstudio/./node_modules/rc-upload/es/attr-accept.js","webpack://autogentstudio/./node_modules/rc-upload/es/request.js","webpack://autogentstudio/./node_modules/rc-upload/es/traverseFileTree.js","webpack://autogentstudio/./node_modules/rc-upload/es/uid.js","webpack://autogentstudio/./node_modules/rc-upload/es/AjaxUploader.js","webpack://autogentstudio/./node_modules/rc-upload/es/Upload.js","webpack://autogentstudio/./node_modules/rc-upload/es/index.js","webpack://autogentstudio/./node_modules/antd/es/upload/style/dragger.js","webpack://autogentstudio/./node_modules/antd/es/upload/style/list.js","webpack://autogentstudio/./node_modules/antd/es/upload/style/motion.js","webpack://autogentstudio/./node_modules/antd/es/upload/style/picture.js","webpack://autogentstudio/./node_modules/antd/es/upload/style/rtl.js","webpack://autogentstudio/./node_modules/antd/es/upload/style/index.js","webpack://autogentstudio/./node_modules/@ant-design/icons-svg/es/asn/FileTwoTone.js","webpack://autogentstudio/./node_modules/@ant-design/icons/es/icons/FileTwoTone.js","webpack://autogentstudio/./node_modules/@ant-design/icons-svg/es/asn/PaperClipOutlined.js","webpack://autogentstudio/./node_modules/@ant-design/icons/es/icons/PaperClipOutlined.js","webpack://autogentstudio/./node_modules/@ant-design/icons-svg/es/asn/PictureTwoTone.js","webpack://autogentstudio/./node_modules/@ant-design/icons/es/icons/PictureTwoTone.js","webpack://autogentstudio/./node_modules/antd/es/upload/utils.js","webpack://autogentstudio/./node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","webpack://autogentstudio/./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","webpack://autogentstudio/./node_modules/@ant-design/icons-svg/es/asn/DownloadOutlined.js","webpack://autogentstudio/./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js","webpack://autogentstudio/./node_modules/rc-progress/es/common.js","webpack://autogentstudio/./node_modules/rc-progress/es/Line.js","webpack://autogentstudio/./node_modules/rc-progress/es/hooks/useId.js","webpack://autogentstudio/./node_modules/rc-progress/es/Circle/PtgCircle.js","webpack://autogentstudio/./node_modules/rc-progress/es/Circle/util.js","webpack://autogentstudio/./node_modules/rc-progress/es/Circle/index.js","webpack://autogentstudio/./node_modules/antd/es/progress/utils.js","webpack://autogentstudio/./node_modules/antd/es/progress/Circle.js","webpack://autogentstudio/./node_modules/antd/es/progress/style/index.js","webpack://autogentstudio/./node_modules/antd/es/progress/Line.js","webpack://autogentstudio/./node_modules/antd/es/progress/Steps.js","webpack://autogentstudio/./node_modules/antd/es/progress/progress.js","webpack://autogentstudio/./node_modules/antd/es/progress/index.js","webpack://autogentstudio/./node_modules/antd/es/upload/UploadList/ListItem.js","webpack://autogentstudio/./node_modules/antd/es/upload/UploadList/index.js","webpack://autogentstudio/./node_modules/antd/es/upload/Upload.js","webpack://autogentstudio/./node_modules/antd/es/upload/Dragger.js","webpack://autogentstudio/./node_modules/antd/es/upload/index.js","webpack://autogentstudio/./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/arrow-right.js","webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/loader-circle.js","webpack://autogentstudio/./node_modules/use-sync-external-store/shim/with-selector.js","webpack://autogentstudio/./node_modules/use-sync-external-store/shim/index.js"],"sourcesContent":["/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\"),\n  shim = require(\"use-sync-external-store/shim\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useSyncExternalStore = shim.useSyncExternalStore,\n  useRef = React.useRef,\n  useEffect = React.useEffect,\n  useMemo = React.useMemo,\n  useDebugValue = React.useDebugValue;\nexports.useSyncExternalStoreWithSelector = function (\n  subscribe,\n  getSnapshot,\n  getServerSnapshot,\n  selector,\n  isEqual\n) {\n  var instRef = useRef(null);\n  if (null === instRef.current) {\n    var inst = { hasValue: !1, value: null };\n    instRef.current = inst;\n  } else inst = instRef.current;\n  instRef = useMemo(\n    function () {\n      function memoizedSelector(nextSnapshot) {\n        if (!hasMemo) {\n          hasMemo = !0;\n          memoizedSnapshot = nextSnapshot;\n          nextSnapshot = selector(nextSnapshot);\n          if (void 0 !== isEqual && inst.hasValue) {\n            var currentSelection = inst.value;\n            if (isEqual(currentSelection, nextSnapshot))\n              return (memoizedSelection = currentSelection);\n          }\n          return (memoizedSelection = nextSnapshot);\n        }\n        currentSelection = memoizedSelection;\n        if (objectIs(memoizedSnapshot, nextSnapshot)) return currentSelection;\n        var nextSelection = selector(nextSnapshot);\n        if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n          return (memoizedSnapshot = nextSnapshot), currentSelection;\n        memoizedSnapshot = nextSnapshot;\n        return (memoizedSelection = nextSelection);\n      }\n      var hasMemo = !1,\n        memoizedSnapshot,\n        memoizedSelection,\n        maybeGetServerSnapshot =\n          void 0 === getServerSnapshot ? null : getServerSnapshot;\n      return [\n        function () {\n          return memoizedSelector(getSnapshot());\n        },\n        null === maybeGetServerSnapshot\n          ? void 0\n          : function () {\n              return memoizedSelector(maybeGetServerSnapshot());\n            }\n      ];\n    },\n    [getSnapshot, getServerSnapshot, selector, isEqual]\n  );\n  var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n  useEffect(\n    function () {\n      inst.hasValue = !0;\n      inst.value = value;\n    },\n    [value]\n  );\n  useDebugValue(value);\n  return value;\n};\n","import { Team, Component, ComponentConfig } from \"../../types/datamodel\";\r\nimport { BaseAPI } from \"../../utils/baseapi\";\r\n\r\ninterface ValidationError {\r\n  field: string;\r\n  error: string;\r\n  suggestion?: string;\r\n}\r\n\r\nexport interface ValidationResponse {\r\n  is_valid: boolean;\r\n  errors: ValidationError[];\r\n  warnings: ValidationError[];\r\n}\r\n\r\nexport interface ComponentTestResult {\r\n  status: boolean;\r\n  message: string;\r\n  data?: any;\r\n  logs: string[];\r\n}\r\n\r\nexport class TeamAPI extends BaseAPI {\r\n  async listTeams(userId: string): Promise<Team[]> {\r\n    const response = await fetch(\r\n      `${this.getBaseUrl()}/teams/?user_id=${userId}`,\r\n      {\r\n        headers: this.getHeaders(),\r\n      }\r\n    );\r\n    const data = await response.json();\r\n    if (!data.status) throw new Error(data.message || \"Failed to fetch teams\");\r\n    return data.data;\r\n  }\r\n\r\n  async getTeam(teamId: number, userId: string): Promise<Team> {\r\n    const response = await fetch(\r\n      `${this.getBaseUrl()}/teams/${teamId}?user_id=${userId}`,\r\n      {\r\n        headers: this.getHeaders(),\r\n      }\r\n    );\r\n    const data = await response.json();\r\n    if (!data.status) throw new Error(data.message || \"Failed to fetch team\");\r\n    return data.data;\r\n  }\r\n\r\n  async createTeam(teamData: Partial<Team>, userId: string): Promise<Team> {\r\n    const team = {\r\n      ...teamData,\r\n      user_id: userId,\r\n    };\r\n\r\n    const response = await fetch(`${this.getBaseUrl()}/teams/`, {\r\n      method: \"POST\",\r\n      headers: this.getHeaders(),\r\n      body: JSON.stringify(team),\r\n    });\r\n    const data = await response.json();\r\n    if (!data.status) throw new Error(data.message || \"Failed to create team\");\r\n    return data.data;\r\n  }\r\n\r\n  async deleteTeam(teamId: number, userId: string): Promise<void> {\r\n    const response = await fetch(\r\n      `${this.getBaseUrl()}/teams/${teamId}?user_id=${userId}`,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: this.getHeaders(),\r\n      }\r\n    );\r\n    const data = await response.json();\r\n    if (!data.status) throw new Error(data.message || \"Failed to delete team\");\r\n  }\r\n}\r\n\r\n// move validationapi to its own class\r\n\r\nexport class ValidationAPI extends BaseAPI {\r\n  async validateComponent(\r\n    component: Component<ComponentConfig>\r\n  ): Promise<ValidationResponse> {\r\n    const response = await fetch(`${this.getBaseUrl()}/validate/`, {\r\n      method: \"POST\",\r\n      headers: this.getHeaders(),\r\n      body: JSON.stringify({\r\n        component: component,\r\n      }),\r\n    });\r\n\r\n    const data = await response.json();\r\n    if (!response.ok) {\r\n      throw new Error(data.message || \"Failed to validate component\");\r\n    }\r\n\r\n    return data;\r\n  }\r\n\r\n  async testComponent(\r\n    component: Component<ComponentConfig>,\r\n    timeout: number = 60\r\n  ): Promise<ComponentTestResult> {\r\n    const response = await fetch(`${this.getBaseUrl()}/validate/test`, {\r\n      method: \"POST\",\r\n      headers: this.getHeaders(),\r\n      body: JSON.stringify({\r\n        component: component,\r\n        timeout: timeout,\r\n      }),\r\n    });\r\n\r\n    const data = await response.json();\r\n    if (!response.ok) {\r\n      throw new Error(data.message || \"Failed to test component\");\r\n    }\r\n\r\n    return data;\r\n  }\r\n}\r\n\r\nexport const teamAPI = new TeamAPI();\r\nexport const validationAPI = new ValidationAPI();\r\n","function shallow$1(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size) return false;\n    for (const [key, value] of objA) {\n      if (!Object.is(value, objB.get(key))) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size) return false;\n    for (const value of objA) {\n      if (!objB.has(value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (const keyA of keysA) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keyA) || !Object.is(objA[keyA], objB[keyA])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nvar shallow = (objA, objB) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`.\"\n    );\n  }\n  return shallow$1(objA, objB);\n};\n\nexport { shallow as default, shallow$1 as shallow };\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","import ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\nimport { createStore } from 'zustand/vanilla';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nconst identity = (arg) => arg;\nfunction useStoreWithEqualityFn(api, selector = identity, equalityFn) {\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createWithEqualityFnImpl = (createState, defaultEqualityFn) => {\n  const api = createStore(createState);\n  const useBoundStoreWithEqualityFn = (selector, equalityFn = defaultEqualityFn) => useStoreWithEqualityFn(api, selector, equalityFn);\n  Object.assign(useBoundStoreWithEqualityFn, api);\n  return useBoundStoreWithEqualityFn;\n};\nconst createWithEqualityFn = (createState, defaultEqualityFn) => createState ? createWithEqualityFnImpl(createState, defaultEqualityFn) : createWithEqualityFnImpl;\n\nexport { createWithEqualityFn, useStoreWithEqualityFn };\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Upload = createLucideIcon(\"Upload\", [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n]);\n\nexport { Upload as default };\n//# sourceMappingURL=upload.js.map\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","import { drag } from 'd3-drag';\nimport { select, pointer } from 'd3-selection';\nimport { zoom, zoomIdentity, zoomTransform } from 'd3-zoom';\nimport { interpolateZoom, interpolate } from 'd3-interpolate';\n\nconst errorMessages = {\n    error001: () => '[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001',\n    error002: () => \"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.\",\n    error003: (nodeType) => `Node type \"${nodeType}\" not found. Using fallback type \"default\".`,\n    error004: () => 'The React Flow parent container needs a width and a height to render the graph.',\n    error005: () => 'Only child nodes can use a parent extent.',\n    error006: () => \"Can't create edge. An edge needs a source and a target.\",\n    error007: (id) => `The old edge with id=${id} does not exist.`,\n    error009: (type) => `Marker type \"${type}\" doesn't exist.`,\n    error008: (handleType, { id, sourceHandle, targetHandle }) => `Couldn't create edge for ${handleType} handle id: \"${handleType === 'source' ? sourceHandle : targetHandle}\", edge id: ${id}.`,\n    error010: () => 'Handle: No node id found. Make sure to only use a Handle inside a custom Node.',\n    error011: (edgeType) => `Edge type \"${edgeType}\" not found. Using fallback type \"default\".`,\n    error012: (id) => `Node with id \"${id}\" does not exist, it may have been removed. This can happen when a node is deleted before the \"onNodeClick\" handler is called.`,\n    error013: (lib = 'react') => `It seems that you haven't loaded the styles. Please import '@xyflow/${lib}/dist/style.css' or base.css to make sure everything is working properly.`,\n    error014: () => 'useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.',\n    error015: () => 'It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs.',\n};\nconst infiniteExtent = [\n    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],\n];\nconst elementSelectionKeys = ['Enter', ' ', 'Escape'];\nconst defaultAriaLabelConfig = {\n    'node.a11yDescription.default': 'Press enter or space to select a node. Press delete to remove it and escape to cancel.',\n    'node.a11yDescription.keyboardDisabled': 'Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.',\n    'node.a11yDescription.ariaLiveMessage': ({ direction, x, y }) => `Moved selected node ${direction}. New position, x: ${x}, y: ${y}`,\n    'edge.a11yDescription.default': 'Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.',\n    // Control elements\n    'controls.ariaLabel': 'Control Panel',\n    'controls.zoomIn.ariaLabel': 'Zoom In',\n    'controls.zoomOut.ariaLabel': 'Zoom Out',\n    'controls.fitView.ariaLabel': 'Fit View',\n    'controls.interactive.ariaLabel': 'Toggle Interactivity',\n    // Mini map\n    'minimap.ariaLabel': 'Mini Map',\n    // Handle\n    'handle.ariaLabel': 'Handle',\n};\n\n/**\n * The `ConnectionMode` is used to set the mode of connection between nodes.\n * The `Strict` mode is the default one and only allows source to target edges.\n * `Loose` mode allows source to source and target to target edges as well.\n *\n * @public\n */\nvar ConnectionMode;\n(function (ConnectionMode) {\n    ConnectionMode[\"Strict\"] = \"strict\";\n    ConnectionMode[\"Loose\"] = \"loose\";\n})(ConnectionMode || (ConnectionMode = {}));\n/**\n * This enum is used to set the different modes of panning the viewport when the\n * user scrolls. The `Free` mode allows the user to pan in any direction by scrolling\n * with a device like a trackpad. The `Vertical` and `Horizontal` modes restrict\n * scroll panning to only the vertical or horizontal axis, respectively.\n *\n * @public\n */\nvar PanOnScrollMode;\n(function (PanOnScrollMode) {\n    PanOnScrollMode[\"Free\"] = \"free\";\n    PanOnScrollMode[\"Vertical\"] = \"vertical\";\n    PanOnScrollMode[\"Horizontal\"] = \"horizontal\";\n})(PanOnScrollMode || (PanOnScrollMode = {}));\nvar SelectionMode;\n(function (SelectionMode) {\n    SelectionMode[\"Partial\"] = \"partial\";\n    SelectionMode[\"Full\"] = \"full\";\n})(SelectionMode || (SelectionMode = {}));\nconst initialConnection = {\n    inProgress: false,\n    isValid: null,\n    from: null,\n    fromHandle: null,\n    fromPosition: null,\n    fromNode: null,\n    to: null,\n    toHandle: null,\n    toPosition: null,\n    toNode: null,\n};\n\n/**\n * If you set the `connectionLineType` prop on your [`<ReactFlow />`](/api-reference/react-flow#connection-connectionLineType)\n *component, it will dictate the style of connection line rendered when creating\n *new edges.\n *\n * @public\n *\n * @remarks If you choose to render a custom connection line component, this value will be\n *passed to your component as part of its [`ConnectionLineComponentProps`](/api-reference/types/connection-line-component-props).\n */\nvar ConnectionLineType;\n(function (ConnectionLineType) {\n    ConnectionLineType[\"Bezier\"] = \"default\";\n    ConnectionLineType[\"Straight\"] = \"straight\";\n    ConnectionLineType[\"Step\"] = \"step\";\n    ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\n    ConnectionLineType[\"SimpleBezier\"] = \"simplebezier\";\n})(ConnectionLineType || (ConnectionLineType = {}));\n/**\n * Edges may optionally have a marker on either end. The MarkerType type enumerates\n * the options available to you when configuring a given marker.\n *\n * @public\n */\nvar MarkerType;\n(function (MarkerType) {\n    MarkerType[\"Arrow\"] = \"arrow\";\n    MarkerType[\"ArrowClosed\"] = \"arrowclosed\";\n})(MarkerType || (MarkerType = {}));\n\n/**\n * While [`PanelPosition`](/api-reference/types/panel-position) can be used to place a\n * component in the corners of a container, the `Position` enum is less precise and used\n * primarily in relation to edges and handles.\n *\n * @public\n */\nvar Position;\n(function (Position) {\n    Position[\"Left\"] = \"left\";\n    Position[\"Top\"] = \"top\";\n    Position[\"Right\"] = \"right\";\n    Position[\"Bottom\"] = \"bottom\";\n})(Position || (Position = {}));\nconst oppositePosition = {\n    [Position.Left]: Position.Right,\n    [Position.Right]: Position.Left,\n    [Position.Top]: Position.Bottom,\n    [Position.Bottom]: Position.Top,\n};\n\n/**\n * @internal\n */\nfunction areConnectionMapsEqual(a, b) {\n    if (!a && !b) {\n        return true;\n    }\n    if (!a || !b || a.size !== b.size) {\n        return false;\n    }\n    if (!a.size && !b.size) {\n        return true;\n    }\n    for (const key of a.keys()) {\n        if (!b.has(key)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * We call the callback for all connections in a that are not in b\n *\n * @internal\n */\nfunction handleConnectionChange(a, b, cb) {\n    if (!cb) {\n        return;\n    }\n    const diff = [];\n    a.forEach((connection, key) => {\n        if (!b?.has(key)) {\n            diff.push(connection);\n        }\n    });\n    if (diff.length) {\n        cb(diff);\n    }\n}\nfunction getConnectionStatus(isValid) {\n    return isValid === null ? null : isValid ? 'valid' : 'invalid';\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Test whether an object is usable as an Edge\n * @public\n * @remarks In TypeScript this is a type guard that will narrow the type of whatever you pass in to Edge if it returns true\n * @param element - The element to test\n * @returns A boolean indicating whether the element is an Edge\n */\nconst isEdgeBase = (element) => 'id' in element && 'source' in element && 'target' in element;\n/**\n * Test whether an object is usable as a Node\n * @public\n * @remarks In TypeScript this is a type guard that will narrow the type of whatever you pass in to Node if it returns true\n * @param element - The element to test\n * @returns A boolean indicating whether the element is an Node\n */\nconst isNodeBase = (element) => 'id' in element && 'position' in element && !('source' in element) && !('target' in element);\nconst isInternalNodeBase = (element) => 'id' in element && 'internals' in element && !('source' in element) && !('target' in element);\n/**\n * This util is used to tell you what nodes, if any, are connected to the given node\n * as the _target_ of an edge.\n * @public\n * @param node - The node to get the connected nodes from.\n * @param nodes - The array of all nodes.\n * @param edges - The array of all edges.\n * @returns An array of nodes that are connected over edges where the source is the given node.\n *\n * @example\n * ```ts\n *import { getOutgoers } from '@xyflow/react';\n *\n *const nodes = [];\n *const edges = [];\n *\n *const outgoers = getOutgoers(\n *  { id: '1', position: { x: 0, y: 0 }, data: { label: 'node' } },\n *  nodes,\n *  edges,\n *);\n *```\n */\nconst getOutgoers = (node, nodes, edges) => {\n    if (!node.id) {\n        return [];\n    }\n    const outgoerIds = new Set();\n    edges.forEach((edge) => {\n        if (edge.source === node.id) {\n            outgoerIds.add(edge.target);\n        }\n    });\n    return nodes.filter((n) => outgoerIds.has(n.id));\n};\n/**\n * This util is used to tell you what nodes, if any, are connected to the given node\n * as the _source_ of an edge.\n * @public\n * @param node - The node to get the connected nodes from.\n * @param nodes - The array of all nodes.\n * @param edges - The array of all edges.\n * @returns An array of nodes that are connected over edges where the target is the given node.\n *\n * @example\n * ```ts\n *import { getIncomers } from '@xyflow/react';\n *\n *const nodes = [];\n *const edges = [];\n *\n *const incomers = getIncomers(\n *  { id: '1', position: { x: 0, y: 0 }, data: { label: 'node' } },\n *  nodes,\n *  edges,\n *);\n *```\n */\nconst getIncomers = (node, nodes, edges) => {\n    if (!node.id) {\n        return [];\n    }\n    const incomersIds = new Set();\n    edges.forEach((edge) => {\n        if (edge.target === node.id) {\n            incomersIds.add(edge.source);\n        }\n    });\n    return nodes.filter((n) => incomersIds.has(n.id));\n};\nconst getNodePositionWithOrigin = (node, nodeOrigin = [0, 0]) => {\n    const { width, height } = getNodeDimensions(node);\n    const origin = node.origin ?? nodeOrigin;\n    const offsetX = width * origin[0];\n    const offsetY = height * origin[1];\n    return {\n        x: node.position.x - offsetX,\n        y: node.position.y - offsetY,\n    };\n};\n/**\n * Returns the bounding box that contains all the given nodes in an array. This can\n * be useful when combined with [`getViewportForBounds`](/api-reference/utils/get-viewport-for-bounds)\n * to calculate the correct transform to fit the given nodes in a viewport.\n * @public\n * @remarks Useful when combined with {@link getViewportForBounds} to calculate the correct transform to fit the given nodes in a viewport.\n * @param nodes - Nodes to calculate the bounds for.\n * @returns Bounding box enclosing all nodes.\n *\n * @remarks This function was previously called `getRectOfNodes`\n *\n * @example\n * ```js\n *import { getNodesBounds } from '@xyflow/react';\n *\n *const nodes = [\n *  {\n *    id: 'a',\n *    position: { x: 0, y: 0 },\n *    data: { label: 'a' },\n *    width: 50,\n *    height: 25,\n *  },\n *  {\n *    id: 'b',\n *    position: { x: 100, y: 100 },\n *    data: { label: 'b' },\n *    width: 50,\n *    height: 25,\n *  },\n *];\n *\n *const bounds = getNodesBounds(nodes);\n *```\n */\nconst getNodesBounds = (nodes, params = { nodeOrigin: [0, 0] }) => {\n    if (process.env.NODE_ENV === 'development' && !params.nodeLookup) {\n        console.warn('Please use `getNodesBounds` from `useReactFlow`/`useSvelteFlow` hook to ensure correct values for sub flows. If not possible, you have to provide a nodeLookup to support sub flows.');\n    }\n    if (nodes.length === 0) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n    const box = nodes.reduce((currBox, nodeOrId) => {\n        const isId = typeof nodeOrId === 'string';\n        let currentNode = !params.nodeLookup && !isId ? nodeOrId : undefined;\n        if (params.nodeLookup) {\n            currentNode = isId\n                ? params.nodeLookup.get(nodeOrId)\n                : !isInternalNodeBase(nodeOrId)\n                    ? params.nodeLookup.get(nodeOrId.id)\n                    : nodeOrId;\n        }\n        const nodeBox = currentNode ? nodeToBox(currentNode, params.nodeOrigin) : { x: 0, y: 0, x2: 0, y2: 0 };\n        return getBoundsOfBoxes(currBox, nodeBox);\n    }, { x: Infinity, y: Infinity, x2: -Infinity, y2: -Infinity });\n    return boxToRect(box);\n};\n/**\n * Determines a bounding box that contains all given nodes in an array\n * @internal\n */\nconst getInternalNodesBounds = (nodeLookup, params = {}) => {\n    if (nodeLookup.size === 0) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n    let box = { x: Infinity, y: Infinity, x2: -Infinity, y2: -Infinity };\n    nodeLookup.forEach((node) => {\n        if (params.filter === undefined || params.filter(node)) {\n            const nodeBox = nodeToBox(node);\n            box = getBoundsOfBoxes(box, nodeBox);\n        }\n    });\n    return boxToRect(box);\n};\nconst getNodesInside = (nodes, rect, [tx, ty, tScale] = [0, 0, 1], partially = false, \n// set excludeNonSelectableNodes if you want to pay attention to the nodes \"selectable\" attribute\nexcludeNonSelectableNodes = false) => {\n    const paneRect = {\n        ...pointToRendererPoint(rect, [tx, ty, tScale]),\n        width: rect.width / tScale,\n        height: rect.height / tScale,\n    };\n    const visibleNodes = [];\n    for (const node of nodes.values()) {\n        const { measured, selectable = true, hidden = false } = node;\n        if ((excludeNonSelectableNodes && !selectable) || hidden) {\n            continue;\n        }\n        const width = measured.width ?? node.width ?? node.initialWidth ?? null;\n        const height = measured.height ?? node.height ?? node.initialHeight ?? null;\n        const overlappingArea = getOverlappingArea(paneRect, nodeToRect(node));\n        const area = (width ?? 0) * (height ?? 0);\n        const partiallyVisible = partially && overlappingArea > 0;\n        const forceInitialRender = !node.internals.handleBounds;\n        const isVisible = forceInitialRender || partiallyVisible || overlappingArea >= area;\n        if (isVisible || node.dragging) {\n            visibleNodes.push(node);\n        }\n    }\n    return visibleNodes;\n};\n/**\n * This utility filters an array of edges, keeping only those where either the source or target\n * node is present in the given array of nodes.\n * @public\n * @param nodes - Nodes you want to get the connected edges for.\n * @param edges - All edges.\n * @returns Array of edges that connect any of the given nodes with each other.\n *\n * @example\n * ```js\n *import { getConnectedEdges } from '@xyflow/react';\n *\n *const nodes = [\n *  { id: 'a', position: { x: 0, y: 0 } },\n *  { id: 'b', position: { x: 100, y: 0 } },\n *];\n *\n *const edges = [\n *  { id: 'a->c', source: 'a', target: 'c' },\n *  { id: 'c->d', source: 'c', target: 'd' },\n *];\n *\n *const connectedEdges = getConnectedEdges(nodes, edges);\n * // => [{ id: 'a->c', source: 'a', target: 'c' }]\n *```\n */\nconst getConnectedEdges = (nodes, edges) => {\n    const nodeIds = new Set();\n    nodes.forEach((node) => {\n        nodeIds.add(node.id);\n    });\n    return edges.filter((edge) => nodeIds.has(edge.source) || nodeIds.has(edge.target));\n};\nfunction getFitViewNodes(nodeLookup, options) {\n    const fitViewNodes = new Map();\n    const optionNodeIds = options?.nodes ? new Set(options.nodes.map((node) => node.id)) : null;\n    nodeLookup.forEach((n) => {\n        const isVisible = n.measured.width && n.measured.height && (options?.includeHiddenNodes || !n.hidden);\n        if (isVisible && (!optionNodeIds || optionNodeIds.has(n.id))) {\n            fitViewNodes.set(n.id, n);\n        }\n    });\n    return fitViewNodes;\n}\nasync function fitViewport({ nodes, width, height, panZoom, minZoom, maxZoom }, options) {\n    if (nodes.size === 0) {\n        return Promise.resolve(true);\n    }\n    const nodesToFit = getFitViewNodes(nodes, options);\n    const bounds = getInternalNodesBounds(nodesToFit);\n    const viewport = getViewportForBounds(bounds, width, height, options?.minZoom ?? minZoom, options?.maxZoom ?? maxZoom, options?.padding ?? 0.1);\n    await panZoom.setViewport(viewport, {\n        duration: options?.duration,\n        ease: options?.ease,\n        interpolate: options?.interpolate,\n    });\n    return Promise.resolve(true);\n}\n/**\n * This function calculates the next position of a node, taking into account the node's extent, parent node, and origin.\n *\n * @internal\n * @returns position, positionAbsolute\n */\nfunction calculateNodePosition({ nodeId, nextPosition, nodeLookup, nodeOrigin = [0, 0], nodeExtent, onError, }) {\n    const node = nodeLookup.get(nodeId);\n    const parentNode = node.parentId ? nodeLookup.get(node.parentId) : undefined;\n    const { x: parentX, y: parentY } = parentNode ? parentNode.internals.positionAbsolute : { x: 0, y: 0 };\n    const origin = node.origin ?? nodeOrigin;\n    let extent = nodeExtent;\n    if (node.extent === 'parent' && !node.expandParent) {\n        if (!parentNode) {\n            onError?.('005', errorMessages['error005']());\n        }\n        else {\n            const parentWidth = parentNode.measured.width;\n            const parentHeight = parentNode.measured.height;\n            if (parentWidth && parentHeight) {\n                extent = [\n                    [parentX, parentY],\n                    [parentX + parentWidth, parentY + parentHeight],\n                ];\n            }\n        }\n    }\n    else if (parentNode && isCoordinateExtent(node.extent)) {\n        extent = [\n            [node.extent[0][0] + parentX, node.extent[0][1] + parentY],\n            [node.extent[1][0] + parentX, node.extent[1][1] + parentY],\n        ];\n    }\n    const positionAbsolute = isCoordinateExtent(extent)\n        ? clampPosition(nextPosition, extent, node.measured)\n        : nextPosition;\n    if (node.measured.width === undefined || node.measured.height === undefined) {\n        onError?.('015', errorMessages['error015']());\n    }\n    return {\n        position: {\n            x: positionAbsolute.x - parentX + (node.measured.width ?? 0) * origin[0],\n            y: positionAbsolute.y - parentY + (node.measured.height ?? 0) * origin[1],\n        },\n        positionAbsolute,\n    };\n}\n/**\n * Pass in nodes & edges to delete, get arrays of nodes and edges that actually can be deleted\n * @internal\n * @param param.nodesToRemove - The nodes to remove\n * @param param.edgesToRemove - The edges to remove\n * @param param.nodes - All nodes\n * @param param.edges - All edges\n * @param param.onBeforeDelete - Callback to check which nodes and edges can be deleted\n * @returns nodes: nodes that can be deleted, edges: edges that can be deleted\n */\nasync function getElementsToRemove({ nodesToRemove = [], edgesToRemove = [], nodes, edges, onBeforeDelete, }) {\n    const nodeIds = new Set(nodesToRemove.map((node) => node.id));\n    const matchingNodes = [];\n    for (const node of nodes) {\n        if (node.deletable === false) {\n            continue;\n        }\n        const isIncluded = nodeIds.has(node.id);\n        const parentHit = !isIncluded && node.parentId && matchingNodes.find((n) => n.id === node.parentId);\n        if (isIncluded || parentHit) {\n            matchingNodes.push(node);\n        }\n    }\n    const edgeIds = new Set(edgesToRemove.map((edge) => edge.id));\n    const deletableEdges = edges.filter((edge) => edge.deletable !== false);\n    const connectedEdges = getConnectedEdges(matchingNodes, deletableEdges);\n    const matchingEdges = connectedEdges;\n    for (const edge of deletableEdges) {\n        const isIncluded = edgeIds.has(edge.id);\n        if (isIncluded && !matchingEdges.find((e) => e.id === edge.id)) {\n            matchingEdges.push(edge);\n        }\n    }\n    if (!onBeforeDelete) {\n        return {\n            edges: matchingEdges,\n            nodes: matchingNodes,\n        };\n    }\n    const onBeforeDeleteResult = await onBeforeDelete({\n        nodes: matchingNodes,\n        edges: matchingEdges,\n    });\n    if (typeof onBeforeDeleteResult === 'boolean') {\n        return onBeforeDeleteResult ? { edges: matchingEdges, nodes: matchingNodes } : { edges: [], nodes: [] };\n    }\n    return onBeforeDeleteResult;\n}\n\nconst clamp = (val, min = 0, max = 1) => Math.min(Math.max(val, min), max);\nconst clampPosition = (position = { x: 0, y: 0 }, extent, dimensions) => ({\n    x: clamp(position.x, extent[0][0], extent[1][0] - (dimensions?.width ?? 0)),\n    y: clamp(position.y, extent[0][1], extent[1][1] - (dimensions?.height ?? 0)),\n});\nfunction clampPositionToParent(childPosition, childDimensions, parent) {\n    const { width: parentWidth, height: parentHeight } = getNodeDimensions(parent);\n    const { x: parentX, y: parentY } = parent.internals.positionAbsolute;\n    return clampPosition(childPosition, [\n        [parentX, parentY],\n        [parentX + parentWidth, parentY + parentHeight],\n    ], childDimensions);\n}\n/**\n * Calculates the velocity of panning when the mouse is close to the edge of the canvas\n * @internal\n * @param value - One dimensional poition of the mouse (x or y)\n * @param min - Minimal position on canvas before panning starts\n * @param max - Maximal position on canvas before panning starts\n * @returns - A number between 0 and 1 that represents the velocity of panning\n */\nconst calcAutoPanVelocity = (value, min, max) => {\n    if (value < min) {\n        return clamp(Math.abs(value - min), 1, min) / min;\n    }\n    else if (value > max) {\n        return -clamp(Math.abs(value - max), 1, min) / min;\n    }\n    return 0;\n};\nconst calcAutoPan = (pos, bounds, speed = 15, distance = 40) => {\n    const xMovement = calcAutoPanVelocity(pos.x, distance, bounds.width - distance) * speed;\n    const yMovement = calcAutoPanVelocity(pos.y, distance, bounds.height - distance) * speed;\n    return [xMovement, yMovement];\n};\nconst getBoundsOfBoxes = (box1, box2) => ({\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2),\n});\nconst rectToBox = ({ x, y, width, height }) => ({\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n});\nconst boxToRect = ({ x, y, x2, y2 }) => ({\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y,\n});\nconst nodeToRect = (node, nodeOrigin = [0, 0]) => {\n    const { x, y } = isInternalNodeBase(node)\n        ? node.internals.positionAbsolute\n        : getNodePositionWithOrigin(node, nodeOrigin);\n    return {\n        x,\n        y,\n        width: node.measured?.width ?? node.width ?? node.initialWidth ?? 0,\n        height: node.measured?.height ?? node.height ?? node.initialHeight ?? 0,\n    };\n};\nconst nodeToBox = (node, nodeOrigin = [0, 0]) => {\n    const { x, y } = isInternalNodeBase(node)\n        ? node.internals.positionAbsolute\n        : getNodePositionWithOrigin(node, nodeOrigin);\n    return {\n        x,\n        y,\n        x2: x + (node.measured?.width ?? node.width ?? node.initialWidth ?? 0),\n        y2: y + (node.measured?.height ?? node.height ?? node.initialHeight ?? 0),\n    };\n};\nconst getBoundsOfRects = (rect1, rect2) => boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\nconst getOverlappingArea = (rectA, rectB) => {\n    const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n    const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n    return Math.ceil(xOverlap * yOverlap);\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isRectObject = (obj) => isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nconst isNumeric = (n) => !isNaN(n) && isFinite(n);\n// used for a11y key board controls for nodes and edges\nconst devWarn = (id, message) => {\n    if (process.env.NODE_ENV === 'development') {\n        console.warn(`[React Flow]: ${message} Help: https://reactflow.dev/error#${id}`);\n    }\n};\nconst snapPosition = (position, snapGrid = [1, 1]) => {\n    return {\n        x: snapGrid[0] * Math.round(position.x / snapGrid[0]),\n        y: snapGrid[1] * Math.round(position.y / snapGrid[1]),\n    };\n};\nconst pointToRendererPoint = ({ x, y }, [tx, ty, tScale], snapToGrid = false, snapGrid = [1, 1]) => {\n    const position = {\n        x: (x - tx) / tScale,\n        y: (y - ty) / tScale,\n    };\n    return snapToGrid ? snapPosition(position, snapGrid) : position;\n};\nconst rendererPointToPoint = ({ x, y }, [tx, ty, tScale]) => {\n    return {\n        x: x * tScale + tx,\n        y: y * tScale + ty,\n    };\n};\n/**\n * Parses a single padding value to a number\n * @internal\n * @param padding - Padding to parse\n * @param viewport - Width or height of the viewport\n * @returns The padding in pixels\n */\nfunction parsePadding(padding, viewport) {\n    if (typeof padding === 'number') {\n        return Math.floor((viewport - viewport / (1 + padding)) * 0.5);\n    }\n    if (typeof padding === 'string' && padding.endsWith('px')) {\n        const paddingValue = parseFloat(padding);\n        if (!Number.isNaN(paddingValue)) {\n            return Math.floor(paddingValue);\n        }\n    }\n    if (typeof padding === 'string' && padding.endsWith('%')) {\n        const paddingValue = parseFloat(padding);\n        if (!Number.isNaN(paddingValue)) {\n            return Math.floor(viewport * paddingValue * 0.01);\n        }\n    }\n    console.error(`[React Flow] The padding value \"${padding}\" is invalid. Please provide a number or a string with a valid unit (px or %).`);\n    return 0;\n}\n/**\n * Parses the paddings to an object with top, right, bottom, left, x and y paddings\n * @internal\n * @param padding - Padding to parse\n * @param width - Width of the viewport\n * @param height - Height of the viewport\n * @returns An object with the paddings in pixels\n */\nfunction parsePaddings(padding, width, height) {\n    if (typeof padding === 'string' || typeof padding === 'number') {\n        const paddingY = parsePadding(padding, height);\n        const paddingX = parsePadding(padding, width);\n        return {\n            top: paddingY,\n            right: paddingX,\n            bottom: paddingY,\n            left: paddingX,\n            x: paddingX * 2,\n            y: paddingY * 2,\n        };\n    }\n    if (typeof padding === 'object') {\n        const top = parsePadding(padding.top ?? padding.y ?? 0, height);\n        const bottom = parsePadding(padding.bottom ?? padding.y ?? 0, height);\n        const left = parsePadding(padding.left ?? padding.x ?? 0, width);\n        const right = parsePadding(padding.right ?? padding.x ?? 0, width);\n        return { top, right, bottom, left, x: left + right, y: top + bottom };\n    }\n    return { top: 0, right: 0, bottom: 0, left: 0, x: 0, y: 0 };\n}\n/**\n * Calculates the resulting paddings if the new viewport is applied\n * @internal\n * @param bounds - Bounds to fit inside viewport\n * @param x - X position of the viewport\n * @param y - Y position of the viewport\n * @param zoom - Zoom level of the viewport\n * @param width - Width of the viewport\n * @param height - Height of the viewport\n * @returns An object with the minimum padding required to fit the bounds inside the viewport\n */\nfunction calculateAppliedPaddings(bounds, x, y, zoom, width, height) {\n    const { x: left, y: top } = rendererPointToPoint(bounds, [x, y, zoom]);\n    const { x: boundRight, y: boundBottom } = rendererPointToPoint({ x: bounds.x + bounds.width, y: bounds.y + bounds.height }, [x, y, zoom]);\n    const right = width - boundRight;\n    const bottom = height - boundBottom;\n    return {\n        left: Math.floor(left),\n        top: Math.floor(top),\n        right: Math.floor(right),\n        bottom: Math.floor(bottom),\n    };\n}\n/**\n * Returns a viewport that encloses the given bounds with padding.\n * @public\n * @remarks You can determine bounds of nodes with {@link getNodesBounds} and {@link getBoundsOfRects}\n * @param bounds - Bounds to fit inside viewport.\n * @param width - Width of the viewport.\n * @param height  - Height of the viewport.\n * @param minZoom - Minimum zoom level of the resulting viewport.\n * @param maxZoom - Maximum zoom level of the resulting viewport.\n * @param padding - Padding around the bounds.\n * @returns A transformed {@link Viewport} that encloses the given bounds which you can pass to e.g. {@link setViewport}.\n * @example\n * const { x, y, zoom } = getViewportForBounds(\n * { x: 0, y: 0, width: 100, height: 100},\n * 1200, 800, 0.5, 2);\n */\nconst getViewportForBounds = (bounds, width, height, minZoom, maxZoom, padding) => {\n    // First we resolve all the paddings to actual pixel values\n    const p = parsePaddings(padding, width, height);\n    const xZoom = (width - p.x) / bounds.width;\n    const yZoom = (height - p.y) / bounds.height;\n    // We calculate the new x, y, zoom for a centered view\n    const zoom = Math.min(xZoom, yZoom);\n    const clampedZoom = clamp(zoom, minZoom, maxZoom);\n    const boundsCenterX = bounds.x + bounds.width / 2;\n    const boundsCenterY = bounds.y + bounds.height / 2;\n    const x = width / 2 - boundsCenterX * clampedZoom;\n    const y = height / 2 - boundsCenterY * clampedZoom;\n    // Then we calculate the minimum padding, to respect asymmetric paddings\n    const newPadding = calculateAppliedPaddings(bounds, x, y, clampedZoom, width, height);\n    // We only want to have an offset if the newPadding is smaller than the required padding\n    const offset = {\n        left: Math.min(newPadding.left - p.left, 0),\n        top: Math.min(newPadding.top - p.top, 0),\n        right: Math.min(newPadding.right - p.right, 0),\n        bottom: Math.min(newPadding.bottom - p.bottom, 0),\n    };\n    return {\n        x: x - offset.left + offset.right,\n        y: y - offset.top + offset.bottom,\n        zoom: clampedZoom,\n    };\n};\nconst isMacOs = () => typeof navigator !== 'undefined' && navigator?.userAgent?.indexOf('Mac') >= 0;\nfunction isCoordinateExtent(extent) {\n    return extent !== undefined && extent !== 'parent';\n}\nfunction getNodeDimensions(node) {\n    return {\n        width: node.measured?.width ?? node.width ?? node.initialWidth ?? 0,\n        height: node.measured?.height ?? node.height ?? node.initialHeight ?? 0,\n    };\n}\nfunction nodeHasDimensions(node) {\n    return ((node.measured?.width ?? node.width ?? node.initialWidth) !== undefined &&\n        (node.measured?.height ?? node.height ?? node.initialHeight) !== undefined);\n}\n/**\n * Convert child position to aboslute position\n *\n * @internal\n * @param position\n * @param parentId\n * @param nodeLookup\n * @param nodeOrigin\n * @returns an internal node with an absolute position\n */\nfunction evaluateAbsolutePosition(position, dimensions = { width: 0, height: 0 }, parentId, nodeLookup, nodeOrigin) {\n    const positionAbsolute = { ...position };\n    const parent = nodeLookup.get(parentId);\n    if (parent) {\n        const origin = parent.origin || nodeOrigin;\n        positionAbsolute.x += parent.internals.positionAbsolute.x - (dimensions.width ?? 0) * origin[0];\n        positionAbsolute.y += parent.internals.positionAbsolute.y - (dimensions.height ?? 0) * origin[1];\n    }\n    return positionAbsolute;\n}\nfunction areSetsEqual(a, b) {\n    if (a.size !== b.size) {\n        return false;\n    }\n    for (const item of a) {\n        if (!b.has(item)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Polyfill for Promise.withResolvers until we can use it in all browsers\n * @internal\n */\nfunction withResolvers() {\n    let resolve;\n    let reject;\n    const promise = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n    });\n    return { promise, resolve, reject };\n}\nfunction mergeAriaLabelConfig(partial) {\n    return { ...defaultAriaLabelConfig, ...(partial || {}) };\n}\n\nfunction getPointerPosition(event, { snapGrid = [0, 0], snapToGrid = false, transform, containerBounds }) {\n    const { x, y } = getEventPosition(event);\n    const pointerPos = pointToRendererPoint({ x: x - (containerBounds?.left ?? 0), y: y - (containerBounds?.top ?? 0) }, transform);\n    const { x: xSnapped, y: ySnapped } = snapToGrid ? snapPosition(pointerPos, snapGrid) : pointerPos;\n    // we need the snapped position in order to be able to skip unnecessary drag events\n    return {\n        xSnapped,\n        ySnapped,\n        ...pointerPos,\n    };\n}\nconst getDimensions = (node) => ({\n    width: node.offsetWidth,\n    height: node.offsetHeight,\n});\nconst getHostForElement = (element) => element?.getRootNode?.() || window?.document;\nconst inputTags = ['INPUT', 'SELECT', 'TEXTAREA'];\nfunction isInputDOMNode(event) {\n    // using composed path for handling shadow dom\n    const target = (event.composedPath?.()?.[0] || event.target);\n    if (target?.nodeType !== 1 /* Node.ELEMENT_NODE */)\n        return false;\n    const isInput = inputTags.includes(target.nodeName) || target.hasAttribute('contenteditable');\n    // when an input field is focused we don't want to trigger deletion or movement of nodes\n    return isInput || !!target.closest('.nokey');\n}\nconst isMouseEvent = (event) => 'clientX' in event;\nconst getEventPosition = (event, bounds) => {\n    const isMouse = isMouseEvent(event);\n    const evtX = isMouse ? event.clientX : event.touches?.[0].clientX;\n    const evtY = isMouse ? event.clientY : event.touches?.[0].clientY;\n    return {\n        x: evtX - (bounds?.left ?? 0),\n        y: evtY - (bounds?.top ?? 0),\n    };\n};\n/*\n * The handle bounds are calculated relative to the node element.\n * We store them in the internals object of the node in order to avoid\n * unnecessary recalculations.\n */\nconst getHandleBounds = (type, nodeElement, nodeBounds, zoom, nodeId) => {\n    const handles = nodeElement.querySelectorAll(`.${type}`);\n    if (!handles || !handles.length) {\n        return null;\n    }\n    return Array.from(handles).map((handle) => {\n        const handleBounds = handle.getBoundingClientRect();\n        return {\n            id: handle.getAttribute('data-handleid'),\n            type,\n            nodeId,\n            position: handle.getAttribute('data-handlepos'),\n            x: (handleBounds.left - nodeBounds.left) / zoom,\n            y: (handleBounds.top - nodeBounds.top) / zoom,\n            ...getDimensions(handle),\n        };\n    });\n};\n\nfunction getBezierEdgeCenter({ sourceX, sourceY, targetX, targetY, sourceControlX, sourceControlY, targetControlX, targetControlY, }) {\n    /*\n     * cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n     * https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n     */\n    const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n    const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n    const offsetX = Math.abs(centerX - sourceX);\n    const offsetY = Math.abs(centerY - sourceY);\n    return [centerX, centerY, offsetX, offsetY];\n}\nfunction calculateControlOffset(distance, curvature) {\n    if (distance >= 0) {\n        return 0.5 * distance;\n    }\n    return curvature * 25 * Math.sqrt(-distance);\n}\nfunction getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {\n    switch (pos) {\n        case Position.Left:\n            return [x1 - calculateControlOffset(x1 - x2, c), y1];\n        case Position.Right:\n            return [x1 + calculateControlOffset(x2 - x1, c), y1];\n        case Position.Top:\n            return [x1, y1 - calculateControlOffset(y1 - y2, c)];\n        case Position.Bottom:\n            return [x1, y1 + calculateControlOffset(y2 - y1, c)];\n    }\n}\n/**\n * The `getBezierPath` util returns everything you need to render a bezier edge\n *between two nodes.\n * @public\n * @returns A path string you can use in an SVG, the `labelX` and `labelY` position (center of path)\n * and `offsetX`, `offsetY` between source handle and label.\n * - `path`: the path to use in an SVG `<path>` element.\n * - `labelX`: the `x` position you can use to render a label for this edge.\n * - `labelY`: the `y` position you can use to render a label for this edge.\n * - `offsetX`: the absolute difference between the source `x` position and the `x` position of the\n * middle of this path.\n * - `offsetY`: the absolute difference between the source `y` position and the `y` position of the\n * middle of this path.\n * @example\n * ```js\n *  const source = { x: 0, y: 20 };\n *  const target = { x: 150, y: 100 };\n *\n *  const [path, labelX, labelY, offsetX, offsetY] = getBezierPath({\n *    sourceX: source.x,\n *    sourceY: source.y,\n *    sourcePosition: Position.Right,\n *    targetX: target.x,\n *    targetY: target.y,\n *    targetPosition: Position.Left,\n *});\n *```\n *\n * @remarks This function returns a tuple (aka a fixed-size array) to make it easier to\n *work with multiple edge paths at once.\n */\nfunction getBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, curvature = 0.25, }) {\n    const [sourceControlX, sourceControlY] = getControlWithCurvature({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n        c: curvature,\n    });\n    const [targetControlX, targetControlY] = getControlWithCurvature({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n        c: curvature,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\n\n// this is used for straight edges and simple smoothstep edges (LTR, RTL, BTT, TTB)\nfunction getEdgeCenter({ sourceX, sourceY, targetX, targetY, }) {\n    const xOffset = Math.abs(targetX - sourceX) / 2;\n    const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n    const yOffset = Math.abs(targetY - sourceY) / 2;\n    const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n    return [centerX, centerY, xOffset, yOffset];\n}\nfunction getElevatedEdgeZIndex({ sourceNode, targetNode, selected = false, zIndex = 0, elevateOnSelect = false, }) {\n    if (!elevateOnSelect) {\n        return zIndex;\n    }\n    const edgeOrConnectedNodeSelected = selected || targetNode.selected || sourceNode.selected;\n    const selectedZIndex = Math.max(sourceNode.internals.z || 0, targetNode.internals.z || 0, 1000);\n    return zIndex + (edgeOrConnectedNodeSelected ? selectedZIndex : 0);\n}\nfunction isEdgeVisible({ sourceNode, targetNode, width, height, transform }) {\n    const edgeBox = getBoundsOfBoxes(nodeToBox(sourceNode), nodeToBox(targetNode));\n    if (edgeBox.x === edgeBox.x2) {\n        edgeBox.x2 += 1;\n    }\n    if (edgeBox.y === edgeBox.y2) {\n        edgeBox.y2 += 1;\n    }\n    const viewRect = {\n        x: -transform[0] / transform[2],\n        y: -transform[1] / transform[2],\n        width: width / transform[2],\n        height: height / transform[2],\n    };\n    return getOverlappingArea(viewRect, boxToRect(edgeBox)) > 0;\n}\nconst getEdgeId = ({ source, sourceHandle, target, targetHandle }) => `xy-edge__${source}${sourceHandle || ''}-${target}${targetHandle || ''}`;\nconst connectionExists = (edge, edges) => {\n    return edges.some((el) => el.source === edge.source &&\n        el.target === edge.target &&\n        (el.sourceHandle === edge.sourceHandle || (!el.sourceHandle && !edge.sourceHandle)) &&\n        (el.targetHandle === edge.targetHandle || (!el.targetHandle && !edge.targetHandle)));\n};\n/**\n * This util is a convenience function to add a new Edge to an array of edges. It also performs some validation to make sure you don't add an invalid edge or duplicate an existing one.\n * @public\n * @param edgeParams - Either an `Edge` or a `Connection` you want to add.\n * @param edges - The array of all current edges.\n * @returns A new array of edges with the new edge added.\n *\n * @remarks If an edge with the same `target` and `source` already exists (and the same\n *`targetHandle` and `sourceHandle` if those are set), then this util won't add\n *a new edge even if the `id` property is different.\n *\n */\nconst addEdge = (edgeParams, edges) => {\n    if (!edgeParams.source || !edgeParams.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    let edge;\n    if (isEdgeBase(edgeParams)) {\n        edge = { ...edgeParams };\n    }\n    else {\n        edge = {\n            ...edgeParams,\n            id: getEdgeId(edgeParams),\n        };\n    }\n    if (connectionExists(edge, edges)) {\n        return edges;\n    }\n    if (edge.sourceHandle === null) {\n        delete edge.sourceHandle;\n    }\n    if (edge.targetHandle === null) {\n        delete edge.targetHandle;\n    }\n    return edges.concat(edge);\n};\n/**\n * A handy utility to update an existing [`Edge`](/api-reference/types/edge) with new properties.\n *This searches your edge array for an edge with a matching `id` and updates its\n *properties with the connection you provide.\n * @public\n * @param oldEdge - The edge you want to update.\n * @param newConnection - The new connection you want to update the edge with.\n * @param edges - The array of all current edges.\n * @returns The updated edges array.\n *\n * @example\n * ```js\n *const onReconnect = useCallback(\n *  (oldEdge: Edge, newConnection: Connection) => setEdges((els) => reconnectEdge(oldEdge, newConnection, els)),[]);\n *```\n */\nconst reconnectEdge = (oldEdge, newConnection, edges, options = { shouldReplaceId: true }) => {\n    const { id: oldEdgeId, ...rest } = oldEdge;\n    if (!newConnection.source || !newConnection.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    const foundEdge = edges.find((e) => e.id === oldEdge.id);\n    if (!foundEdge) {\n        devWarn('007', errorMessages['error007'](oldEdgeId));\n        return edges;\n    }\n    // Remove old edge and create the new edge with parameters of old edge.\n    const edge = {\n        ...rest,\n        id: options.shouldReplaceId ? getEdgeId(newConnection) : oldEdgeId,\n        source: newConnection.source,\n        target: newConnection.target,\n        sourceHandle: newConnection.sourceHandle,\n        targetHandle: newConnection.targetHandle,\n    };\n    return edges.filter((e) => e.id !== oldEdgeId).concat(edge);\n};\n\n/**\n * Calculates the straight line path between two points.\n * @public\n * @returns A path string you can use in an SVG, the `labelX` and `labelY` position (center of path)\n * and `offsetX`, `offsetY` between source handle and label.\n *\n * - `path`: the path to use in an SVG `<path>` element.\n * - `labelX`: the `x` position you can use to render a label for this edge.\n * - `labelY`: the `y` position you can use to render a label for this edge.\n * - `offsetX`: the absolute difference between the source `x` position and the `x` position of the\n * middle of this path.\n * - `offsetY`: the absolute difference between the source `y` position and the `y` position of the\n * middle of this path.\n * @example\n * ```js\n *  const source = { x: 0, y: 20 };\n *  const target = { x: 150, y: 100 };\n *\n *  const [path, labelX, labelY, offsetX, offsetY] = getStraightPath({\n *    sourceX: source.x,\n *    sourceY: source.y,\n *    sourcePosition: Position.Right,\n *    targetX: target.x,\n *    targetY: target.y,\n *    targetPosition: Position.Left,\n *  });\n * ```\n * @remarks This function returns a tuple (aka a fixed-size array) to make it easier to work with multiple edge paths at once.\n */\nfunction getStraightPath({ sourceX, sourceY, targetX, targetY, }) {\n    const [labelX, labelY, offsetX, offsetY] = getEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n    });\n    return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, labelX, labelY, offsetX, offsetY];\n}\n\nconst handleDirections = {\n    [Position.Left]: { x: -1, y: 0 },\n    [Position.Right]: { x: 1, y: 0 },\n    [Position.Top]: { x: 0, y: -1 },\n    [Position.Bottom]: { x: 0, y: 1 },\n};\nconst getDirection = ({ source, sourcePosition = Position.Bottom, target, }) => {\n    if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n        return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };\n    }\n    return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };\n};\nconst distance = (a, b) => Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\n/*\n * With this function we try to mimic an orthogonal edge routing behaviour\n * It's not as good as a real orthogonal edge routing, but it's faster and good enough as a default for step and smooth step edges\n */\nfunction getPoints({ source, sourcePosition = Position.Bottom, target, targetPosition = Position.Top, center, offset, }) {\n    const sourceDir = handleDirections[sourcePosition];\n    const targetDir = handleDirections[targetPosition];\n    const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };\n    const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };\n    const dir = getDirection({\n        source: sourceGapped,\n        sourcePosition,\n        target: targetGapped,\n    });\n    const dirAccessor = dir.x !== 0 ? 'x' : 'y';\n    const currDir = dir[dirAccessor];\n    let points = [];\n    let centerX, centerY;\n    const sourceGapOffset = { x: 0, y: 0 };\n    const targetGapOffset = { x: 0, y: 0 };\n    const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getEdgeCenter({\n        sourceX: source.x,\n        sourceY: source.y,\n        targetX: target.x,\n        targetY: target.y,\n    });\n    // opposite handle positions, default case\n    if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n        centerX = center.x ?? defaultCenterX;\n        centerY = center.y ?? defaultCenterY;\n        /*\n         *    --->\n         *    |\n         * >---\n         */\n        const verticalSplit = [\n            { x: centerX, y: sourceGapped.y },\n            { x: centerX, y: targetGapped.y },\n        ];\n        /*\n         *    |\n         *  ---\n         *  |\n         */\n        const horizontalSplit = [\n            { x: sourceGapped.x, y: centerY },\n            { x: targetGapped.x, y: centerY },\n        ];\n        if (sourceDir[dirAccessor] === currDir) {\n            points = dirAccessor === 'x' ? verticalSplit : horizontalSplit;\n        }\n        else {\n            points = dirAccessor === 'x' ? horizontalSplit : verticalSplit;\n        }\n    }\n    else {\n        // sourceTarget means we take x from source and y from target, targetSource is the opposite\n        const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];\n        const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];\n        // this handles edges with same handle positions\n        if (dirAccessor === 'x') {\n            points = sourceDir.x === currDir ? targetSource : sourceTarget;\n        }\n        else {\n            points = sourceDir.y === currDir ? sourceTarget : targetSource;\n        }\n        if (sourcePosition === targetPosition) {\n            const diff = Math.abs(source[dirAccessor] - target[dirAccessor]);\n            // if an edge goes from right to right for example (sourcePosition === targetPosition) and the distance between source.x and target.x is less than the offset, the added point and the gapped source/target will overlap. This leads to a weird edge path. To avoid this we add a gapOffset to the source/target\n            if (diff <= offset) {\n                const gapOffset = Math.min(offset - 1, offset - diff);\n                if (sourceDir[dirAccessor] === currDir) {\n                    sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;\n                }\n                else {\n                    targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;\n                }\n            }\n        }\n        // these are conditions for handling mixed handle positions like Right -> Bottom for example\n        if (sourcePosition !== targetPosition) {\n            const dirAccessorOpposite = dirAccessor === 'x' ? 'y' : 'x';\n            const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n            const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n            const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n            const flipSourceTarget = (sourceDir[dirAccessor] === 1 && ((!isSameDir && sourceGtTargetOppo) || (isSameDir && sourceLtTargetOppo))) ||\n                (sourceDir[dirAccessor] !== 1 && ((!isSameDir && sourceLtTargetOppo) || (isSameDir && sourceGtTargetOppo)));\n            if (flipSourceTarget) {\n                points = dirAccessor === 'x' ? sourceTarget : targetSource;\n            }\n        }\n        const sourceGapPoint = { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y };\n        const targetGapPoint = { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y };\n        const maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));\n        const maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));\n        // we want to place the label on the longest segment of the edge\n        if (maxXDistance >= maxYDistance) {\n            centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;\n            centerY = points[0].y;\n        }\n        else {\n            centerX = points[0].x;\n            centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;\n        }\n    }\n    const pathPoints = [\n        source,\n        { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y },\n        ...points,\n        { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y },\n        target,\n    ];\n    return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n    const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n    const { x, y } = b;\n    // no bend\n    if ((a.x === x && x === c.x) || (a.y === y && y === c.y)) {\n        return `L${x} ${y}`;\n    }\n    // first segment is horizontal\n    if (a.y === y) {\n        const xDir = a.x < c.x ? -1 : 1;\n        const yDir = a.y < c.y ? 1 : -1;\n        return `L ${x + bendSize * xDir},${y}Q ${x},${y} ${x},${y + bendSize * yDir}`;\n    }\n    const xDir = a.x < c.x ? 1 : -1;\n    const yDir = a.y < c.y ? -1 : 1;\n    return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\n/**\n * The `getSmoothStepPath` util returns everything you need to render a stepped path\n * between two nodes. The `borderRadius` property can be used to choose how rounded\n * the corners of those steps are.\n * @public\n * @returns A path string you can use in an SVG, the `labelX` and `labelY` position (center of path)\n * and `offsetX`, `offsetY` between source handle and label.\n *\n * - `path`: the path to use in an SVG `<path>` element.\n * - `labelX`: the `x` position you can use to render a label for this edge.\n * - `labelY`: the `y` position you can use to render a label for this edge.\n * - `offsetX`: the absolute difference between the source `x` position and the `x` position of the\n * middle of this path.\n * - `offsetY`: the absolute difference between the source `y` position and the `y` position of the\n * middle of this path.\n * @example\n * ```js\n *  const source = { x: 0, y: 20 };\n *  const target = { x: 150, y: 100 };\n *\n *  const [path, labelX, labelY, offsetX, offsetY] = getSmoothStepPath({\n *    sourceX: source.x,\n *    sourceY: source.y,\n *    sourcePosition: Position.Right,\n *    targetX: target.x,\n *    targetY: target.y,\n *    targetPosition: Position.Left,\n *  });\n * ```\n * @remarks This function returns a tuple (aka a fixed-size array) to make it easier to work with multiple edge paths at once.\n */\nfunction getSmoothStepPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, borderRadius = 5, centerX, centerY, offset = 20, }) {\n    const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n        source: { x: sourceX, y: sourceY },\n        sourcePosition,\n        target: { x: targetX, y: targetY },\n        targetPosition,\n        center: { x: centerX, y: centerY },\n        offset,\n    });\n    const path = points.reduce((res, p, i) => {\n        let segment = '';\n        if (i > 0 && i < points.length - 1) {\n            segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n        }\n        else {\n            segment = `${i === 0 ? 'M' : 'L'}${p.x} ${p.y}`;\n        }\n        res += segment;\n        return res;\n    }, '');\n    return [path, labelX, labelY, offsetX, offsetY];\n}\n\nfunction isNodeInitialized(node) {\n    return (node &&\n        !!(node.internals.handleBounds || node.handles?.length) &&\n        !!(node.measured.width || node.width || node.initialWidth));\n}\nfunction getEdgePosition(params) {\n    const { sourceNode, targetNode } = params;\n    if (!isNodeInitialized(sourceNode) || !isNodeInitialized(targetNode)) {\n        return null;\n    }\n    const sourceHandleBounds = sourceNode.internals.handleBounds || toHandleBounds(sourceNode.handles);\n    const targetHandleBounds = targetNode.internals.handleBounds || toHandleBounds(targetNode.handles);\n    const sourceHandle = getHandle$1(sourceHandleBounds?.source ?? [], params.sourceHandle);\n    const targetHandle = getHandle$1(\n    // when connection type is loose we can define all handles as sources and connect source -> source\n    params.connectionMode === ConnectionMode.Strict\n        ? targetHandleBounds?.target ?? []\n        : (targetHandleBounds?.target ?? []).concat(targetHandleBounds?.source ?? []), params.targetHandle);\n    if (!sourceHandle || !targetHandle) {\n        params.onError?.('008', errorMessages['error008'](!sourceHandle ? 'source' : 'target', {\n            id: params.id,\n            sourceHandle: params.sourceHandle,\n            targetHandle: params.targetHandle,\n        }));\n        return null;\n    }\n    const sourcePosition = sourceHandle?.position || Position.Bottom;\n    const targetPosition = targetHandle?.position || Position.Top;\n    const source = getHandlePosition(sourceNode, sourceHandle, sourcePosition);\n    const target = getHandlePosition(targetNode, targetHandle, targetPosition);\n    return {\n        sourceX: source.x,\n        sourceY: source.y,\n        targetX: target.x,\n        targetY: target.y,\n        sourcePosition,\n        targetPosition,\n    };\n}\nfunction toHandleBounds(handles) {\n    if (!handles) {\n        return null;\n    }\n    const source = [];\n    const target = [];\n    for (const handle of handles) {\n        handle.width = handle.width ?? 1;\n        handle.height = handle.height ?? 1;\n        if (handle.type === 'source') {\n            source.push(handle);\n        }\n        else if (handle.type === 'target') {\n            target.push(handle);\n        }\n    }\n    return {\n        source,\n        target,\n    };\n}\nfunction getHandlePosition(node, handle, fallbackPosition = Position.Left, center = false) {\n    const x = (handle?.x ?? 0) + node.internals.positionAbsolute.x;\n    const y = (handle?.y ?? 0) + node.internals.positionAbsolute.y;\n    const { width, height } = handle ?? getNodeDimensions(node);\n    if (center) {\n        return { x: x + width / 2, y: y + height / 2 };\n    }\n    const position = handle?.position ?? fallbackPosition;\n    switch (position) {\n        case Position.Top:\n            return { x: x + width / 2, y };\n        case Position.Right:\n            return { x: x + width, y: y + height / 2 };\n        case Position.Bottom:\n            return { x: x + width / 2, y: y + height };\n        case Position.Left:\n            return { x, y: y + height / 2 };\n    }\n}\nfunction getHandle$1(bounds, handleId) {\n    if (!bounds) {\n        return null;\n    }\n    // if no handleId is given, we use the first handle, otherwise we check for the id\n    return (!handleId ? bounds[0] : bounds.find((d) => d.id === handleId)) || null;\n}\n\nfunction getMarkerId(marker, id) {\n    if (!marker) {\n        return '';\n    }\n    if (typeof marker === 'string') {\n        return marker;\n    }\n    const idPrefix = id ? `${id}__` : '';\n    return `${idPrefix}${Object.keys(marker)\n        .sort()\n        .map((key) => `${key}=${marker[key]}`)\n        .join('&')}`;\n}\nfunction createMarkerIds(edges, { id, defaultColor, defaultMarkerStart, defaultMarkerEnd, }) {\n    const ids = new Set();\n    return edges\n        .reduce((markers, edge) => {\n        [edge.markerStart || defaultMarkerStart, edge.markerEnd || defaultMarkerEnd].forEach((marker) => {\n            if (marker && typeof marker === 'object') {\n                const markerId = getMarkerId(marker, id);\n                if (!ids.has(markerId)) {\n                    markers.push({ id: markerId, color: marker.color || defaultColor, ...marker });\n                    ids.add(markerId);\n                }\n            }\n        });\n        return markers;\n    }, [])\n        .sort((a, b) => a.id.localeCompare(b.id));\n}\n\nfunction getNodeToolbarTransform(nodeRect, viewport, position, offset, align) {\n    let alignmentOffset = 0.5;\n    if (align === 'start') {\n        alignmentOffset = 0;\n    }\n    else if (align === 'end') {\n        alignmentOffset = 1;\n    }\n    /*\n     * position === Position.Top\n     * we set the x any y position of the toolbar based on the nodes position\n     */\n    let pos = [\n        (nodeRect.x + nodeRect.width * alignmentOffset) * viewport.zoom + viewport.x,\n        nodeRect.y * viewport.zoom + viewport.y - offset,\n    ];\n    // and than shift it based on the alignment. The shift values are in %.\n    let shift = [-100 * alignmentOffset, -100];\n    switch (position) {\n        case Position.Right:\n            pos = [\n                (nodeRect.x + nodeRect.width) * viewport.zoom + viewport.x + offset,\n                (nodeRect.y + nodeRect.height * alignmentOffset) * viewport.zoom + viewport.y,\n            ];\n            shift = [0, -100 * alignmentOffset];\n            break;\n        case Position.Bottom:\n            pos[1] = (nodeRect.y + nodeRect.height) * viewport.zoom + viewport.y + offset;\n            shift[1] = 0;\n            break;\n        case Position.Left:\n            pos = [\n                nodeRect.x * viewport.zoom + viewport.x - offset,\n                (nodeRect.y + nodeRect.height * alignmentOffset) * viewport.zoom + viewport.y,\n            ];\n            shift = [-100, -100 * alignmentOffset];\n            break;\n    }\n    return `translate(${pos[0]}px, ${pos[1]}px) translate(${shift[0]}%, ${shift[1]}%)`;\n}\n\nconst defaultOptions = {\n    nodeOrigin: [0, 0],\n    nodeExtent: infiniteExtent,\n    elevateNodesOnSelect: true,\n    defaults: {},\n};\nconst adoptUserNodesDefaultOptions = {\n    ...defaultOptions,\n    checkEquality: true,\n};\nfunction mergeObjects(base, incoming) {\n    const result = { ...base };\n    for (const key in incoming) {\n        if (incoming[key] !== undefined) {\n            // typecast is safe here, because we check for undefined\n            result[key] = incoming[key];\n        }\n    }\n    return result;\n}\nfunction updateAbsolutePositions(nodeLookup, parentLookup, options) {\n    const _options = mergeObjects(defaultOptions, options);\n    for (const node of nodeLookup.values()) {\n        if (node.parentId) {\n            updateChildNode(node, nodeLookup, parentLookup, _options);\n        }\n        else {\n            const positionWithOrigin = getNodePositionWithOrigin(node, _options.nodeOrigin);\n            const extent = isCoordinateExtent(node.extent) ? node.extent : _options.nodeExtent;\n            const clampedPosition = clampPosition(positionWithOrigin, extent, getNodeDimensions(node));\n            node.internals.positionAbsolute = clampedPosition;\n        }\n    }\n}\nfunction adoptUserNodes(nodes, nodeLookup, parentLookup, options) {\n    const _options = mergeObjects(adoptUserNodesDefaultOptions, options);\n    let nodesInitialized = nodes.length > 0;\n    const tmpLookup = new Map(nodeLookup);\n    const selectedNodeZ = _options?.elevateNodesOnSelect ? 1000 : 0;\n    nodeLookup.clear();\n    parentLookup.clear();\n    for (const userNode of nodes) {\n        let internalNode = tmpLookup.get(userNode.id);\n        if (_options.checkEquality && userNode === internalNode?.internals.userNode) {\n            nodeLookup.set(userNode.id, internalNode);\n        }\n        else {\n            const positionWithOrigin = getNodePositionWithOrigin(userNode, _options.nodeOrigin);\n            const extent = isCoordinateExtent(userNode.extent) ? userNode.extent : _options.nodeExtent;\n            const clampedPosition = clampPosition(positionWithOrigin, extent, getNodeDimensions(userNode));\n            internalNode = {\n                ..._options.defaults,\n                ...userNode,\n                measured: {\n                    width: userNode.measured?.width,\n                    height: userNode.measured?.height,\n                },\n                internals: {\n                    positionAbsolute: clampedPosition,\n                    // if user re-initializes the node or removes `measured` for whatever reason, we reset the handleBounds so that the node gets re-measured\n                    handleBounds: !userNode.measured ? undefined : internalNode?.internals.handleBounds,\n                    z: calculateZ(userNode, selectedNodeZ),\n                    userNode,\n                },\n            };\n            nodeLookup.set(userNode.id, internalNode);\n        }\n        if ((internalNode.measured === undefined ||\n            internalNode.measured.width === undefined ||\n            internalNode.measured.height === undefined) &&\n            !internalNode.hidden) {\n            nodesInitialized = false;\n        }\n        if (userNode.parentId) {\n            updateChildNode(internalNode, nodeLookup, parentLookup, options);\n        }\n    }\n    return nodesInitialized;\n}\nfunction updateParentLookup(node, parentLookup) {\n    if (!node.parentId) {\n        return;\n    }\n    const childNodes = parentLookup.get(node.parentId);\n    if (childNodes) {\n        childNodes.set(node.id, node);\n    }\n    else {\n        parentLookup.set(node.parentId, new Map([[node.id, node]]));\n    }\n}\n/**\n * Updates positionAbsolute and zIndex of a child node and the parentLookup.\n */\nfunction updateChildNode(node, nodeLookup, parentLookup, options) {\n    const { elevateNodesOnSelect, nodeOrigin, nodeExtent } = mergeObjects(defaultOptions, options);\n    const parentId = node.parentId;\n    const parentNode = nodeLookup.get(parentId);\n    if (!parentNode) {\n        console.warn(`Parent node ${parentId} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);\n        return;\n    }\n    updateParentLookup(node, parentLookup);\n    const selectedNodeZ = elevateNodesOnSelect ? 1000 : 0;\n    const { x, y, z } = calculateChildXYZ(node, parentNode, nodeOrigin, nodeExtent, selectedNodeZ);\n    const { positionAbsolute } = node.internals;\n    const positionChanged = x !== positionAbsolute.x || y !== positionAbsolute.y;\n    if (positionChanged || z !== node.internals.z) {\n        // we create a new object to mark the node as updated\n        nodeLookup.set(node.id, {\n            ...node,\n            internals: {\n                ...node.internals,\n                positionAbsolute: positionChanged ? { x, y } : positionAbsolute,\n                z,\n            },\n        });\n    }\n}\nfunction calculateZ(node, selectedNodeZ) {\n    return (isNumeric(node.zIndex) ? node.zIndex : 0) + (node.selected ? selectedNodeZ : 0);\n}\nfunction calculateChildXYZ(childNode, parentNode, nodeOrigin, nodeExtent, selectedNodeZ) {\n    const { x: parentX, y: parentY } = parentNode.internals.positionAbsolute;\n    const childDimensions = getNodeDimensions(childNode);\n    const positionWithOrigin = getNodePositionWithOrigin(childNode, nodeOrigin);\n    const clampedPosition = isCoordinateExtent(childNode.extent)\n        ? clampPosition(positionWithOrigin, childNode.extent, childDimensions)\n        : positionWithOrigin;\n    let absolutePosition = clampPosition({ x: parentX + clampedPosition.x, y: parentY + clampedPosition.y }, nodeExtent, childDimensions);\n    if (childNode.extent === 'parent') {\n        absolutePosition = clampPositionToParent(absolutePosition, childDimensions, parentNode);\n    }\n    const childZ = calculateZ(childNode, selectedNodeZ);\n    const parentZ = parentNode.internals.z ?? 0;\n    return {\n        x: absolutePosition.x,\n        y: absolutePosition.y,\n        z: parentZ > childZ ? parentZ : childZ,\n    };\n}\nfunction handleExpandParent(children, nodeLookup, parentLookup, nodeOrigin = [0, 0]) {\n    const changes = [];\n    const parentExpansions = new Map();\n    // determine the expanded rectangle the child nodes would take for each parent\n    for (const child of children) {\n        const parent = nodeLookup.get(child.parentId);\n        if (!parent) {\n            continue;\n        }\n        const parentRect = parentExpansions.get(child.parentId)?.expandedRect ?? nodeToRect(parent);\n        const expandedRect = getBoundsOfRects(parentRect, child.rect);\n        parentExpansions.set(child.parentId, { expandedRect, parent });\n    }\n    if (parentExpansions.size > 0) {\n        parentExpansions.forEach(({ expandedRect, parent }, parentId) => {\n            // determine the position & dimensions of the parent\n            const positionAbsolute = parent.internals.positionAbsolute;\n            const dimensions = getNodeDimensions(parent);\n            const origin = parent.origin ?? nodeOrigin;\n            // determine how much the parent expands in width and position\n            const xChange = expandedRect.x < positionAbsolute.x ? Math.round(Math.abs(positionAbsolute.x - expandedRect.x)) : 0;\n            const yChange = expandedRect.y < positionAbsolute.y ? Math.round(Math.abs(positionAbsolute.y - expandedRect.y)) : 0;\n            const newWidth = Math.max(dimensions.width, Math.round(expandedRect.width));\n            const newHeight = Math.max(dimensions.height, Math.round(expandedRect.height));\n            const widthChange = (newWidth - dimensions.width) * origin[0];\n            const heightChange = (newHeight - dimensions.height) * origin[1];\n            // We need to correct the position of the parent node if the origin is not [0,0]\n            if (xChange > 0 || yChange > 0 || widthChange || heightChange) {\n                changes.push({\n                    id: parentId,\n                    type: 'position',\n                    position: {\n                        x: parent.position.x - xChange + widthChange,\n                        y: parent.position.y - yChange + heightChange,\n                    },\n                });\n                /*\n                 * We move all child nodes in the oppsite direction\n                 * so the x,y changes of the parent do not move the children\n                 */\n                parentLookup.get(parentId)?.forEach((childNode) => {\n                    if (!children.some((child) => child.id === childNode.id)) {\n                        changes.push({\n                            id: childNode.id,\n                            type: 'position',\n                            position: {\n                                x: childNode.position.x + xChange,\n                                y: childNode.position.y + yChange,\n                            },\n                        });\n                    }\n                });\n            }\n            // We need to correct the dimensions of the parent node if the origin is not [0,0]\n            if (dimensions.width < expandedRect.width || dimensions.height < expandedRect.height || xChange || yChange) {\n                changes.push({\n                    id: parentId,\n                    type: 'dimensions',\n                    setAttributes: true,\n                    dimensions: {\n                        width: newWidth + (xChange ? origin[0] * xChange - widthChange : 0),\n                        height: newHeight + (yChange ? origin[1] * yChange - heightChange : 0),\n                    },\n                });\n            }\n        });\n    }\n    return changes;\n}\nfunction updateNodeInternals(updates, nodeLookup, parentLookup, domNode, nodeOrigin, nodeExtent) {\n    const viewportNode = domNode?.querySelector('.xyflow__viewport');\n    let updatedInternals = false;\n    if (!viewportNode) {\n        return { changes: [], updatedInternals };\n    }\n    const changes = [];\n    const style = window.getComputedStyle(viewportNode);\n    const { m22: zoom } = new window.DOMMatrixReadOnly(style.transform);\n    // in this array we collect nodes, that might trigger changes (like expanding parent)\n    const parentExpandChildren = [];\n    for (const update of updates.values()) {\n        const node = nodeLookup.get(update.id);\n        if (!node) {\n            continue;\n        }\n        if (node.hidden) {\n            nodeLookup.set(node.id, {\n                ...node,\n                internals: {\n                    ...node.internals,\n                    handleBounds: undefined,\n                },\n            });\n            updatedInternals = true;\n            continue;\n        }\n        const dimensions = getDimensions(update.nodeElement);\n        const dimensionChanged = node.measured.width !== dimensions.width || node.measured.height !== dimensions.height;\n        const doUpdate = !!(dimensions.width &&\n            dimensions.height &&\n            (dimensionChanged || !node.internals.handleBounds || update.force));\n        if (doUpdate) {\n            const nodeBounds = update.nodeElement.getBoundingClientRect();\n            const extent = isCoordinateExtent(node.extent) ? node.extent : nodeExtent;\n            let { positionAbsolute } = node.internals;\n            if (node.parentId && node.extent === 'parent') {\n                positionAbsolute = clampPositionToParent(positionAbsolute, dimensions, nodeLookup.get(node.parentId));\n            }\n            else if (extent) {\n                positionAbsolute = clampPosition(positionAbsolute, extent, dimensions);\n            }\n            const newNode = {\n                ...node,\n                measured: dimensions,\n                internals: {\n                    ...node.internals,\n                    positionAbsolute,\n                    handleBounds: {\n                        source: getHandleBounds('source', update.nodeElement, nodeBounds, zoom, node.id),\n                        target: getHandleBounds('target', update.nodeElement, nodeBounds, zoom, node.id),\n                    },\n                },\n            };\n            nodeLookup.set(node.id, newNode);\n            if (node.parentId) {\n                updateChildNode(newNode, nodeLookup, parentLookup, { nodeOrigin });\n            }\n            updatedInternals = true;\n            if (dimensionChanged) {\n                changes.push({\n                    id: node.id,\n                    type: 'dimensions',\n                    dimensions,\n                });\n                if (node.expandParent && node.parentId) {\n                    parentExpandChildren.push({\n                        id: node.id,\n                        parentId: node.parentId,\n                        rect: nodeToRect(newNode, nodeOrigin),\n                    });\n                }\n            }\n        }\n    }\n    if (parentExpandChildren.length > 0) {\n        const parentExpandChanges = handleExpandParent(parentExpandChildren, nodeLookup, parentLookup, nodeOrigin);\n        changes.push(...parentExpandChanges);\n    }\n    return { changes, updatedInternals };\n}\nasync function panBy({ delta, panZoom, transform, translateExtent, width, height, }) {\n    if (!panZoom || (!delta.x && !delta.y)) {\n        return Promise.resolve(false);\n    }\n    const nextViewport = await panZoom.setViewportConstrained({\n        x: transform[0] + delta.x,\n        y: transform[1] + delta.y,\n        zoom: transform[2],\n    }, [\n        [0, 0],\n        [width, height],\n    ], translateExtent);\n    const transformChanged = !!nextViewport &&\n        (nextViewport.x !== transform[0] || nextViewport.y !== transform[1] || nextViewport.k !== transform[2]);\n    return Promise.resolve(transformChanged);\n}\n/**\n * this function adds the connection to the connectionLookup\n * at the following keys: nodeId-type-handleId, nodeId-type and nodeId\n * @param type type of the connection\n * @param connection connection that should be added to the lookup\n * @param connectionKey at which key the connection should be added\n * @param connectionLookup reference to the connection lookup\n * @param nodeId nodeId of the connection\n * @param handleId handleId of the conneciton\n */\nfunction addConnectionToLookup(type, connection, connectionKey, connectionLookup, nodeId, handleId) {\n    /*\n     * We add the connection to the connectionLookup at the following keys\n     * 1. nodeId, 2. nodeId-type, 3. nodeId-type-handleId\n     * If the key already exists, we add the connection to the existing map\n     */\n    let key = nodeId;\n    const nodeMap = connectionLookup.get(key) || new Map();\n    connectionLookup.set(key, nodeMap.set(connectionKey, connection));\n    key = `${nodeId}-${type}`;\n    const typeMap = connectionLookup.get(key) || new Map();\n    connectionLookup.set(key, typeMap.set(connectionKey, connection));\n    if (handleId) {\n        key = `${nodeId}-${type}-${handleId}`;\n        const handleMap = connectionLookup.get(key) || new Map();\n        connectionLookup.set(key, handleMap.set(connectionKey, connection));\n    }\n}\nfunction updateConnectionLookup(connectionLookup, edgeLookup, edges) {\n    connectionLookup.clear();\n    edgeLookup.clear();\n    for (const edge of edges) {\n        const { source: sourceNode, target: targetNode, sourceHandle = null, targetHandle = null } = edge;\n        const connection = { edgeId: edge.id, source: sourceNode, target: targetNode, sourceHandle, targetHandle };\n        const sourceKey = `${sourceNode}-${sourceHandle}--${targetNode}-${targetHandle}`;\n        const targetKey = `${targetNode}-${targetHandle}--${sourceNode}-${sourceHandle}`;\n        addConnectionToLookup('source', connection, targetKey, connectionLookup, sourceNode, sourceHandle);\n        addConnectionToLookup('target', connection, sourceKey, connectionLookup, targetNode, targetHandle);\n        edgeLookup.set(edge.id, edge);\n    }\n}\n\nfunction shallowNodeData(a, b) {\n    if (a === null || b === null) {\n        return false;\n    }\n    const _a = Array.isArray(a) ? a : [a];\n    const _b = Array.isArray(b) ? b : [b];\n    if (_a.length !== _b.length) {\n        return false;\n    }\n    for (let i = 0; i < _a.length; i++) {\n        if (_a[i].id !== _b[i].id || _a[i].type !== _b[i].type || !Object.is(_a[i].data, _b[i].data)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction isParentSelected(node, nodeLookup) {\n    if (!node.parentId) {\n        return false;\n    }\n    const parentNode = nodeLookup.get(node.parentId);\n    if (!parentNode) {\n        return false;\n    }\n    if (parentNode.selected) {\n        return true;\n    }\n    return isParentSelected(parentNode, nodeLookup);\n}\nfunction hasSelector(target, selector, domNode) {\n    let current = target;\n    do {\n        if (current?.matches?.(selector))\n            return true;\n        if (current === domNode)\n            return false;\n        current = current?.parentElement;\n    } while (current);\n    return false;\n}\n// looks for all selected nodes and created a NodeDragItem for each of them\nfunction getDragItems(nodeLookup, nodesDraggable, mousePos, nodeId) {\n    const dragItems = new Map();\n    for (const [id, node] of nodeLookup) {\n        if ((node.selected || node.id === nodeId) &&\n            (!node.parentId || !isParentSelected(node, nodeLookup)) &&\n            (node.draggable || (nodesDraggable && typeof node.draggable === 'undefined'))) {\n            const internalNode = nodeLookup.get(id);\n            if (internalNode) {\n                dragItems.set(id, {\n                    id,\n                    position: internalNode.position || { x: 0, y: 0 },\n                    distance: {\n                        x: mousePos.x - internalNode.internals.positionAbsolute.x,\n                        y: mousePos.y - internalNode.internals.positionAbsolute.y,\n                    },\n                    extent: internalNode.extent,\n                    parentId: internalNode.parentId,\n                    origin: internalNode.origin,\n                    expandParent: internalNode.expandParent,\n                    internals: {\n                        positionAbsolute: internalNode.internals.positionAbsolute || { x: 0, y: 0 },\n                    },\n                    measured: {\n                        width: internalNode.measured.width ?? 0,\n                        height: internalNode.measured.height ?? 0,\n                    },\n                });\n            }\n        }\n    }\n    return dragItems;\n}\n/*\n * returns two params:\n * 1. the dragged node (or the first of the list, if we are dragging a node selection)\n * 2. array of selected nodes (for multi selections)\n */\nfunction getEventHandlerParams({ nodeId, dragItems, nodeLookup, dragging = true, }) {\n    const nodesFromDragItems = [];\n    for (const [id, dragItem] of dragItems) {\n        const node = nodeLookup.get(id)?.internals.userNode;\n        if (node) {\n            nodesFromDragItems.push({\n                ...node,\n                position: dragItem.position,\n                dragging,\n            });\n        }\n    }\n    if (!nodeId) {\n        return [nodesFromDragItems[0], nodesFromDragItems];\n    }\n    const node = nodeLookup.get(nodeId)?.internals.userNode;\n    return [\n        !node\n            ? nodesFromDragItems[0]\n            : {\n                ...node,\n                position: dragItems.get(nodeId)?.position || node.position,\n                dragging,\n            },\n        nodesFromDragItems,\n    ];\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction XYDrag({ onNodeMouseDown, getStoreItems, onDragStart, onDrag, onDragStop, }) {\n    let lastPos = { x: null, y: null };\n    let autoPanId = 0;\n    let dragItems = new Map();\n    let autoPanStarted = false;\n    let mousePosition = { x: 0, y: 0 };\n    let containerBounds = null;\n    let dragStarted = false;\n    let d3Selection = null;\n    let abortDrag = false; // prevents unintentional dragging on multitouch\n    // public functions\n    function update({ noDragClassName, handleSelector, domNode, isSelectable, nodeId, nodeClickDistance = 0, }) {\n        d3Selection = select(domNode);\n        function updateNodes({ x, y }, dragEvent) {\n            const { nodeLookup, nodeExtent, snapGrid, snapToGrid, nodeOrigin, onNodeDrag, onSelectionDrag, onError, updateNodePositions, } = getStoreItems();\n            lastPos = { x, y };\n            let hasChange = false;\n            let nodesBox = { x: 0, y: 0, x2: 0, y2: 0 };\n            if (dragItems.size > 1 && nodeExtent) {\n                const rect = getInternalNodesBounds(dragItems);\n                nodesBox = rectToBox(rect);\n            }\n            for (const [id, dragItem] of dragItems) {\n                if (!nodeLookup.has(id)) {\n                    /*\n                     * if the node is not in the nodeLookup anymore, it was probably deleted while dragging\n                     * and we don't need to update it anymore\n                     */\n                    continue;\n                }\n                let nextPosition = { x: x - dragItem.distance.x, y: y - dragItem.distance.y };\n                if (snapToGrid) {\n                    nextPosition = snapPosition(nextPosition, snapGrid);\n                }\n                /*\n                 * if there is selection with multiple nodes and a node extent is set, we need to adjust the node extent for each node\n                 * based on its position so that the node stays at it's position relative to the selection.\n                 */\n                let adjustedNodeExtent = [\n                    [nodeExtent[0][0], nodeExtent[0][1]],\n                    [nodeExtent[1][0], nodeExtent[1][1]],\n                ];\n                if (dragItems.size > 1 && nodeExtent && !dragItem.extent) {\n                    const { positionAbsolute } = dragItem.internals;\n                    const x1 = positionAbsolute.x - nodesBox.x + nodeExtent[0][0];\n                    const x2 = positionAbsolute.x + dragItem.measured.width - nodesBox.x2 + nodeExtent[1][0];\n                    const y1 = positionAbsolute.y - nodesBox.y + nodeExtent[0][1];\n                    const y2 = positionAbsolute.y + dragItem.measured.height - nodesBox.y2 + nodeExtent[1][1];\n                    adjustedNodeExtent = [\n                        [x1, y1],\n                        [x2, y2],\n                    ];\n                }\n                const { position, positionAbsolute } = calculateNodePosition({\n                    nodeId: id,\n                    nextPosition,\n                    nodeLookup,\n                    nodeExtent: adjustedNodeExtent,\n                    nodeOrigin,\n                    onError,\n                });\n                // we want to make sure that we only fire a change event when there is a change\n                hasChange = hasChange || dragItem.position.x !== position.x || dragItem.position.y !== position.y;\n                dragItem.position = position;\n                dragItem.internals.positionAbsolute = positionAbsolute;\n            }\n            if (!hasChange) {\n                return;\n            }\n            updateNodePositions(dragItems, true);\n            if (dragEvent && (onDrag || onNodeDrag || (!nodeId && onSelectionDrag))) {\n                const [currentNode, currentNodes] = getEventHandlerParams({\n                    nodeId,\n                    dragItems,\n                    nodeLookup,\n                });\n                onDrag?.(dragEvent, dragItems, currentNode, currentNodes);\n                onNodeDrag?.(dragEvent, currentNode, currentNodes);\n                if (!nodeId) {\n                    onSelectionDrag?.(dragEvent, currentNodes);\n                }\n            }\n        }\n        async function autoPan() {\n            if (!containerBounds) {\n                return;\n            }\n            const { transform, panBy, autoPanSpeed, autoPanOnNodeDrag } = getStoreItems();\n            if (!autoPanOnNodeDrag) {\n                autoPanStarted = false;\n                cancelAnimationFrame(autoPanId);\n                return;\n            }\n            const [xMovement, yMovement] = calcAutoPan(mousePosition, containerBounds, autoPanSpeed);\n            if (xMovement !== 0 || yMovement !== 0) {\n                lastPos.x = (lastPos.x ?? 0) - xMovement / transform[2];\n                lastPos.y = (lastPos.y ?? 0) - yMovement / transform[2];\n                if (await panBy({ x: xMovement, y: yMovement })) {\n                    updateNodes(lastPos, null);\n                }\n            }\n            autoPanId = requestAnimationFrame(autoPan);\n        }\n        function startDrag(event) {\n            const { nodeLookup, multiSelectionActive, nodesDraggable, transform, snapGrid, snapToGrid, selectNodesOnDrag, onNodeDragStart, onSelectionDragStart, unselectNodesAndEdges, } = getStoreItems();\n            dragStarted = true;\n            if ((!selectNodesOnDrag || !isSelectable) && !multiSelectionActive && nodeId) {\n                if (!nodeLookup.get(nodeId)?.selected) {\n                    // we need to reset selected nodes when selectNodesOnDrag=false\n                    unselectNodesAndEdges();\n                }\n            }\n            if (isSelectable && selectNodesOnDrag && nodeId) {\n                onNodeMouseDown?.(nodeId);\n            }\n            const pointerPos = getPointerPosition(event.sourceEvent, { transform, snapGrid, snapToGrid, containerBounds });\n            lastPos = pointerPos;\n            dragItems = getDragItems(nodeLookup, nodesDraggable, pointerPos, nodeId);\n            if (dragItems.size > 0 && (onDragStart || onNodeDragStart || (!nodeId && onSelectionDragStart))) {\n                const [currentNode, currentNodes] = getEventHandlerParams({\n                    nodeId,\n                    dragItems,\n                    nodeLookup,\n                });\n                onDragStart?.(event.sourceEvent, dragItems, currentNode, currentNodes);\n                onNodeDragStart?.(event.sourceEvent, currentNode, currentNodes);\n                if (!nodeId) {\n                    onSelectionDragStart?.(event.sourceEvent, currentNodes);\n                }\n            }\n        }\n        const d3DragInstance = drag()\n            .clickDistance(nodeClickDistance)\n            .on('start', (event) => {\n            const { domNode, nodeDragThreshold, transform, snapGrid, snapToGrid } = getStoreItems();\n            containerBounds = domNode?.getBoundingClientRect() || null;\n            abortDrag = false;\n            if (nodeDragThreshold === 0) {\n                startDrag(event);\n            }\n            const pointerPos = getPointerPosition(event.sourceEvent, { transform, snapGrid, snapToGrid, containerBounds });\n            lastPos = pointerPos;\n            mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n        })\n            .on('drag', (event) => {\n            const { autoPanOnNodeDrag, transform, snapGrid, snapToGrid, nodeDragThreshold, nodeLookup } = getStoreItems();\n            const pointerPos = getPointerPosition(event.sourceEvent, { transform, snapGrid, snapToGrid, containerBounds });\n            if ((event.sourceEvent.type === 'touchmove' && event.sourceEvent.touches.length > 1) ||\n                // if user deletes a node while dragging, we need to abort the drag to prevent errors\n                (nodeId && !nodeLookup.has(nodeId))) {\n                abortDrag = true;\n            }\n            if (abortDrag) {\n                return;\n            }\n            if (!autoPanStarted && autoPanOnNodeDrag && dragStarted) {\n                autoPanStarted = true;\n                autoPan();\n            }\n            if (!dragStarted) {\n                const x = pointerPos.xSnapped - (lastPos.x ?? 0);\n                const y = pointerPos.ySnapped - (lastPos.y ?? 0);\n                const distance = Math.sqrt(x * x + y * y);\n                if (distance > nodeDragThreshold) {\n                    startDrag(event);\n                }\n            }\n            // skip events without movement\n            if ((lastPos.x !== pointerPos.xSnapped || lastPos.y !== pointerPos.ySnapped) && dragItems && dragStarted) {\n                // dragEvent = event.sourceEvent as MouseEvent;\n                mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n                updateNodes(pointerPos, event.sourceEvent);\n            }\n        })\n            .on('end', (event) => {\n            if (!dragStarted || abortDrag) {\n                return;\n            }\n            autoPanStarted = false;\n            dragStarted = false;\n            cancelAnimationFrame(autoPanId);\n            if (dragItems.size > 0) {\n                const { nodeLookup, updateNodePositions, onNodeDragStop, onSelectionDragStop } = getStoreItems();\n                updateNodePositions(dragItems, false);\n                if (onDragStop || onNodeDragStop || (!nodeId && onSelectionDragStop)) {\n                    const [currentNode, currentNodes] = getEventHandlerParams({\n                        nodeId,\n                        dragItems,\n                        nodeLookup,\n                        dragging: false,\n                    });\n                    onDragStop?.(event.sourceEvent, dragItems, currentNode, currentNodes);\n                    onNodeDragStop?.(event.sourceEvent, currentNode, currentNodes);\n                    if (!nodeId) {\n                        onSelectionDragStop?.(event.sourceEvent, currentNodes);\n                    }\n                }\n            }\n        })\n            .filter((event) => {\n            const target = event.target;\n            const isDraggable = !event.button &&\n                (!noDragClassName || !hasSelector(target, `.${noDragClassName}`, domNode)) &&\n                (!handleSelector || hasSelector(target, handleSelector, domNode));\n            return isDraggable;\n        });\n        d3Selection.call(d3DragInstance);\n    }\n    function destroy() {\n        d3Selection?.on('.drag', null);\n    }\n    return {\n        update,\n        destroy,\n    };\n}\n\nfunction getNodesWithinDistance(position, nodeLookup, distance) {\n    const nodes = [];\n    const rect = {\n        x: position.x - distance,\n        y: position.y - distance,\n        width: distance * 2,\n        height: distance * 2,\n    };\n    for (const node of nodeLookup.values()) {\n        if (getOverlappingArea(rect, nodeToRect(node)) > 0) {\n            nodes.push(node);\n        }\n    }\n    return nodes;\n}\n/*\n * this distance is used for the area around the user pointer\n * while doing a connection for finding the closest nodes\n */\nconst ADDITIONAL_DISTANCE = 250;\nfunction getClosestHandle(position, connectionRadius, nodeLookup, fromHandle) {\n    let closestHandles = [];\n    let minDistance = Infinity;\n    const closeNodes = getNodesWithinDistance(position, nodeLookup, connectionRadius + ADDITIONAL_DISTANCE);\n    for (const node of closeNodes) {\n        const allHandles = [...(node.internals.handleBounds?.source ?? []), ...(node.internals.handleBounds?.target ?? [])];\n        for (const handle of allHandles) {\n            // if the handle is the same as the fromHandle we skip it\n            if (fromHandle.nodeId === handle.nodeId && fromHandle.type === handle.type && fromHandle.id === handle.id) {\n                continue;\n            }\n            // determine absolute position of the handle\n            const { x, y } = getHandlePosition(node, handle, handle.position, true);\n            const distance = Math.sqrt(Math.pow(x - position.x, 2) + Math.pow(y - position.y, 2));\n            if (distance > connectionRadius) {\n                continue;\n            }\n            if (distance < minDistance) {\n                closestHandles = [{ ...handle, x, y }];\n                minDistance = distance;\n            }\n            else if (distance === minDistance) {\n                // when multiple handles are on the same distance we collect all of them\n                closestHandles.push({ ...handle, x, y });\n            }\n        }\n    }\n    if (!closestHandles.length) {\n        return null;\n    }\n    // when multiple handles overlay each other we prefer the opposite handle\n    if (closestHandles.length > 1) {\n        const oppositeHandleType = fromHandle.type === 'source' ? 'target' : 'source';\n        return closestHandles.find((handle) => handle.type === oppositeHandleType) ?? closestHandles[0];\n    }\n    return closestHandles[0];\n}\nfunction getHandle(nodeId, handleType, handleId, nodeLookup, connectionMode, withAbsolutePosition = false) {\n    const node = nodeLookup.get(nodeId);\n    if (!node) {\n        return null;\n    }\n    const handles = connectionMode === 'strict'\n        ? node.internals.handleBounds?.[handleType]\n        : [...(node.internals.handleBounds?.source ?? []), ...(node.internals.handleBounds?.target ?? [])];\n    const handle = (handleId ? handles?.find((h) => h.id === handleId) : handles?.[0]) ?? null;\n    return handle && withAbsolutePosition\n        ? { ...handle, ...getHandlePosition(node, handle, handle.position, true) }\n        : handle;\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n    if (edgeUpdaterType) {\n        return edgeUpdaterType;\n    }\n    else if (handleDomNode?.classList.contains('target')) {\n        return 'target';\n    }\n    else if (handleDomNode?.classList.contains('source')) {\n        return 'source';\n    }\n    return null;\n}\nfunction isConnectionValid(isInsideConnectionRadius, isHandleValid) {\n    let isValid = null;\n    if (isHandleValid) {\n        isValid = true;\n    }\n    else if (isInsideConnectionRadius && !isHandleValid) {\n        isValid = false;\n    }\n    return isValid;\n}\n\nconst alwaysValid = () => true;\nfunction onPointerDown(event, { connectionMode, connectionRadius, handleId, nodeId, edgeUpdaterType, isTarget, domNode, nodeLookup, lib, autoPanOnConnect, flowId, panBy, cancelConnection, onConnectStart, onConnect, onConnectEnd, isValidConnection = alwaysValid, onReconnectEnd, updateConnection, getTransform, getFromHandle, autoPanSpeed, }) {\n    // when xyflow is used inside a shadow root we can't use document\n    const doc = getHostForElement(event.target);\n    let autoPanId = 0;\n    let closestHandle;\n    const { x, y } = getEventPosition(event);\n    const clickedHandle = doc?.elementFromPoint(x, y);\n    const handleType = getHandleType(edgeUpdaterType, clickedHandle);\n    const containerBounds = domNode?.getBoundingClientRect();\n    if (!containerBounds || !handleType) {\n        return;\n    }\n    const fromHandleInternal = getHandle(nodeId, handleType, handleId, nodeLookup, connectionMode);\n    if (!fromHandleInternal) {\n        return;\n    }\n    let position = getEventPosition(event, containerBounds);\n    let autoPanStarted = false;\n    let connection = null;\n    let isValid = false;\n    let handleDomNode = null;\n    // when the user is moving the mouse close to the edge of the canvas while connecting we move the canvas\n    function autoPan() {\n        if (!autoPanOnConnect || !containerBounds) {\n            return;\n        }\n        const [x, y] = calcAutoPan(position, containerBounds, autoPanSpeed);\n        panBy({ x, y });\n        autoPanId = requestAnimationFrame(autoPan);\n    }\n    // Stays the same for all consecutive pointermove events\n    const fromHandle = {\n        ...fromHandleInternal,\n        nodeId,\n        type: handleType,\n        position: fromHandleInternal.position,\n    };\n    const fromNodeInternal = nodeLookup.get(nodeId);\n    const from = getHandlePosition(fromNodeInternal, fromHandle, Position.Left, true);\n    const newConnection = {\n        inProgress: true,\n        isValid: null,\n        from,\n        fromHandle,\n        fromPosition: fromHandle.position,\n        fromNode: fromNodeInternal,\n        to: position,\n        toHandle: null,\n        toPosition: oppositePosition[fromHandle.position],\n        toNode: null,\n    };\n    updateConnection(newConnection);\n    let previousConnection = newConnection;\n    onConnectStart?.(event, { nodeId, handleId, handleType });\n    function onPointerMove(event) {\n        if (!getFromHandle() || !fromHandle) {\n            onPointerUp(event);\n            return;\n        }\n        const transform = getTransform();\n        position = getEventPosition(event, containerBounds);\n        closestHandle = getClosestHandle(pointToRendererPoint(position, transform, false, [1, 1]), connectionRadius, nodeLookup, fromHandle);\n        if (!autoPanStarted) {\n            autoPan();\n            autoPanStarted = true;\n        }\n        const result = isValidHandle(event, {\n            handle: closestHandle,\n            connectionMode,\n            fromNodeId: nodeId,\n            fromHandleId: handleId,\n            fromType: isTarget ? 'target' : 'source',\n            isValidConnection,\n            doc,\n            lib,\n            flowId,\n            nodeLookup,\n        });\n        handleDomNode = result.handleDomNode;\n        connection = result.connection;\n        isValid = isConnectionValid(!!closestHandle, result.isValid);\n        const newConnection = {\n            // from stays the same\n            ...previousConnection,\n            isValid,\n            to: result.toHandle && isValid\n                ? rendererPointToPoint({ x: result.toHandle.x, y: result.toHandle.y }, transform)\n                : position,\n            toHandle: result.toHandle,\n            toPosition: isValid && result.toHandle ? result.toHandle.position : oppositePosition[fromHandle.position],\n            toNode: result.toHandle ? nodeLookup.get(result.toHandle.nodeId) : null,\n        };\n        /*\n         * we don't want to trigger an update when the connection\n         * is snapped to the same handle as before\n         */\n        if (isValid &&\n            closestHandle &&\n            previousConnection.toHandle &&\n            newConnection.toHandle &&\n            previousConnection.toHandle.type === newConnection.toHandle.type &&\n            previousConnection.toHandle.nodeId === newConnection.toHandle.nodeId &&\n            previousConnection.toHandle.id === newConnection.toHandle.id &&\n            previousConnection.to.x === newConnection.to.x &&\n            previousConnection.to.y === newConnection.to.y) {\n            return;\n        }\n        updateConnection(newConnection);\n        previousConnection = newConnection;\n    }\n    function onPointerUp(event) {\n        if ((closestHandle || handleDomNode) && connection && isValid) {\n            onConnect?.(connection);\n        }\n        /*\n         * it's important to get a fresh reference from the store here\n         * in order to get the latest state of onConnectEnd\n         */\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { inProgress, ...connectionState } = previousConnection;\n        const finalConnectionState = {\n            ...connectionState,\n            toPosition: previousConnection.toHandle ? previousConnection.toPosition : null,\n        };\n        onConnectEnd?.(event, finalConnectionState);\n        if (edgeUpdaterType) {\n            onReconnectEnd?.(event, finalConnectionState);\n        }\n        cancelConnection();\n        cancelAnimationFrame(autoPanId);\n        autoPanStarted = false;\n        isValid = false;\n        connection = null;\n        handleDomNode = null;\n        doc.removeEventListener('mousemove', onPointerMove);\n        doc.removeEventListener('mouseup', onPointerUp);\n        doc.removeEventListener('touchmove', onPointerMove);\n        doc.removeEventListener('touchend', onPointerUp);\n    }\n    doc.addEventListener('mousemove', onPointerMove);\n    doc.addEventListener('mouseup', onPointerUp);\n    doc.addEventListener('touchmove', onPointerMove);\n    doc.addEventListener('touchend', onPointerUp);\n}\n// checks if  and returns connection in fom of an object { source: 123, target: 312 }\nfunction isValidHandle(event, { handle, connectionMode, fromNodeId, fromHandleId, fromType, doc, lib, flowId, isValidConnection = alwaysValid, nodeLookup, }) {\n    const isTarget = fromType === 'target';\n    const handleDomNode = handle\n        ? doc.querySelector(`.${lib}-flow__handle[data-id=\"${flowId}-${handle?.nodeId}-${handle?.id}-${handle?.type}\"]`)\n        : null;\n    const { x, y } = getEventPosition(event);\n    const handleBelow = doc.elementFromPoint(x, y);\n    /*\n     * we always want to prioritize the handle below the mouse cursor over the closest distance handle,\n     * because it could be that the center of another handle is closer to the mouse pointer than the handle below the cursor\n     */\n    const handleToCheck = handleBelow?.classList.contains(`${lib}-flow__handle`) ? handleBelow : handleDomNode;\n    const result = {\n        handleDomNode: handleToCheck,\n        isValid: false,\n        connection: null,\n        toHandle: null,\n    };\n    if (handleToCheck) {\n        const handleType = getHandleType(undefined, handleToCheck);\n        const handleNodeId = handleToCheck.getAttribute('data-nodeid');\n        const handleId = handleToCheck.getAttribute('data-handleid');\n        const connectable = handleToCheck.classList.contains('connectable');\n        const connectableEnd = handleToCheck.classList.contains('connectableend');\n        if (!handleNodeId || !handleType) {\n            return result;\n        }\n        const connection = {\n            source: isTarget ? handleNodeId : fromNodeId,\n            sourceHandle: isTarget ? handleId : fromHandleId,\n            target: isTarget ? fromNodeId : handleNodeId,\n            targetHandle: isTarget ? fromHandleId : handleId,\n        };\n        result.connection = connection;\n        const isConnectable = connectable && connectableEnd;\n        // in strict mode we don't allow target to target or source to source connections\n        const isValid = isConnectable &&\n            (connectionMode === ConnectionMode.Strict\n                ? (isTarget && handleType === 'source') || (!isTarget && handleType === 'target')\n                : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n        result.isValid = isValid && isValidConnection(connection);\n        result.toHandle = getHandle(handleNodeId, handleType, handleId, nodeLookup, connectionMode, true);\n    }\n    return result;\n}\nconst XYHandle = {\n    onPointerDown,\n    isValid: isValidHandle,\n};\n\nfunction XYMinimap({ domNode, panZoom, getTransform, getViewScale }) {\n    const selection = select(domNode);\n    function update({ translateExtent, width, height, zoomStep = 10, pannable = true, zoomable = true, inversePan = false, }) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const zoomHandler = (event) => {\n            const transform = getTransform();\n            if (event.sourceEvent.type !== 'wheel' || !panZoom) {\n                return;\n            }\n            const pinchDelta = -event.sourceEvent.deltaY *\n                (event.sourceEvent.deltaMode === 1 ? 0.05 : event.sourceEvent.deltaMode ? 1 : 0.002) *\n                zoomStep;\n            const nextZoom = transform[2] * Math.pow(2, pinchDelta);\n            panZoom.scaleTo(nextZoom);\n        };\n        let panStart = [0, 0];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const panStartHandler = (event) => {\n            if (event.sourceEvent.type === 'mousedown' || event.sourceEvent.type === 'touchstart') {\n                panStart = [\n                    event.sourceEvent.clientX ?? event.sourceEvent.touches[0].clientX,\n                    event.sourceEvent.clientY ?? event.sourceEvent.touches[0].clientY,\n                ];\n            }\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const panHandler = (event) => {\n            const transform = getTransform();\n            if ((event.sourceEvent.type !== 'mousemove' && event.sourceEvent.type !== 'touchmove') || !panZoom) {\n                return;\n            }\n            const panCurrent = [\n                event.sourceEvent.clientX ?? event.sourceEvent.touches[0].clientX,\n                event.sourceEvent.clientY ?? event.sourceEvent.touches[0].clientY,\n            ];\n            const panDelta = [panCurrent[0] - panStart[0], panCurrent[1] - panStart[1]];\n            panStart = panCurrent;\n            const moveScale = getViewScale() * Math.max(transform[2], Math.log(transform[2])) * (inversePan ? -1 : 1);\n            const position = {\n                x: transform[0] - panDelta[0] * moveScale,\n                y: transform[1] - panDelta[1] * moveScale,\n            };\n            const extent = [\n                [0, 0],\n                [width, height],\n            ];\n            panZoom.setViewportConstrained({\n                x: position.x,\n                y: position.y,\n                zoom: transform[2],\n            }, extent, translateExtent);\n        };\n        const zoomAndPanHandler = zoom()\n            .on('start', panStartHandler)\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            .on('zoom', pannable ? panHandler : null)\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            .on('zoom.wheel', zoomable ? zoomHandler : null);\n        selection.call(zoomAndPanHandler, {});\n    }\n    function destroy() {\n        selection.on('zoom', null);\n    }\n    return {\n        update,\n        destroy,\n        pointer,\n    };\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst viewChanged = (prevViewport, eventViewport) => prevViewport.x !== eventViewport.x || prevViewport.y !== eventViewport.y || prevViewport.zoom !== eventViewport.k;\nconst transformToViewport = (transform) => ({\n    x: transform.x,\n    y: transform.y,\n    zoom: transform.k,\n});\nconst viewportToTransform = ({ x, y, zoom }) => zoomIdentity.translate(x, y).scale(zoom);\nconst isWrappedWithClass = (event, className) => event.target.closest(`.${className}`);\nconst isRightClickPan = (panOnDrag, usedButton) => usedButton === 2 && Array.isArray(panOnDrag) && panOnDrag.includes(2);\n// taken from d3-ease: https://github.com/d3/d3-ease/blob/main/src/cubic.js\nconst defaultEase = (t) => ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\nconst getD3Transition = (selection, duration = 0, ease = defaultEase, onEnd = () => { }) => {\n    const hasDuration = typeof duration === 'number' && duration > 0;\n    if (!hasDuration) {\n        onEnd();\n    }\n    return hasDuration ? selection.transition().duration(duration).ease(ease).on('end', onEnd) : selection;\n};\nconst wheelDelta = (event) => {\n    const factor = event.ctrlKey && isMacOs() ? 10 : 1;\n    return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * factor;\n};\n\nfunction createPanOnScrollHandler({ zoomPanValues, noWheelClassName, d3Selection, d3Zoom, panOnScrollMode, panOnScrollSpeed, zoomOnPinch, onPanZoomStart, onPanZoom, onPanZoomEnd, }) {\n    return (event) => {\n        if (isWrappedWithClass(event, noWheelClassName)) {\n            return false;\n        }\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        const currentZoom = d3Selection.property('__zoom').k || 1;\n        // macos sets ctrlKey=true for pinch gesture on a trackpad\n        if (event.ctrlKey && zoomOnPinch) {\n            const point = pointer(event);\n            const pinchDelta = wheelDelta(event);\n            const zoom = currentZoom * Math.pow(2, pinchDelta);\n            // @ts-ignore\n            d3Zoom.scaleTo(d3Selection, zoom, point, event);\n            return;\n        }\n        /*\n         * increase scroll speed in firefox\n         * firefox: deltaMode === 1; chrome: deltaMode === 0\n         */\n        const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n        let deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n        let deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n        // this enables vertical scrolling with shift + scroll on windows\n        if (!isMacOs() && event.shiftKey && panOnScrollMode !== PanOnScrollMode.Vertical) {\n            deltaX = event.deltaY * deltaNormalize;\n            deltaY = 0;\n        }\n        d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed, \n        // @ts-ignore\n        { internal: true });\n        const nextViewport = transformToViewport(d3Selection.property('__zoom'));\n        clearTimeout(zoomPanValues.panScrollTimeout);\n        /*\n         * for pan on scroll we need to handle the event calls on our own\n         * we can't use the start, zoom and end events from d3-zoom\n         * because start and move gets called on every scroll event and not once at the beginning\n         */\n        if (!zoomPanValues.isPanScrolling) {\n            zoomPanValues.isPanScrolling = true;\n            onPanZoomStart?.(event, nextViewport);\n        }\n        if (zoomPanValues.isPanScrolling) {\n            onPanZoom?.(event, nextViewport);\n            zoomPanValues.panScrollTimeout = setTimeout(() => {\n                onPanZoomEnd?.(event, nextViewport);\n                zoomPanValues.isPanScrolling = false;\n            }, 150);\n        }\n    };\n}\nfunction createZoomOnScrollHandler({ noWheelClassName, preventScrolling, d3ZoomHandler }) {\n    return function (event, d) {\n        const isWheel = event.type === 'wheel';\n        // we still want to enable pinch zooming even if preventScrolling is set to false\n        const preventZoom = !preventScrolling && isWheel && !event.ctrlKey;\n        const hasNoWheelClass = isWrappedWithClass(event, noWheelClassName);\n        // if user is pinch zooming above a nowheel element, we don't want the browser to zoom\n        if (event.ctrlKey && isWheel && hasNoWheelClass) {\n            event.preventDefault();\n        }\n        if (preventZoom || hasNoWheelClass) {\n            return null;\n        }\n        event.preventDefault();\n        d3ZoomHandler.call(this, event, d);\n    };\n}\nfunction createPanZoomStartHandler({ zoomPanValues, onDraggingChange, onPanZoomStart }) {\n    return (event) => {\n        if (event.sourceEvent?.internal) {\n            return;\n        }\n        const viewport = transformToViewport(event.transform);\n        // we need to remember it here, because it's always 0 in the \"zoom\" event\n        zoomPanValues.mouseButton = event.sourceEvent?.button || 0;\n        zoomPanValues.isZoomingOrPanning = true;\n        zoomPanValues.prevViewport = viewport;\n        if (event.sourceEvent?.type === 'mousedown') {\n            onDraggingChange(true);\n        }\n        if (onPanZoomStart) {\n            onPanZoomStart?.(event.sourceEvent, viewport);\n        }\n    };\n}\nfunction createPanZoomHandler({ zoomPanValues, panOnDrag, onPaneContextMenu, onTransformChange, onPanZoom, }) {\n    return (event) => {\n        zoomPanValues.usedRightMouseButton = !!(onPaneContextMenu && isRightClickPan(panOnDrag, zoomPanValues.mouseButton ?? 0));\n        if (!event.sourceEvent?.sync) {\n            onTransformChange([event.transform.x, event.transform.y, event.transform.k]);\n        }\n        if (onPanZoom && !event.sourceEvent?.internal) {\n            onPanZoom?.(event.sourceEvent, transformToViewport(event.transform));\n        }\n    };\n}\nfunction createPanZoomEndHandler({ zoomPanValues, panOnDrag, panOnScroll, onDraggingChange, onPanZoomEnd, onPaneContextMenu, }) {\n    return (event) => {\n        if (event.sourceEvent?.internal) {\n            return;\n        }\n        zoomPanValues.isZoomingOrPanning = false;\n        if (onPaneContextMenu &&\n            isRightClickPan(panOnDrag, zoomPanValues.mouseButton ?? 0) &&\n            !zoomPanValues.usedRightMouseButton &&\n            event.sourceEvent) {\n            onPaneContextMenu(event.sourceEvent);\n        }\n        zoomPanValues.usedRightMouseButton = false;\n        onDraggingChange(false);\n        if (onPanZoomEnd && viewChanged(zoomPanValues.prevViewport, event.transform)) {\n            const viewport = transformToViewport(event.transform);\n            zoomPanValues.prevViewport = viewport;\n            clearTimeout(zoomPanValues.timerId);\n            zoomPanValues.timerId = setTimeout(() => {\n                onPanZoomEnd?.(event.sourceEvent, viewport);\n            }, \n            // we need a setTimeout for panOnScroll to supress multiple end events fired during scroll\n            panOnScroll ? 150 : 0);\n        }\n    };\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction createFilter({ zoomActivationKeyPressed, zoomOnScroll, zoomOnPinch, panOnDrag, panOnScroll, zoomOnDoubleClick, userSelectionActive, noWheelClassName, noPanClassName, lib, }) {\n    return (event) => {\n        const zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n        const pinchZoom = zoomOnPinch && event.ctrlKey;\n        if (event.button === 1 &&\n            event.type === 'mousedown' &&\n            (isWrappedWithClass(event, `${lib}-flow__node`) || isWrappedWithClass(event, `${lib}-flow__edge`))) {\n            return true;\n        }\n        // if all interactions are disabled, we prevent all zoom events\n        if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n            return false;\n        }\n        // during a selection we prevent all other interactions\n        if (userSelectionActive) {\n            return false;\n        }\n        // if the target element is inside an element with the nowheel class, we prevent zooming\n        if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n            return false;\n        }\n        // if the target element is inside an element with the nopan class, we prevent panning\n        if (isWrappedWithClass(event, noPanClassName) &&\n            (event.type !== 'wheel' || (panOnScroll && event.type === 'wheel' && !zoomActivationKeyPressed))) {\n            return false;\n        }\n        if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n            return false;\n        }\n        if (!zoomOnPinch && event.type === 'touchstart' && event.touches?.length > 1) {\n            event.preventDefault(); // if you manage to start with 2 touches, we prevent native zoom\n            return false;\n        }\n        // when there is no scroll handling enabled, we prevent all wheel events\n        if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n            return false;\n        }\n        // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n        if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n            return false;\n        }\n        // if the pane is only movable using allowed clicks\n        if (Array.isArray(panOnDrag) && !panOnDrag.includes(event.button) && event.type === 'mousedown') {\n            return false;\n        }\n        // We only allow right clicks if pan on drag is set to right click\n        const buttonAllowed = (Array.isArray(panOnDrag) && panOnDrag.includes(event.button)) || !event.button || event.button <= 1;\n        // default filter for d3-zoom\n        return (!event.ctrlKey || event.type === 'wheel') && buttonAllowed;\n    };\n}\n\nfunction XYPanZoom({ domNode, minZoom, maxZoom, paneClickDistance, translateExtent, viewport, onPanZoom, onPanZoomStart, onPanZoomEnd, onDraggingChange, }) {\n    const zoomPanValues = {\n        isZoomingOrPanning: false,\n        usedRightMouseButton: false,\n        prevViewport: { x: 0, y: 0, zoom: 0 },\n        mouseButton: 0,\n        timerId: undefined,\n        panScrollTimeout: undefined,\n        isPanScrolling: false,\n    };\n    const bbox = domNode.getBoundingClientRect();\n    const d3ZoomInstance = zoom()\n        .clickDistance(!isNumeric(paneClickDistance) || paneClickDistance < 0 ? 0 : paneClickDistance)\n        .scaleExtent([minZoom, maxZoom])\n        .translateExtent(translateExtent);\n    const d3Selection = select(domNode).call(d3ZoomInstance);\n    setViewportConstrained({\n        x: viewport.x,\n        y: viewport.y,\n        zoom: clamp(viewport.zoom, minZoom, maxZoom),\n    }, [\n        [0, 0],\n        [bbox.width, bbox.height],\n    ], translateExtent);\n    const d3ZoomHandler = d3Selection.on('wheel.zoom');\n    const d3DblClickZoomHandler = d3Selection.on('dblclick.zoom');\n    d3ZoomInstance.wheelDelta(wheelDelta);\n    function setTransform(transform, options) {\n        if (d3Selection) {\n            return new Promise((resolve) => {\n                d3ZoomInstance?.interpolate(options?.interpolate === 'linear' ? interpolate : interpolateZoom).transform(getD3Transition(d3Selection, options?.duration, options?.ease, () => resolve(true)), transform);\n            });\n        }\n        return Promise.resolve(false);\n    }\n    // public functions\n    function update({ noWheelClassName, noPanClassName, onPaneContextMenu, userSelectionActive, panOnScroll, panOnDrag, panOnScrollMode, panOnScrollSpeed, preventScrolling, zoomOnPinch, zoomOnScroll, zoomOnDoubleClick, zoomActivationKeyPressed, lib, onTransformChange, }) {\n        if (userSelectionActive && !zoomPanValues.isZoomingOrPanning) {\n            destroy();\n        }\n        const isPanOnScroll = panOnScroll && !zoomActivationKeyPressed && !userSelectionActive;\n        const wheelHandler = isPanOnScroll\n            ? createPanOnScrollHandler({\n                zoomPanValues,\n                noWheelClassName,\n                d3Selection,\n                d3Zoom: d3ZoomInstance,\n                panOnScrollMode,\n                panOnScrollSpeed,\n                zoomOnPinch,\n                onPanZoomStart,\n                onPanZoom,\n                onPanZoomEnd,\n            })\n            : createZoomOnScrollHandler({\n                noWheelClassName,\n                preventScrolling,\n                d3ZoomHandler,\n            });\n        d3Selection.on('wheel.zoom', wheelHandler, { passive: false });\n        if (!userSelectionActive) {\n            // pan zoom start\n            const startHandler = createPanZoomStartHandler({\n                zoomPanValues,\n                onDraggingChange,\n                onPanZoomStart,\n            });\n            d3ZoomInstance.on('start', startHandler);\n            // pan zoom\n            const panZoomHandler = createPanZoomHandler({\n                zoomPanValues,\n                panOnDrag,\n                onPaneContextMenu: !!onPaneContextMenu,\n                onPanZoom,\n                onTransformChange,\n            });\n            d3ZoomInstance.on('zoom', panZoomHandler);\n            // pan zoom end\n            const panZoomEndHandler = createPanZoomEndHandler({\n                zoomPanValues,\n                panOnDrag,\n                panOnScroll,\n                onPaneContextMenu,\n                onPanZoomEnd,\n                onDraggingChange,\n            });\n            d3ZoomInstance.on('end', panZoomEndHandler);\n        }\n        const filter = createFilter({\n            zoomActivationKeyPressed,\n            panOnDrag,\n            zoomOnScroll,\n            panOnScroll,\n            zoomOnDoubleClick,\n            zoomOnPinch,\n            userSelectionActive,\n            noPanClassName,\n            noWheelClassName,\n            lib,\n        });\n        d3ZoomInstance.filter(filter);\n        /*\n         * We cannot add zoomOnDoubleClick to the filter above because\n         * double tapping on touch screens circumvents the filter and\n         * dblclick.zoom is fired on the selection directly\n         */\n        if (zoomOnDoubleClick) {\n            d3Selection.on('dblclick.zoom', d3DblClickZoomHandler);\n        }\n        else {\n            d3Selection.on('dblclick.zoom', null);\n        }\n    }\n    function destroy() {\n        d3ZoomInstance.on('zoom', null);\n    }\n    async function setViewportConstrained(viewport, extent, translateExtent) {\n        const nextTransform = viewportToTransform(viewport);\n        const contrainedTransform = d3ZoomInstance?.constrain()(nextTransform, extent, translateExtent);\n        if (contrainedTransform) {\n            await setTransform(contrainedTransform);\n        }\n        return new Promise((resolve) => resolve(contrainedTransform));\n    }\n    async function setViewport(viewport, options) {\n        const nextTransform = viewportToTransform(viewport);\n        await setTransform(nextTransform, options);\n        return new Promise((resolve) => resolve(nextTransform));\n    }\n    function syncViewport(viewport) {\n        if (d3Selection) {\n            const nextTransform = viewportToTransform(viewport);\n            const currentTransform = d3Selection.property('__zoom');\n            if (currentTransform.k !== viewport.zoom ||\n                currentTransform.x !== viewport.x ||\n                currentTransform.y !== viewport.y) {\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                d3ZoomInstance?.transform(d3Selection, nextTransform, null, { sync: true });\n            }\n        }\n    }\n    function getViewport() {\n        const transform = d3Selection ? zoomTransform(d3Selection.node()) : { x: 0, y: 0, k: 1 };\n        return { x: transform.x, y: transform.y, zoom: transform.k };\n    }\n    function scaleTo(zoom, options) {\n        if (d3Selection) {\n            return new Promise((resolve) => {\n                d3ZoomInstance?.interpolate(options?.interpolate === 'linear' ? interpolate : interpolateZoom).scaleTo(getD3Transition(d3Selection, options?.duration, options?.ease, () => resolve(true)), zoom);\n            });\n        }\n        return Promise.resolve(false);\n    }\n    function scaleBy(factor, options) {\n        if (d3Selection) {\n            return new Promise((resolve) => {\n                d3ZoomInstance?.interpolate(options?.interpolate === 'linear' ? interpolate : interpolateZoom).scaleBy(getD3Transition(d3Selection, options?.duration, options?.ease, () => resolve(true)), factor);\n            });\n        }\n        return Promise.resolve(false);\n    }\n    function setScaleExtent(scaleExtent) {\n        d3ZoomInstance?.scaleExtent(scaleExtent);\n    }\n    function setTranslateExtent(translateExtent) {\n        d3ZoomInstance?.translateExtent(translateExtent);\n    }\n    function setClickDistance(distance) {\n        const validDistance = !isNumeric(distance) || distance < 0 ? 0 : distance;\n        d3ZoomInstance?.clickDistance(validDistance);\n    }\n    return {\n        update,\n        destroy,\n        setViewport,\n        setViewportConstrained,\n        getViewport,\n        scaleTo,\n        scaleBy,\n        setScaleExtent,\n        setTranslateExtent,\n        syncViewport,\n        setClickDistance,\n    };\n}\n\n/**\n * Used to determine the variant of the resize control\n *\n * @public\n */\nvar ResizeControlVariant;\n(function (ResizeControlVariant) {\n    ResizeControlVariant[\"Line\"] = \"line\";\n    ResizeControlVariant[\"Handle\"] = \"handle\";\n})(ResizeControlVariant || (ResizeControlVariant = {}));\nconst XY_RESIZER_HANDLE_POSITIONS = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];\nconst XY_RESIZER_LINE_POSITIONS = ['top', 'right', 'bottom', 'left'];\n\n/**\n * Get all connecting edges for a given set of nodes\n * @param width - new width of the node\n * @param prevWidth - previous width of the node\n * @param height - new height of the node\n * @param prevHeight - previous height of the node\n * @param affectsX - whether to invert the resize direction for the x axis\n * @param affectsY - whether to invert the resize direction for the y axis\n * @returns array of two numbers representing the direction of the resize for each axis, 0 = no change, 1 = increase, -1 = decrease\n */\nfunction getResizeDirection({ width, prevWidth, height, prevHeight, affectsX, affectsY, }) {\n    const deltaWidth = width - prevWidth;\n    const deltaHeight = height - prevHeight;\n    const direction = [deltaWidth > 0 ? 1 : deltaWidth < 0 ? -1 : 0, deltaHeight > 0 ? 1 : deltaHeight < 0 ? -1 : 0];\n    if (deltaWidth && affectsX) {\n        direction[0] = direction[0] * -1;\n    }\n    if (deltaHeight && affectsY) {\n        direction[1] = direction[1] * -1;\n    }\n    return direction;\n}\n/**\n * Parses the control position that is being dragged to dimensions that are being resized\n * @param controlPosition - position of the control that is being dragged\n * @returns isHorizontal, isVertical, affectsX, affectsY,\n */\nfunction getControlDirection(controlPosition) {\n    const isHorizontal = controlPosition.includes('right') || controlPosition.includes('left');\n    const isVertical = controlPosition.includes('bottom') || controlPosition.includes('top');\n    const affectsX = controlPosition.includes('left');\n    const affectsY = controlPosition.includes('top');\n    return {\n        isHorizontal,\n        isVertical,\n        affectsX,\n        affectsY,\n    };\n}\nfunction getLowerExtentClamp(lowerExtent, lowerBound) {\n    return Math.max(0, lowerBound - lowerExtent);\n}\nfunction getUpperExtentClamp(upperExtent, upperBound) {\n    return Math.max(0, upperExtent - upperBound);\n}\nfunction getSizeClamp(size, minSize, maxSize) {\n    return Math.max(0, minSize - size, size - maxSize);\n}\nfunction xor(a, b) {\n    return a ? !b : b;\n}\n/**\n * Calculates new width & height and x & y of node after resize based on pointer position\n * @description - Buckle up, this is a chunky one... If you want to determine the new dimensions of a node after a resize,\n * you have to account for all possible restrictions: min/max width/height of the node, the maximum extent the node is allowed\n * to move in (in this case: resize into) determined by the parent node, the minimal extent determined by child nodes\n * with expandParent or extent: 'parent' set and oh yeah, these things also have to work with keepAspectRatio!\n * The way this is done is by determining how much each of these restricting actually restricts the resize and then applying the\n * strongest restriction. Because the resize affects x, y and width, height and width, height of a opposing side with keepAspectRatio,\n * the resize amount is always kept in distX & distY amount (the distance in mouse movement)\n * Instead of clamping each value, we first calculate the biggest 'clamp' (for the lack of a better name) and then apply it to all values.\n * To complicate things nodeOrigin has to be taken into account as well. This is done by offsetting the nodes as if their origin is [0, 0],\n * then calculating the restrictions as usual\n * @param startValues - starting values of resize\n * @param controlDirection - dimensions affected by the resize\n * @param pointerPosition - the current pointer position corrected for snapping\n * @param boundaries - minimum and maximum dimensions of the node\n * @param keepAspectRatio - prevent changes of asprect ratio\n * @returns x, y, width and height of the node after resize\n */\nfunction getDimensionsAfterResize(startValues, controlDirection, pointerPosition, boundaries, keepAspectRatio, nodeOrigin, extent, childExtent) {\n    let { affectsX, affectsY } = controlDirection;\n    const { isHorizontal, isVertical } = controlDirection;\n    const isDiagonal = isHorizontal && isVertical;\n    const { xSnapped, ySnapped } = pointerPosition;\n    const { minWidth, maxWidth, minHeight, maxHeight } = boundaries;\n    const { x: startX, y: startY, width: startWidth, height: startHeight, aspectRatio } = startValues;\n    let distX = Math.floor(isHorizontal ? xSnapped - startValues.pointerX : 0);\n    let distY = Math.floor(isVertical ? ySnapped - startValues.pointerY : 0);\n    const newWidth = startWidth + (affectsX ? -distX : distX);\n    const newHeight = startHeight + (affectsY ? -distY : distY);\n    const originOffsetX = -nodeOrigin[0] * startWidth;\n    const originOffsetY = -nodeOrigin[1] * startHeight;\n    // Check if maxWidth, minWWidth, maxHeight, minHeight are restricting the resize\n    let clampX = getSizeClamp(newWidth, minWidth, maxWidth);\n    let clampY = getSizeClamp(newHeight, minHeight, maxHeight);\n    // Check if extent is restricting the resize\n    if (extent) {\n        let xExtentClamp = 0;\n        let yExtentClamp = 0;\n        if (affectsX && distX < 0) {\n            xExtentClamp = getLowerExtentClamp(startX + distX + originOffsetX, extent[0][0]);\n        }\n        else if (!affectsX && distX > 0) {\n            xExtentClamp = getUpperExtentClamp(startX + newWidth + originOffsetX, extent[1][0]);\n        }\n        if (affectsY && distY < 0) {\n            yExtentClamp = getLowerExtentClamp(startY + distY + originOffsetY, extent[0][1]);\n        }\n        else if (!affectsY && distY > 0) {\n            yExtentClamp = getUpperExtentClamp(startY + newHeight + originOffsetY, extent[1][1]);\n        }\n        clampX = Math.max(clampX, xExtentClamp);\n        clampY = Math.max(clampY, yExtentClamp);\n    }\n    // Check if the child extent is restricting the resize\n    if (childExtent) {\n        let xExtentClamp = 0;\n        let yExtentClamp = 0;\n        if (affectsX && distX > 0) {\n            xExtentClamp = getUpperExtentClamp(startX + distX, childExtent[0][0]);\n        }\n        else if (!affectsX && distX < 0) {\n            xExtentClamp = getLowerExtentClamp(startX + newWidth, childExtent[1][0]);\n        }\n        if (affectsY && distY > 0) {\n            yExtentClamp = getUpperExtentClamp(startY + distY, childExtent[0][1]);\n        }\n        else if (!affectsY && distY < 0) {\n            yExtentClamp = getLowerExtentClamp(startY + newHeight, childExtent[1][1]);\n        }\n        clampX = Math.max(clampX, xExtentClamp);\n        clampY = Math.max(clampY, yExtentClamp);\n    }\n    // Check if the aspect ratio resizing of the other side is restricting the resize\n    if (keepAspectRatio) {\n        if (isHorizontal) {\n            // Check if the max dimensions might be restricting the resize\n            const aspectHeightClamp = getSizeClamp(newWidth / aspectRatio, minHeight, maxHeight) * aspectRatio;\n            clampX = Math.max(clampX, aspectHeightClamp);\n            // Check if the extent is restricting the resize\n            if (extent) {\n                let aspectExtentClamp = 0;\n                if ((!affectsX && !affectsY) || (affectsX && !affectsY && isDiagonal)) {\n                    aspectExtentClamp =\n                        getUpperExtentClamp(startY + originOffsetY + newWidth / aspectRatio, extent[1][1]) * aspectRatio;\n                }\n                else {\n                    aspectExtentClamp =\n                        getLowerExtentClamp(startY + originOffsetY + (affectsX ? distX : -distX) / aspectRatio, extent[0][1]) *\n                            aspectRatio;\n                }\n                clampX = Math.max(clampX, aspectExtentClamp);\n            }\n            // Check if the child extent is restricting the resize\n            if (childExtent) {\n                let aspectExtentClamp = 0;\n                if ((!affectsX && !affectsY) || (affectsX && !affectsY && isDiagonal)) {\n                    aspectExtentClamp = getLowerExtentClamp(startY + newWidth / aspectRatio, childExtent[1][1]) * aspectRatio;\n                }\n                else {\n                    aspectExtentClamp =\n                        getUpperExtentClamp(startY + (affectsX ? distX : -distX) / aspectRatio, childExtent[0][1]) * aspectRatio;\n                }\n                clampX = Math.max(clampX, aspectExtentClamp);\n            }\n        }\n        // Do the same thing for vertical resizing\n        if (isVertical) {\n            const aspectWidthClamp = getSizeClamp(newHeight * aspectRatio, minWidth, maxWidth) / aspectRatio;\n            clampY = Math.max(clampY, aspectWidthClamp);\n            if (extent) {\n                let aspectExtentClamp = 0;\n                if ((!affectsX && !affectsY) || (affectsY && !affectsX && isDiagonal)) {\n                    aspectExtentClamp =\n                        getUpperExtentClamp(startX + newHeight * aspectRatio + originOffsetX, extent[1][0]) / aspectRatio;\n                }\n                else {\n                    aspectExtentClamp =\n                        getLowerExtentClamp(startX + (affectsY ? distY : -distY) * aspectRatio + originOffsetX, extent[0][0]) /\n                            aspectRatio;\n                }\n                clampY = Math.max(clampY, aspectExtentClamp);\n            }\n            if (childExtent) {\n                let aspectExtentClamp = 0;\n                if ((!affectsX && !affectsY) || (affectsY && !affectsX && isDiagonal)) {\n                    aspectExtentClamp = getLowerExtentClamp(startX + newHeight * aspectRatio, childExtent[1][0]) / aspectRatio;\n                }\n                else {\n                    aspectExtentClamp =\n                        getUpperExtentClamp(startX + (affectsY ? distY : -distY) * aspectRatio, childExtent[0][0]) / aspectRatio;\n                }\n                clampY = Math.max(clampY, aspectExtentClamp);\n            }\n        }\n    }\n    distY = distY + (distY < 0 ? clampY : -clampY);\n    distX = distX + (distX < 0 ? clampX : -clampX);\n    if (keepAspectRatio) {\n        if (isDiagonal) {\n            if (newWidth > newHeight * aspectRatio) {\n                distY = (xor(affectsX, affectsY) ? -distX : distX) / aspectRatio;\n            }\n            else {\n                distX = (xor(affectsX, affectsY) ? -distY : distY) * aspectRatio;\n            }\n        }\n        else {\n            if (isHorizontal) {\n                distY = distX / aspectRatio;\n                affectsY = affectsX;\n            }\n            else {\n                distX = distY * aspectRatio;\n                affectsX = affectsY;\n            }\n        }\n    }\n    const x = affectsX ? startX + distX : startX;\n    const y = affectsY ? startY + distY : startY;\n    return {\n        width: startWidth + (affectsX ? -distX : distX),\n        height: startHeight + (affectsY ? -distY : distY),\n        x: nodeOrigin[0] * distX * (!affectsX ? 1 : -1) + x,\n        y: nodeOrigin[1] * distY * (!affectsY ? 1 : -1) + y,\n    };\n}\n\nconst initPrevValues = { width: 0, height: 0, x: 0, y: 0 };\nconst initStartValues = {\n    ...initPrevValues,\n    pointerX: 0,\n    pointerY: 0,\n    aspectRatio: 1,\n};\nfunction nodeToParentExtent(node) {\n    return [\n        [0, 0],\n        [node.measured.width, node.measured.height],\n    ];\n}\nfunction nodeToChildExtent(child, parent, nodeOrigin) {\n    const x = parent.position.x + child.position.x;\n    const y = parent.position.y + child.position.y;\n    const width = child.measured.width ?? 0;\n    const height = child.measured.height ?? 0;\n    const originOffsetX = nodeOrigin[0] * width;\n    const originOffsetY = nodeOrigin[1] * height;\n    return [\n        [x - originOffsetX, y - originOffsetY],\n        [x + width - originOffsetX, y + height - originOffsetY],\n    ];\n}\nfunction XYResizer({ domNode, nodeId, getStoreItems, onChange, onEnd }) {\n    const selection = select(domNode);\n    function update({ controlPosition, boundaries, keepAspectRatio, resizeDirection, onResizeStart, onResize, onResizeEnd, shouldResize, }) {\n        let prevValues = { ...initPrevValues };\n        let startValues = { ...initStartValues };\n        const controlDirection = getControlDirection(controlPosition);\n        let node = undefined;\n        let containerBounds = null;\n        let childNodes = [];\n        let parentNode = undefined; // Needed to fix expandParent\n        let parentExtent = undefined;\n        let childExtent = undefined;\n        const dragHandler = drag()\n            .on('start', (event) => {\n            const { nodeLookup, transform, snapGrid, snapToGrid, nodeOrigin, paneDomNode } = getStoreItems();\n            node = nodeLookup.get(nodeId);\n            if (!node) {\n                return;\n            }\n            containerBounds = paneDomNode?.getBoundingClientRect() ?? null;\n            const { xSnapped, ySnapped } = getPointerPosition(event.sourceEvent, {\n                transform,\n                snapGrid,\n                snapToGrid,\n                containerBounds,\n            });\n            prevValues = {\n                width: node.measured.width ?? 0,\n                height: node.measured.height ?? 0,\n                x: node.position.x ?? 0,\n                y: node.position.y ?? 0,\n            };\n            startValues = {\n                ...prevValues,\n                pointerX: xSnapped,\n                pointerY: ySnapped,\n                aspectRatio: prevValues.width / prevValues.height,\n            };\n            parentNode = undefined;\n            if (node.parentId && (node.extent === 'parent' || node.expandParent)) {\n                parentNode = nodeLookup.get(node.parentId);\n                parentExtent = parentNode && node.extent === 'parent' ? nodeToParentExtent(parentNode) : undefined;\n            }\n            /*\n             * Collect all child nodes to correct their relative positions when top/left changes\n             * Determine largest minimal extent the parent node is allowed to resize to\n             */\n            childNodes = [];\n            childExtent = undefined;\n            for (const [childId, child] of nodeLookup) {\n                if (child.parentId === nodeId) {\n                    childNodes.push({\n                        id: childId,\n                        position: { ...child.position },\n                        extent: child.extent,\n                    });\n                    if (child.extent === 'parent' || child.expandParent) {\n                        const extent = nodeToChildExtent(child, node, child.origin ?? nodeOrigin);\n                        if (childExtent) {\n                            childExtent = [\n                                [Math.min(extent[0][0], childExtent[0][0]), Math.min(extent[0][1], childExtent[0][1])],\n                                [Math.max(extent[1][0], childExtent[1][0]), Math.max(extent[1][1], childExtent[1][1])],\n                            ];\n                        }\n                        else {\n                            childExtent = extent;\n                        }\n                    }\n                }\n            }\n            onResizeStart?.(event, { ...prevValues });\n        })\n            .on('drag', (event) => {\n            const { transform, snapGrid, snapToGrid, nodeOrigin: storeNodeOrigin } = getStoreItems();\n            const pointerPosition = getPointerPosition(event.sourceEvent, {\n                transform,\n                snapGrid,\n                snapToGrid,\n                containerBounds,\n            });\n            const childChanges = [];\n            if (!node) {\n                return;\n            }\n            const { x: prevX, y: prevY, width: prevWidth, height: prevHeight } = prevValues;\n            const change = {};\n            const nodeOrigin = node.origin ?? storeNodeOrigin;\n            const { width, height, x, y } = getDimensionsAfterResize(startValues, controlDirection, pointerPosition, boundaries, keepAspectRatio, nodeOrigin, parentExtent, childExtent);\n            const isWidthChange = width !== prevWidth;\n            const isHeightChange = height !== prevHeight;\n            const isXPosChange = x !== prevX && isWidthChange;\n            const isYPosChange = y !== prevY && isHeightChange;\n            if (!isXPosChange && !isYPosChange && !isWidthChange && !isHeightChange) {\n                return;\n            }\n            if (isXPosChange || isYPosChange || nodeOrigin[0] === 1 || nodeOrigin[1] === 1) {\n                change.x = isXPosChange ? x : prevValues.x;\n                change.y = isYPosChange ? y : prevValues.y;\n                prevValues.x = change.x;\n                prevValues.y = change.y;\n                /*\n                 * when top/left changes, correct the relative positions of child nodes\n                 * so that they stay in the same position\n                 */\n                if (childNodes.length > 0) {\n                    const xChange = x - prevX;\n                    const yChange = y - prevY;\n                    for (const childNode of childNodes) {\n                        childNode.position = {\n                            x: childNode.position.x - xChange + nodeOrigin[0] * (width - prevWidth),\n                            y: childNode.position.y - yChange + nodeOrigin[1] * (height - prevHeight),\n                        };\n                        childChanges.push(childNode);\n                    }\n                }\n            }\n            if (isWidthChange || isHeightChange) {\n                change.width =\n                    isWidthChange && (!resizeDirection || resizeDirection === 'horizontal') ? width : prevValues.width;\n                change.height =\n                    isHeightChange && (!resizeDirection || resizeDirection === 'vertical') ? height : prevValues.height;\n                prevValues.width = change.width;\n                prevValues.height = change.height;\n            }\n            // Fix expandParent when resizing from top/left\n            if (parentNode && node.expandParent) {\n                const xLimit = nodeOrigin[0] * (change.width ?? 0);\n                if (change.x && change.x < xLimit) {\n                    prevValues.x = xLimit;\n                    startValues.x = startValues.x - (change.x - xLimit);\n                }\n                const yLimit = nodeOrigin[1] * (change.height ?? 0);\n                if (change.y && change.y < yLimit) {\n                    prevValues.y = yLimit;\n                    startValues.y = startValues.y - (change.y - yLimit);\n                }\n            }\n            const direction = getResizeDirection({\n                width: prevValues.width,\n                prevWidth,\n                height: prevValues.height,\n                prevHeight,\n                affectsX: controlDirection.affectsX,\n                affectsY: controlDirection.affectsY,\n            });\n            const nextValues = { ...prevValues, direction };\n            const callResize = shouldResize?.(event, nextValues);\n            if (callResize === false) {\n                return;\n            }\n            onResize?.(event, nextValues);\n            onChange(change, childChanges);\n        })\n            .on('end', (event) => {\n            onResizeEnd?.(event, { ...prevValues });\n            onEnd?.({ ...prevValues });\n        });\n        selection.call(dragHandler);\n    }\n    function destroy() {\n        selection.on('.drag', null);\n    }\n    return {\n        update,\n        destroy,\n    };\n}\n\nexport { ConnectionLineType, ConnectionMode, MarkerType, PanOnScrollMode, Position, ResizeControlVariant, SelectionMode, XYDrag, XYHandle, XYMinimap, XYPanZoom, XYResizer, XY_RESIZER_HANDLE_POSITIONS, XY_RESIZER_LINE_POSITIONS, addEdge, adoptUserNodes, areConnectionMapsEqual, areSetsEqual, boxToRect, calcAutoPan, calculateNodePosition, clamp, clampPosition, clampPositionToParent, createMarkerIds, defaultAriaLabelConfig, devWarn, elementSelectionKeys, errorMessages, evaluateAbsolutePosition, fitViewport, getBezierEdgeCenter, getBezierPath, getBoundsOfBoxes, getBoundsOfRects, getConnectedEdges, getConnectionStatus, getDimensions, getEdgeCenter, getEdgePosition, getElementsToRemove, getElevatedEdgeZIndex, getEventPosition, getHandleBounds, getHandlePosition, getHostForElement, getIncomers, getInternalNodesBounds, getMarkerId, getNodeDimensions, getNodePositionWithOrigin, getNodeToolbarTransform, getNodesBounds, getNodesInside, getOutgoers, getOverlappingArea, getPointerPosition, getSmoothStepPath, getStraightPath, getViewportForBounds, handleConnectionChange, handleExpandParent, infiniteExtent, initialConnection, isCoordinateExtent, isEdgeBase, isEdgeVisible, isInputDOMNode, isInternalNodeBase, isMacOs, isMouseEvent, isNodeBase, isNumeric, isRectObject, mergeAriaLabelConfig, nodeHasDimensions, nodeToBox, nodeToRect, oppositePosition, panBy, pointToRendererPoint, reconnectEdge, rectToBox, rendererPointToPoint, shallowNodeData, snapPosition, updateAbsolutePositions, updateConnectionLookup, updateNodeInternals, withResolvers };\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Network = createLucideIcon(\"Network\", [\n  [\"rect\", { x: \"16\", y: \"16\", width: \"6\", height: \"6\", rx: \"1\", key: \"4q2zg0\" }],\n  [\"rect\", { x: \"2\", y: \"16\", width: \"6\", height: \"6\", rx: \"1\", key: \"8cvhb9\" }],\n  [\"rect\", { x: \"9\", y: \"2\", width: \"6\", height: \"6\", rx: \"1\", key: \"1egb70\" }],\n  [\"path\", { d: \"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3\", key: \"1jsf9p\" }],\n  [\"path\", { d: \"M12 12V8\", key: \"2874zd\" }]\n]);\n\nexport { Network as default };\n//# sourceMappingURL=network.js.map\n","export default function cc(names) {\n  if (typeof names === \"string\" || typeof names === \"number\") return \"\" + names\n\n  let out = \"\"\n\n  if (Array.isArray(names)) {\n    for (let i = 0, tmp; i < names.length; i++) {\n      if ((tmp = cc(names[i])) !== \"\") {\n        out += (out && \" \") + tmp\n      }\n    }\n  } else {\n    for (let k in names) {\n      if (names[k]) out += (out && \" \") + k\n    }\n  }\n\n  return out\n}\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Terminal = createLucideIcon(\"Terminal\", [\n  [\"polyline\", { points: \"4 17 10 11 4 5\", key: \"akl6gq\" }],\n  [\"line\", { x1: \"12\", x2: \"20\", y1: \"19\", y2: \"19\", key: \"q2wloq\" }]\n]);\n\nexport { Terminal as default };\n//# sourceMappingURL=terminal.js.map\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SquarePen = createLucideIcon(\"SquarePen\", [\n  [\"path\", { d: \"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\", key: \"1m0v6g\" }],\n  [\n    \"path\",\n    {\n      d: \"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z\",\n      key: \"ohrbg2\"\n    }\n  ]\n]);\n\nexport { SquarePen as default };\n//# sourceMappingURL=square-pen.js.map\n","import warning from \"rc-util/es/warning\";\nexport default (function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = file.type || '';\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim();\n      // This is something like */*,*  allow all files\n      if (/^\\*(\\/\\*)?$/.test(type)) {\n        return true;\n      }\n\n      // like .jpg, .png\n      if (validType.charAt(0) === '.') {\n        var lowerFileName = fileName.toLowerCase();\n        var lowerType = validType.toLowerCase();\n        var affixList = [lowerType];\n        if (lowerType === '.jpg' || lowerType === '.jpeg') {\n          affixList = ['.jpg', '.jpeg'];\n        }\n        return affixList.some(function (affix) {\n          return lowerFileName.endsWith(affix);\n        });\n      }\n\n      // This is something like a image/* mime type\n      if (/\\/\\*$/.test(validType)) {\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n\n      // Full match\n      if (mimeType === validType) {\n        return true;\n      }\n\n      // Invalidate type should skip\n      if (/^\\w+$/.test(validType)) {\n        warning(false, \"Upload takes an invalidate 'accept' type '\".concat(validType, \"'.Skip for check.\"));\n        return true;\n      }\n      return false;\n    });\n  }\n  return true;\n});","function getError(option, xhr) {\n  var msg = \"cannot \".concat(option.method, \" \").concat(option.action, \" \").concat(xhr.status, \"'\");\n  var err = new Error(msg);\n  err.status = xhr.status;\n  err.method = option.method;\n  err.url = option.action;\n  return err;\n}\nfunction getBody(xhr) {\n  var text = xhr.responseText || xhr.response;\n  if (!text) {\n    return text;\n  }\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\nexport default function upload(option) {\n  // eslint-disable-next-line no-undef\n  var xhr = new XMLHttpRequest();\n  if (option.onProgress && xhr.upload) {\n    xhr.upload.onprogress = function progress(e) {\n      if (e.total > 0) {\n        e.percent = e.loaded / e.total * 100;\n      }\n      option.onProgress(e);\n    };\n  }\n\n  // eslint-disable-next-line no-undef\n  var formData = new FormData();\n  if (option.data) {\n    Object.keys(option.data).forEach(function (key) {\n      var value = option.data[key];\n      // support key-value array data\n      if (Array.isArray(value)) {\n        value.forEach(function (item) {\n          // { list: [ 11, 22 ] }\n          // formData.append('list[]', 11);\n          formData.append(\"\".concat(key, \"[]\"), item);\n        });\n        return;\n      }\n      formData.append(key, value);\n    });\n  }\n\n  // eslint-disable-next-line no-undef\n  if (option.file instanceof Blob) {\n    formData.append(option.filename, option.file, option.file.name);\n  } else {\n    formData.append(option.filename, option.file);\n  }\n  xhr.onerror = function error(e) {\n    option.onError(e);\n  };\n  xhr.onload = function onload() {\n    // allow success when 2xx status\n    // see https://github.com/react-component/upload/issues/34\n    if (xhr.status < 200 || xhr.status >= 300) {\n      return option.onError(getError(option, xhr), getBody(xhr));\n    }\n    return option.onSuccess(getBody(xhr), xhr);\n  };\n  xhr.open(option.method, option.action, true);\n\n  // Has to be after `.open()`. See https://github.com/enyo/dropzone/issues/179\n  if (option.withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n  var headers = option.headers || {};\n\n  // when set headers['X-Requested-With'] = null , can close default XHR header\n  // see https://github.com/react-component/upload/issues/33\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n  Object.keys(headers).forEach(function (h) {\n    if (headers[h] !== null) {\n      xhr.setRequestHeader(h, headers[h]);\n    }\n  });\n  xhr.send(formData);\n  return {\n    abort: function abort() {\n      xhr.abort();\n    }\n  };\n}","import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n// https://github.com/ant-design/ant-design/issues/50080\nvar traverseFileTree = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(files, isAccepted) {\n    var flattenFileList, progressFileList, readDirectory, _readDirectory, readFile, _readFile, _traverseFileTree, wipIndex;\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          _readFile = function _readFile3() {\n            _readFile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(item) {\n              return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n                while (1) switch (_context3.prev = _context3.next) {\n                  case 0:\n                    return _context3.abrupt(\"return\", new Promise(function (reslove) {\n                      item.file(function (file) {\n                        if (isAccepted(file)) {\n                          // https://github.com/ant-design/ant-design/issues/16426\n                          if (item.fullPath && !file.webkitRelativePath) {\n                            Object.defineProperties(file, {\n                              webkitRelativePath: {\n                                writable: true\n                              }\n                            });\n                            // eslint-disable-next-line no-param-reassign\n                            file.webkitRelativePath = item.fullPath.replace(/^\\//, '');\n                            Object.defineProperties(file, {\n                              webkitRelativePath: {\n                                writable: false\n                              }\n                            });\n                          }\n                          reslove(file);\n                        } else {\n                          reslove(null);\n                        }\n                      });\n                    }));\n                  case 1:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }, _callee3);\n            }));\n            return _readFile.apply(this, arguments);\n          };\n          readFile = function _readFile2(_x4) {\n            return _readFile.apply(this, arguments);\n          };\n          _readDirectory = function _readDirectory3() {\n            _readDirectory = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(directory) {\n              var dirReader, entries, results, n, i;\n              return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n                while (1) switch (_context2.prev = _context2.next) {\n                  case 0:\n                    dirReader = directory.createReader();\n                    entries = [];\n                  case 2:\n                    if (!true) {\n                      _context2.next = 12;\n                      break;\n                    }\n                    _context2.next = 5;\n                    return new Promise(function (resolve) {\n                      dirReader.readEntries(resolve, function () {\n                        return resolve([]);\n                      });\n                    });\n                  case 5:\n                    results = _context2.sent;\n                    n = results.length;\n                    if (n) {\n                      _context2.next = 9;\n                      break;\n                    }\n                    return _context2.abrupt(\"break\", 12);\n                  case 9:\n                    for (i = 0; i < n; i++) {\n                      entries.push(results[i]);\n                    }\n                    _context2.next = 2;\n                    break;\n                  case 12:\n                    return _context2.abrupt(\"return\", entries);\n                  case 13:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }, _callee2);\n            }));\n            return _readDirectory.apply(this, arguments);\n          };\n          readDirectory = function _readDirectory2(_x3) {\n            return _readDirectory.apply(this, arguments);\n          };\n          flattenFileList = [];\n          progressFileList = [];\n          files.forEach(function (file) {\n            return progressFileList.push(file.webkitGetAsEntry());\n          });\n\n          // eslint-disable-next-line @typescript-eslint/naming-convention\n          _traverseFileTree = /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(item, path) {\n              var _file, entries;\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) switch (_context.prev = _context.next) {\n                  case 0:\n                    if (item) {\n                      _context.next = 2;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 2:\n                    // eslint-disable-next-line no-param-reassign\n                    item.path = path || '';\n                    if (!item.isFile) {\n                      _context.next = 10;\n                      break;\n                    }\n                    _context.next = 6;\n                    return readFile(item);\n                  case 6:\n                    _file = _context.sent;\n                    if (_file) {\n                      flattenFileList.push(_file);\n                    }\n                    _context.next = 15;\n                    break;\n                  case 10:\n                    if (!item.isDirectory) {\n                      _context.next = 15;\n                      break;\n                    }\n                    _context.next = 13;\n                    return readDirectory(item);\n                  case 13:\n                    entries = _context.sent;\n                    progressFileList.push.apply(progressFileList, _toConsumableArray(entries));\n                  case 15:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }, _callee);\n            }));\n            return function _traverseFileTree(_x5, _x6) {\n              return _ref2.apply(this, arguments);\n            };\n          }();\n          wipIndex = 0;\n        case 9:\n          if (!(wipIndex < progressFileList.length)) {\n            _context4.next = 15;\n            break;\n          }\n          _context4.next = 12;\n          return _traverseFileTree(progressFileList[wipIndex]);\n        case 12:\n          wipIndex++;\n          _context4.next = 9;\n          break;\n        case 15:\n          return _context4.abrupt(\"return\", flattenFileList);\n        case 16:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function traverseFileTree(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport default traverseFileTree;","var now = +new Date();\nvar index = 0;\nexport default function uid() {\n  // eslint-disable-next-line no-plusplus\n  return \"rc-upload-\".concat(now, \"-\").concat(++index);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _excluded = [\"component\", \"prefixCls\", \"className\", \"classNames\", \"disabled\", \"id\", \"name\", \"style\", \"styles\", \"multiple\", \"accept\", \"capture\", \"children\", \"directory\", \"openFileDialogOnClick\", \"onMouseEnter\", \"onMouseLeave\", \"hasControlInside\"];\n/* eslint react/no-is-mounted:0,react/sort-comp:0,react/prop-types:0 */\nimport clsx from 'classnames';\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport React, { Component } from 'react';\nimport attrAccept from \"./attr-accept\";\nimport defaultRequest from \"./request\";\nimport traverseFileTree from \"./traverseFileTree\";\nimport getUid from \"./uid\";\nvar AjaxUploader = /*#__PURE__*/function (_Component) {\n  _inherits(AjaxUploader, _Component);\n  var _super = _createSuper(AjaxUploader);\n  function AjaxUploader() {\n    var _this;\n    _classCallCheck(this, AjaxUploader);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      uid: getUid()\n    });\n    _defineProperty(_assertThisInitialized(_this), \"reqs\", {});\n    _defineProperty(_assertThisInitialized(_this), \"fileInput\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_isMounted\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (e) {\n      var _this$props = _this.props,\n        accept = _this$props.accept,\n        directory = _this$props.directory;\n      var files = e.target.files;\n      var acceptedFiles = _toConsumableArray(files).filter(function (file) {\n        return !directory || attrAccept(file, accept);\n      });\n      _this.uploadFiles(acceptedFiles);\n      _this.reset();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", function (event) {\n      var el = _this.fileInput;\n      if (!el) {\n        return;\n      }\n      var target = event.target;\n      var onClick = _this.props.onClick;\n      if (target && target.tagName === 'BUTTON') {\n        var parent = el.parentNode;\n        parent.focus();\n        target.blur();\n      }\n      el.click();\n      if (onClick) {\n        onClick(event);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (e) {\n      if (e.key === 'Enter') {\n        _this.onClick(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDataTransferFiles\", /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(dataTransfer, existFileCallback) {\n        var _this$props2, multiple, accept, directory, items, files, acceptFiles;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this$props2 = _this.props, multiple = _this$props2.multiple, accept = _this$props2.accept, directory = _this$props2.directory;\n              items = _toConsumableArray(dataTransfer.items || []);\n              files = _toConsumableArray(dataTransfer.files || []);\n              if (files.length > 0 || items.some(function (item) {\n                return item.kind === 'file';\n              })) {\n                existFileCallback === null || existFileCallback === void 0 || existFileCallback();\n              }\n              if (!directory) {\n                _context.next = 11;\n                break;\n              }\n              _context.next = 7;\n              return traverseFileTree(Array.prototype.slice.call(items), function (_file) {\n                return attrAccept(_file, _this.props.accept);\n              });\n            case 7:\n              files = _context.sent;\n              _this.uploadFiles(files);\n              _context.next = 14;\n              break;\n            case 11:\n              acceptFiles = _toConsumableArray(files).filter(function (file) {\n                return attrAccept(file, accept);\n              });\n              if (multiple === false) {\n                acceptFiles = files.slice(0, 1);\n              }\n              _this.uploadFiles(acceptFiles);\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    _defineProperty(_assertThisInitialized(_this), \"onFilePaste\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e) {\n        var pastable, clipboardData;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              pastable = _this.props.pastable;\n              if (pastable) {\n                _context2.next = 3;\n                break;\n              }\n              return _context2.abrupt(\"return\");\n            case 3:\n              if (!(e.type === 'paste')) {\n                _context2.next = 6;\n                break;\n              }\n              clipboardData = e.clipboardData;\n              return _context2.abrupt(\"return\", _this.onDataTransferFiles(clipboardData, function () {\n                e.preventDefault();\n              }));\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      return function (_x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n    _defineProperty(_assertThisInitialized(_this), \"onFileDragOver\", function (e) {\n      e.preventDefault();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onFileDrop\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(e) {\n        var dataTransfer;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n              if (!(e.type === 'drop')) {\n                _context3.next = 4;\n                break;\n              }\n              dataTransfer = e.dataTransfer;\n              return _context3.abrupt(\"return\", _this.onDataTransferFiles(dataTransfer));\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }));\n      return function (_x4) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n    _defineProperty(_assertThisInitialized(_this), \"uploadFiles\", function (files) {\n      var originFiles = _toConsumableArray(files);\n      var postFiles = originFiles.map(function (file) {\n        // eslint-disable-next-line no-param-reassign\n        file.uid = getUid();\n        return _this.processFile(file, originFiles);\n      });\n\n      // Batch upload files\n      Promise.all(postFiles).then(function (fileList) {\n        var onBatchStart = _this.props.onBatchStart;\n        onBatchStart === null || onBatchStart === void 0 || onBatchStart(fileList.map(function (_ref4) {\n          var origin = _ref4.origin,\n            parsedFile = _ref4.parsedFile;\n          return {\n            file: origin,\n            parsedFile: parsedFile\n          };\n        }));\n        fileList.filter(function (file) {\n          return file.parsedFile !== null;\n        }).forEach(function (file) {\n          _this.post(file);\n        });\n      });\n    });\n    /**\n     * Process file before upload. When all the file is ready, we start upload.\n     */\n    _defineProperty(_assertThisInitialized(_this), \"processFile\", /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(file, fileList) {\n        var beforeUpload, transformedFile, action, mergedAction, data, mergedData, parsedData, parsedFile, mergedParsedFile;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              beforeUpload = _this.props.beforeUpload;\n              transformedFile = file;\n              if (!beforeUpload) {\n                _context4.next = 14;\n                break;\n              }\n              _context4.prev = 3;\n              _context4.next = 6;\n              return beforeUpload(file, fileList);\n            case 6:\n              transformedFile = _context4.sent;\n              _context4.next = 12;\n              break;\n            case 9:\n              _context4.prev = 9;\n              _context4.t0 = _context4[\"catch\"](3);\n              // Rejection will also trade as false\n              transformedFile = false;\n            case 12:\n              if (!(transformedFile === false)) {\n                _context4.next = 14;\n                break;\n              }\n              return _context4.abrupt(\"return\", {\n                origin: file,\n                parsedFile: null,\n                action: null,\n                data: null\n              });\n            case 14:\n              // Get latest action\n              action = _this.props.action;\n              if (!(typeof action === 'function')) {\n                _context4.next = 21;\n                break;\n              }\n              _context4.next = 18;\n              return action(file);\n            case 18:\n              mergedAction = _context4.sent;\n              _context4.next = 22;\n              break;\n            case 21:\n              mergedAction = action;\n            case 22:\n              // Get latest data\n              data = _this.props.data;\n              if (!(typeof data === 'function')) {\n                _context4.next = 29;\n                break;\n              }\n              _context4.next = 26;\n              return data(file);\n            case 26:\n              mergedData = _context4.sent;\n              _context4.next = 30;\n              break;\n            case 29:\n              mergedData = data;\n            case 30:\n              parsedData =\n              // string type is from legacy `transformFile`.\n              // Not sure if this will work since no related test case works with it\n              (_typeof(transformedFile) === 'object' || typeof transformedFile === 'string') && transformedFile ? transformedFile : file;\n              if (parsedData instanceof File) {\n                parsedFile = parsedData;\n              } else {\n                parsedFile = new File([parsedData], file.name, {\n                  type: file.type\n                });\n              }\n              mergedParsedFile = parsedFile;\n              mergedParsedFile.uid = file.uid;\n              return _context4.abrupt(\"return\", {\n                origin: file,\n                data: mergedData,\n                parsedFile: mergedParsedFile,\n                action: mergedAction\n              });\n            case 35:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[3, 9]]);\n      }));\n      return function (_x5, _x6) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n    _defineProperty(_assertThisInitialized(_this), \"saveFileInput\", function (node) {\n      _this.fileInput = node;\n    });\n    return _this;\n  }\n  _createClass(AjaxUploader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n      var pastable = this.props.pastable;\n      if (pastable) {\n        document.addEventListener('paste', this.onFilePaste);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n      this.abort();\n      document.removeEventListener('paste', this.onFilePaste);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var pastable = this.props.pastable;\n      if (pastable && !prevProps.pastable) {\n        document.addEventListener('paste', this.onFilePaste);\n      } else if (!pastable && prevProps.pastable) {\n        document.removeEventListener('paste', this.onFilePaste);\n      }\n    }\n  }, {\n    key: \"post\",\n    value: function post(_ref6) {\n      var _this2 = this;\n      var data = _ref6.data,\n        origin = _ref6.origin,\n        action = _ref6.action,\n        parsedFile = _ref6.parsedFile;\n      if (!this._isMounted) {\n        return;\n      }\n      var _this$props3 = this.props,\n        onStart = _this$props3.onStart,\n        customRequest = _this$props3.customRequest,\n        name = _this$props3.name,\n        headers = _this$props3.headers,\n        withCredentials = _this$props3.withCredentials,\n        method = _this$props3.method;\n      var uid = origin.uid;\n      var request = customRequest || defaultRequest;\n      var requestOption = {\n        action: action,\n        filename: name,\n        data: data,\n        file: parsedFile,\n        headers: headers,\n        withCredentials: withCredentials,\n        method: method || 'post',\n        onProgress: function onProgress(e) {\n          var onProgress = _this2.props.onProgress;\n          onProgress === null || onProgress === void 0 || onProgress(e, parsedFile);\n        },\n        onSuccess: function onSuccess(ret, xhr) {\n          var onSuccess = _this2.props.onSuccess;\n          onSuccess === null || onSuccess === void 0 || onSuccess(ret, parsedFile, xhr);\n          delete _this2.reqs[uid];\n        },\n        onError: function onError(err, ret) {\n          var onError = _this2.props.onError;\n          onError === null || onError === void 0 || onError(err, ret, parsedFile);\n          delete _this2.reqs[uid];\n        }\n      };\n      onStart(origin);\n      this.reqs[uid] = request(requestOption);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.setState({\n        uid: getUid()\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(file) {\n      var reqs = this.reqs;\n      if (file) {\n        var uid = file.uid ? file.uid : file;\n        if (reqs[uid] && reqs[uid].abort) {\n          reqs[uid].abort();\n        }\n        delete reqs[uid];\n      } else {\n        Object.keys(reqs).forEach(function (uid) {\n          if (reqs[uid] && reqs[uid].abort) {\n            reqs[uid].abort();\n          }\n          delete reqs[uid];\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        Tag = _this$props4.component,\n        prefixCls = _this$props4.prefixCls,\n        className = _this$props4.className,\n        _this$props4$classNam = _this$props4.classNames,\n        classNames = _this$props4$classNam === void 0 ? {} : _this$props4$classNam,\n        disabled = _this$props4.disabled,\n        id = _this$props4.id,\n        name = _this$props4.name,\n        style = _this$props4.style,\n        _this$props4$styles = _this$props4.styles,\n        styles = _this$props4$styles === void 0 ? {} : _this$props4$styles,\n        multiple = _this$props4.multiple,\n        accept = _this$props4.accept,\n        capture = _this$props4.capture,\n        children = _this$props4.children,\n        directory = _this$props4.directory,\n        openFileDialogOnClick = _this$props4.openFileDialogOnClick,\n        onMouseEnter = _this$props4.onMouseEnter,\n        onMouseLeave = _this$props4.onMouseLeave,\n        hasControlInside = _this$props4.hasControlInside,\n        otherProps = _objectWithoutProperties(_this$props4, _excluded);\n      var cls = clsx(_defineProperty(_defineProperty(_defineProperty({}, prefixCls, true), \"\".concat(prefixCls, \"-disabled\"), disabled), className, className));\n      // because input don't have directory/webkitdirectory type declaration\n      var dirProps = directory ? {\n        directory: 'directory',\n        webkitdirectory: 'webkitdirectory'\n      } : {};\n      var events = disabled ? {} : {\n        onClick: openFileDialogOnClick ? this.onClick : function () {},\n        onKeyDown: openFileDialogOnClick ? this.onKeyDown : function () {},\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: onMouseLeave,\n        onDrop: this.onFileDrop,\n        onDragOver: this.onFileDragOver,\n        tabIndex: hasControlInside ? undefined : '0'\n      };\n      return /*#__PURE__*/React.createElement(Tag, _extends({}, events, {\n        className: cls,\n        role: hasControlInside ? undefined : 'button',\n        style: style\n      }), /*#__PURE__*/React.createElement(\"input\", _extends({}, pickAttrs(otherProps, {\n        aria: true,\n        data: true\n      }), {\n        id: id\n        /**\n         * https://github.com/ant-design/ant-design/issues/50643,\n         * https://github.com/react-component/upload/pull/575#issuecomment-2320646552\n         */,\n        name: name,\n        disabled: disabled,\n        type: \"file\",\n        ref: this.saveFileInput,\n        onClick: function onClick(e) {\n          return e.stopPropagation();\n        } // https://github.com/ant-design/ant-design/issues/19948\n        ,\n        key: this.state.uid,\n        style: _objectSpread({\n          display: 'none'\n        }, styles.input),\n        className: classNames.input,\n        accept: accept\n      }, dirProps, {\n        multiple: multiple,\n        onChange: this.onChange\n      }, capture != null ? {\n        capture: capture\n      } : {})), children);\n    }\n  }]);\n  return AjaxUploader;\n}(Component);\nexport default AjaxUploader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n/* eslint react/prop-types:0 */\nimport React, { Component } from 'react';\nimport AjaxUpload from \"./AjaxUploader\";\nfunction empty() {}\nvar Upload = /*#__PURE__*/function (_Component) {\n  _inherits(Upload, _Component);\n  var _super = _createSuper(Upload);\n  function Upload() {\n    var _this;\n    _classCallCheck(this, Upload);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"uploader\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"saveUploader\", function (node) {\n      _this.uploader = node;\n    });\n    return _this;\n  }\n  _createClass(Upload, [{\n    key: \"abort\",\n    value: function abort(file) {\n      this.uploader.abort(file);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(AjaxUpload, _extends({}, this.props, {\n        ref: this.saveUploader\n      }));\n    }\n  }]);\n  return Upload;\n}(Component);\n_defineProperty(Upload, \"defaultProps\", {\n  component: 'span',\n  prefixCls: 'rc-upload',\n  data: {},\n  headers: {},\n  name: 'file',\n  multipart: false,\n  onStart: empty,\n  onError: empty,\n  onSuccess: empty,\n  multiple: false,\n  beforeUpload: null,\n  customRequest: null,\n  withCredentials: false,\n  openFileDialogOnClick: true,\n  hasControlInside: false\n});\nexport default Upload;","import Upload from \"./Upload\";\nexport default Upload;","import { unit } from '@ant-design/cssinjs';\nconst genDraggerStyle = token => {\n  const {\n    componentCls,\n    iconCls\n  } = token;\n  return {\n    [`${componentCls}-wrapper`]: {\n      [`${componentCls}-drag`]: {\n        position: 'relative',\n        width: '100%',\n        height: '100%',\n        textAlign: 'center',\n        background: token.colorFillAlter,\n        border: `${unit(token.lineWidth)} dashed ${token.colorBorder}`,\n        borderRadius: token.borderRadiusLG,\n        cursor: 'pointer',\n        transition: `border-color ${token.motionDurationSlow}`,\n        [componentCls]: {\n          padding: token.padding\n        },\n        [`${componentCls}-btn`]: {\n          display: 'table',\n          width: '100%',\n          height: '100%',\n          outline: 'none',\n          borderRadius: token.borderRadiusLG,\n          '&:focus-visible': {\n            outline: `${unit(token.lineWidthFocus)} solid ${token.colorPrimaryBorder}`\n          }\n        },\n        [`${componentCls}-drag-container`]: {\n          display: 'table-cell',\n          verticalAlign: 'middle'\n        },\n        [`\n          &:not(${componentCls}-disabled):hover,\n          &-hover:not(${componentCls}-disabled)\n        `]: {\n          borderColor: token.colorPrimaryHover\n        },\n        [`p${componentCls}-drag-icon`]: {\n          marginBottom: token.margin,\n          [iconCls]: {\n            color: token.colorPrimary,\n            fontSize: token.uploadThumbnailSize\n          }\n        },\n        [`p${componentCls}-text`]: {\n          margin: `0 0 ${unit(token.marginXXS)}`,\n          color: token.colorTextHeading,\n          fontSize: token.fontSizeLG\n        },\n        [`p${componentCls}-hint`]: {\n          color: token.colorTextDescription,\n          fontSize: token.fontSize\n        },\n        // ===================== Disabled =====================\n        [`&${componentCls}-disabled`]: {\n          [`p${componentCls}-drag-icon ${iconCls},\n            p${componentCls}-text,\n            p${componentCls}-hint\n          `]: {\n            color: token.colorTextDisabled\n          }\n        }\n      }\n    }\n  };\n};\nexport default genDraggerStyle;","import { unit } from '@ant-design/cssinjs';\nimport { clearFix, textEllipsis } from '../../style';\nconst genListStyle = token => {\n  const {\n    componentCls,\n    iconCls,\n    fontSize,\n    lineHeight,\n    calc\n  } = token;\n  const itemCls = `${componentCls}-list-item`;\n  const actionsCls = `${itemCls}-actions`;\n  const actionCls = `${itemCls}-action`;\n  return {\n    [`${componentCls}-wrapper`]: {\n      [`${componentCls}-list`]: Object.assign(Object.assign({}, clearFix()), {\n        lineHeight: token.lineHeight,\n        [itemCls]: {\n          position: 'relative',\n          height: calc(token.lineHeight).mul(fontSize).equal(),\n          marginTop: token.marginXS,\n          fontSize,\n          display: 'flex',\n          alignItems: 'center',\n          transition: `background-color ${token.motionDurationSlow}`,\n          borderRadius: token.borderRadiusSM,\n          '&:hover': {\n            backgroundColor: token.controlItemBgHover\n          },\n          [`${itemCls}-name`]: Object.assign(Object.assign({}, textEllipsis), {\n            padding: `0 ${unit(token.paddingXS)}`,\n            lineHeight,\n            flex: 'auto',\n            transition: `all ${token.motionDurationSlow}`\n          }),\n          [actionsCls]: {\n            whiteSpace: 'nowrap',\n            [actionCls]: {\n              opacity: 0\n            },\n            [iconCls]: {\n              color: token.actionsColor,\n              transition: `all ${token.motionDurationSlow}`\n            },\n            [`\n              ${actionCls}:focus-visible,\n              &.picture ${actionCls}\n            `]: {\n              opacity: 1\n            }\n          },\n          [`${componentCls}-icon ${iconCls}`]: {\n            color: token.colorIcon,\n            fontSize\n          },\n          [`${itemCls}-progress`]: {\n            position: 'absolute',\n            bottom: token.calc(token.uploadProgressOffset).mul(-1).equal(),\n            width: '100%',\n            paddingInlineStart: calc(fontSize).add(token.paddingXS).equal(),\n            fontSize,\n            lineHeight: 0,\n            pointerEvents: 'none',\n            '> div': {\n              margin: 0\n            }\n          }\n        },\n        [`${itemCls}:hover ${actionCls}`]: {\n          opacity: 1\n        },\n        [`${itemCls}-error`]: {\n          color: token.colorError,\n          [`${itemCls}-name, ${componentCls}-icon ${iconCls}`]: {\n            color: token.colorError\n          },\n          [actionsCls]: {\n            [`${iconCls}, ${iconCls}:hover`]: {\n              color: token.colorError\n            },\n            [actionCls]: {\n              opacity: 1\n            }\n          }\n        },\n        [`${componentCls}-list-item-container`]: {\n          transition: `opacity ${token.motionDurationSlow}, height ${token.motionDurationSlow}`,\n          // For smooth removing animation\n          '&::before': {\n            display: 'table',\n            width: 0,\n            height: 0,\n            content: '\"\"'\n          }\n        }\n      })\n    }\n  };\n};\nexport default genListStyle;","import { Keyframes } from '@ant-design/cssinjs';\nimport { initFadeMotion } from '../../style/motion';\n// =========================== Motion ===========================\nconst genMotionStyle = token => {\n  const {\n    componentCls\n  } = token;\n  const uploadAnimateInlineIn = new Keyframes('uploadAnimateInlineIn', {\n    from: {\n      width: 0,\n      height: 0,\n      padding: 0,\n      opacity: 0,\n      margin: token.calc(token.marginXS).div(-2).equal()\n    }\n  });\n  const uploadAnimateInlineOut = new Keyframes('uploadAnimateInlineOut', {\n    to: {\n      width: 0,\n      height: 0,\n      padding: 0,\n      opacity: 0,\n      margin: token.calc(token.marginXS).div(-2).equal()\n    }\n  });\n  const inlineCls = `${componentCls}-animate-inline`;\n  return [{\n    [`${componentCls}-wrapper`]: {\n      [`${inlineCls}-appear, ${inlineCls}-enter, ${inlineCls}-leave`]: {\n        animationDuration: token.motionDurationSlow,\n        animationTimingFunction: token.motionEaseInOutCirc,\n        animationFillMode: 'forwards'\n      },\n      [`${inlineCls}-appear, ${inlineCls}-enter`]: {\n        animationName: uploadAnimateInlineIn\n      },\n      [`${inlineCls}-leave`]: {\n        animationName: uploadAnimateInlineOut\n      }\n    }\n  }, {\n    [`${componentCls}-wrapper`]: initFadeMotion(token)\n  }, uploadAnimateInlineIn, uploadAnimateInlineOut];\n};\nexport default genMotionStyle;","import { blue } from '@ant-design/colors';\nimport { unit } from '@ant-design/cssinjs';\nimport { clearFix, textEllipsis } from '../../style';\nconst genPictureStyle = token => {\n  const {\n    componentCls,\n    iconCls,\n    uploadThumbnailSize,\n    uploadProgressOffset,\n    calc\n  } = token;\n  const listCls = `${componentCls}-list`;\n  const itemCls = `${listCls}-item`;\n  return {\n    [`${componentCls}-wrapper`]: {\n      // ${listCls} \n      [`\n        ${listCls}${listCls}-picture,\n        ${listCls}${listCls}-picture-card,\n        ${listCls}${listCls}-picture-circle\n      `]: {\n        [itemCls]: {\n          position: 'relative',\n          height: calc(uploadThumbnailSize).add(calc(token.lineWidth).mul(2)).add(calc(token.paddingXS).mul(2)).equal(),\n          padding: token.paddingXS,\n          border: `${unit(token.lineWidth)} ${token.lineType} ${token.colorBorder}`,\n          borderRadius: token.borderRadiusLG,\n          '&:hover': {\n            background: 'transparent'\n          },\n          [`${itemCls}-thumbnail`]: Object.assign(Object.assign({}, textEllipsis), {\n            width: uploadThumbnailSize,\n            height: uploadThumbnailSize,\n            lineHeight: unit(calc(uploadThumbnailSize).add(token.paddingSM).equal()),\n            textAlign: 'center',\n            flex: 'none',\n            [iconCls]: {\n              fontSize: token.fontSizeHeading2,\n              color: token.colorPrimary\n            },\n            img: {\n              display: 'block',\n              width: '100%',\n              height: '100%',\n              overflow: 'hidden'\n            }\n          }),\n          [`${itemCls}-progress`]: {\n            bottom: uploadProgressOffset,\n            width: `calc(100% - ${unit(calc(token.paddingSM).mul(2).equal())})`,\n            marginTop: 0,\n            paddingInlineStart: calc(uploadThumbnailSize).add(token.paddingXS).equal()\n          }\n        },\n        [`${itemCls}-error`]: {\n          borderColor: token.colorError,\n          // Adjust the color of the error icon : https://github.com/ant-design/ant-design/pull/24160\n          [`${itemCls}-thumbnail ${iconCls}`]: {\n            [`svg path[fill='${blue[0]}']`]: {\n              fill: token.colorErrorBg\n            },\n            [`svg path[fill='${blue.primary}']`]: {\n              fill: token.colorError\n            }\n          }\n        },\n        [`${itemCls}-uploading`]: {\n          borderStyle: 'dashed',\n          [`${itemCls}-name`]: {\n            marginBottom: uploadProgressOffset\n          }\n        }\n      },\n      [`${listCls}${listCls}-picture-circle ${itemCls}`]: {\n        [`&, &::before, ${itemCls}-thumbnail`]: {\n          borderRadius: '50%'\n        }\n      }\n    }\n  };\n};\nconst genPictureCardStyle = token => {\n  const {\n    componentCls,\n    iconCls,\n    fontSizeLG,\n    colorTextLightSolid,\n    calc\n  } = token;\n  const listCls = `${componentCls}-list`;\n  const itemCls = `${listCls}-item`;\n  const uploadPictureCardSize = token.uploadPicCardSize;\n  return {\n    [`\n      ${componentCls}-wrapper${componentCls}-picture-card-wrapper,\n      ${componentCls}-wrapper${componentCls}-picture-circle-wrapper\n    `]: Object.assign(Object.assign({}, clearFix()), {\n      display: 'block',\n      [`${componentCls}${componentCls}-select`]: {\n        width: uploadPictureCardSize,\n        height: uploadPictureCardSize,\n        textAlign: 'center',\n        verticalAlign: 'top',\n        backgroundColor: token.colorFillAlter,\n        border: `${unit(token.lineWidth)} dashed ${token.colorBorder}`,\n        borderRadius: token.borderRadiusLG,\n        cursor: 'pointer',\n        transition: `border-color ${token.motionDurationSlow}`,\n        [`> ${componentCls}`]: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: '100%',\n          textAlign: 'center'\n        },\n        [`&:not(${componentCls}-disabled):hover`]: {\n          borderColor: token.colorPrimary\n        }\n      },\n      // list\n      [`${listCls}${listCls}-picture-card, ${listCls}${listCls}-picture-circle`]: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        '@supports not (gap: 1px)': {\n          '& > *': {\n            marginBlockEnd: token.marginXS,\n            marginInlineEnd: token.marginXS\n          }\n        },\n        '@supports (gap: 1px)': {\n          gap: token.marginXS\n        },\n        [`${listCls}-item-container`]: {\n          display: 'inline-block',\n          width: uploadPictureCardSize,\n          height: uploadPictureCardSize,\n          verticalAlign: 'top'\n        },\n        '&::after': {\n          display: 'none'\n        },\n        '&::before': {\n          display: 'none'\n        },\n        [itemCls]: {\n          height: '100%',\n          margin: 0,\n          '&::before': {\n            position: 'absolute',\n            zIndex: 1,\n            width: `calc(100% - ${unit(calc(token.paddingXS).mul(2).equal())})`,\n            height: `calc(100% - ${unit(calc(token.paddingXS).mul(2).equal())})`,\n            backgroundColor: token.colorBgMask,\n            opacity: 0,\n            transition: `all ${token.motionDurationSlow}`,\n            content: '\" \"'\n          }\n        },\n        [`${itemCls}:hover`]: {\n          [`&::before, ${itemCls}-actions`]: {\n            opacity: 1\n          }\n        },\n        [`${itemCls}-actions`]: {\n          position: 'absolute',\n          insetInlineStart: 0,\n          zIndex: 10,\n          width: '100%',\n          whiteSpace: 'nowrap',\n          textAlign: 'center',\n          opacity: 0,\n          transition: `all ${token.motionDurationSlow}`,\n          [`\n            ${iconCls}-eye,\n            ${iconCls}-download,\n            ${iconCls}-delete\n          `]: {\n            zIndex: 10,\n            width: fontSizeLG,\n            margin: `0 ${unit(token.marginXXS)}`,\n            fontSize: fontSizeLG,\n            cursor: 'pointer',\n            transition: `all ${token.motionDurationSlow}`,\n            color: colorTextLightSolid,\n            '&:hover': {\n              color: colorTextLightSolid\n            },\n            svg: {\n              verticalAlign: 'baseline'\n            }\n          }\n        },\n        [`${itemCls}-thumbnail, ${itemCls}-thumbnail img`]: {\n          position: 'static',\n          display: 'block',\n          width: '100%',\n          height: '100%',\n          objectFit: 'contain'\n        },\n        [`${itemCls}-name`]: {\n          display: 'none',\n          textAlign: 'center'\n        },\n        [`${itemCls}-file + ${itemCls}-name`]: {\n          position: 'absolute',\n          bottom: token.margin,\n          display: 'block',\n          width: `calc(100% - ${unit(calc(token.paddingXS).mul(2).equal())})`\n        },\n        [`${itemCls}-uploading`]: {\n          [`&${itemCls}`]: {\n            backgroundColor: token.colorFillAlter\n          },\n          [`&::before, ${iconCls}-eye, ${iconCls}-download, ${iconCls}-delete`]: {\n            display: 'none'\n          }\n        },\n        [`${itemCls}-progress`]: {\n          bottom: token.marginXL,\n          width: `calc(100% - ${unit(calc(token.paddingXS).mul(2).equal())})`,\n          paddingInlineStart: 0\n        }\n      }\n    }),\n    [`${componentCls}-wrapper${componentCls}-picture-circle-wrapper`]: {\n      [`${componentCls}${componentCls}-select`]: {\n        borderRadius: '50%'\n      }\n    }\n  };\n};\nexport { genPictureStyle, genPictureCardStyle };","// =========================== Motion ===========================\nconst genRtlStyle = token => {\n  const {\n    componentCls\n  } = token;\n  return {\n    [`${componentCls}-rtl`]: {\n      direction: 'rtl'\n    }\n  };\n};\nexport default genRtlStyle;","import { resetComponent } from '../../style';\nimport { genCollapseMotion } from '../../style/motion';\nimport { genStyleHooks, mergeToken } from '../../theme/internal';\nimport genDraggerStyle from './dragger';\nimport genListStyle from './list';\nimport genMotionStyle from './motion';\nimport { genPictureCardStyle, genPictureStyle } from './picture';\nimport genRtlStyle from './rtl';\nconst genBaseStyle = token => {\n  const {\n    componentCls,\n    colorTextDisabled\n  } = token;\n  return {\n    [`${componentCls}-wrapper`]: Object.assign(Object.assign({}, resetComponent(token)), {\n      [componentCls]: {\n        outline: 0,\n        \"input[type='file']\": {\n          cursor: 'pointer'\n        }\n      },\n      [`${componentCls}-select`]: {\n        display: 'inline-block'\n      },\n      [`${componentCls}-hidden`]: {\n        display: 'none'\n      },\n      [`${componentCls}-disabled`]: {\n        color: colorTextDisabled,\n        cursor: 'not-allowed'\n      }\n    })\n  };\n};\nexport const prepareComponentToken = token => ({\n  actionsColor: token.colorIcon\n});\n// ============================== Export ==============================\nexport default genStyleHooks('Upload', token => {\n  const {\n    fontSizeHeading3,\n    fontHeight,\n    lineWidth,\n    controlHeightLG,\n    calc\n  } = token;\n  const uploadToken = mergeToken(token, {\n    uploadThumbnailSize: calc(fontSizeHeading3).mul(2).equal(),\n    uploadProgressOffset: calc(calc(fontHeight).div(2)).add(lineWidth).equal(),\n    uploadPicCardSize: calc(controlHeightLG).mul(2.55).equal()\n  });\n  return [genBaseStyle(uploadToken), genDraggerStyle(uploadToken), genPictureStyle(uploadToken), genPictureCardStyle(uploadToken), genListStyle(uploadToken), genMotionStyle(uploadToken), genRtlStyle(uploadToken), genCollapseMotion(uploadToken)];\n}, prepareComponentToken);","// This icon file is generated automatically.\nvar FileTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z\", \"fill\": primaryColor } }] }; }, \"name\": \"file\", \"theme\": \"twotone\" };\nexport default FileTwoTone;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport FileTwoToneSvg from \"@ant-design/icons-svg/es/asn/FileTwoTone\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar FileTwoTone = function FileTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: FileTwoToneSvg\n  }));\n};\n\n/**![file](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUzNCAzNTJWMTM2SDIzMnY3NTJoNTYwVjM5NEg1NzZhNDIgNDIgMCAwMS00Mi00MnoiIGZpbGw9IiNlNmY0ZmYiIC8+PHBhdGggZD0iTTg1NC42IDI4OC42TDYzOS40IDczLjRjLTYtNi0xNC4xLTkuNC0yMi42LTkuNEgxOTJjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjgzMmMwIDE3LjcgMTQuMyAzMiAzMiAzMmg2NDBjMTcuNyAwIDMyLTE0LjMgMzItMzJWMzExLjNjMC04LjUtMy40LTE2LjctOS40LTIyLjd6TTYwMiAxMzcuOEw3OTAuMiAzMjZINjAyVjEzNy44ek03OTIgODg4SDIzMlYxMzZoMzAydjIxNmE0MiA0MiAwIDAwNDIgNDJoMjE2djQ5NHoiIGZpbGw9IiMxNjc3ZmYiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(FileTwoTone);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'FileTwoTone';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar PaperClipOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z\" } }] }, \"name\": \"paper-clip\", \"theme\": \"outlined\" };\nexport default PaperClipOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PaperClipOutlinedSvg from \"@ant-design/icons-svg/es/asn/PaperClipOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar PaperClipOutlined = function PaperClipOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: PaperClipOutlinedSvg\n  }));\n};\n\n/**![paper-clip](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTc3OS4zIDE5Ni42Yy05NC4yLTk0LjItMjQ3LjYtOTQuMi0zNDEuNyAwbC0yNjEgMjYwLjhjLTEuNyAxLjctMi42IDQtMi42IDYuNHMuOSA0LjcgMi42IDYuNGwzNi45IDM2LjlhOSA5IDAgMDAxMi43IDBsMjYxLTI2MC44YzMyLjQtMzIuNCA3NS41LTUwLjIgMTIxLjMtNTAuMnM4OC45IDE3LjggMTIxLjIgNTAuMmMzMi40IDMyLjQgNTAuMiA3NS41IDUwLjIgMTIxLjIgMCA0NS44LTE3LjggODguOC01MC4yIDEyMS4ybC0yNjYgMjY1LjktNDMuMSA0My4xYy00MC4zIDQwLjMtMTA1LjggNDAuMy0xNDYuMSAwLTE5LjUtMTkuNS0zMC4yLTQ1LjQtMzAuMi03M3MxMC43LTUzLjUgMzAuMi03M2wyNjMuOS0yNjMuOGM2LjctNi42IDE1LjUtMTAuMyAyNC45LTEwLjNoLjFjOS40IDAgMTguMSAzLjcgMjQuNyAxMC4zIDYuNyA2LjcgMTAuMyAxNS41IDEwLjMgMjQuOSAwIDkuMy0zLjcgMTguMS0xMC4zIDI0LjdMMzcyLjQgNjUzYy0xLjcgMS43LTIuNiA0LTIuNiA2LjRzLjkgNC43IDIuNiA2LjRsMzYuOSAzNi45YTkgOSAwIDAwMTIuNyAwbDIxNS42LTIxNS42YzE5LjktMTkuOSAzMC44LTQ2LjMgMzAuOC03NC40cy0xMS01NC42LTMwLjgtNzQuNGMtNDEuMS00MS4xLTEwNy45LTQxLTE0OSAwTDQ2MyAzNjQgMjI0LjggNjAyLjFBMTcyLjIyIDE3Mi4yMiAwIDAwMTc0IDcyNC44YzAgNDYuMyAxOC4xIDg5LjggNTAuOCAxMjIuNSAzMy45IDMzLjggNzguMyA1MC43IDEyMi43IDUwLjcgNDQuNCAwIDg4LjgtMTYuOSAxMjIuNi01MC43bDMwOS4yLTMwOUM4MjQuOCA0OTIuNyA4NTAgNDMyIDg1MCAzNjcuNWMuMS02NC42LTI1LjEtMTI1LjMtNzAuNy0xNzAuOXoiIC8+PC9zdmc+) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(PaperClipOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PaperClipOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar PictureTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z\", \"fill\": primaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M276 368a28 28 0 1056 0 28 28 0 10-56 0z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z\", \"fill\": primaryColor } }] }; }, \"name\": \"picture\", \"theme\": \"twotone\" };\nexport default PictureTwoTone;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PictureTwoToneSvg from \"@ant-design/icons-svg/es/asn/PictureTwoTone\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar PictureTwoTone = function PictureTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: PictureTwoToneSvg\n  }));\n};\n\n/**![picture](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTkyOCAxNjBIOTZjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjY0MGMwIDE3LjcgMTQuMyAzMiAzMiAzMmg4MzJjMTcuNyAwIDMyLTE0LjMgMzItMzJWMTkyYzAtMTcuNy0xNC4zLTMyLTMyLTMyem0tNDAgNjMySDEzNnYtMzkuOWwxMzguNS0xNjQuMyAxNTAuMSAxNzhMNjU4LjEgNDg5IDg4OCA3NjEuNlY3OTJ6bTAtMTI5LjhMNjY0LjIgMzk2LjhjLTMuMi0zLjgtOS0zLjgtMTIuMiAwTDQyNC42IDY2Ni40bC0xNDQtMTcwLjdjLTMuMi0zLjgtOS0zLjgtMTIuMiAwTDEzNiA2NTIuN1YyMzJoNzUydjQzMC4yeiIgZmlsbD0iIzE2NzdmZiIgLz48cGF0aCBkPSJNNDI0LjYgNzY1LjhsLTE1MC4xLTE3OEwxMzYgNzUyLjFWNzkyaDc1MnYtMzAuNEw2NTguMSA0ODl6IiBmaWxsPSIjZTZmNGZmIiAvPjxwYXRoIGQ9Ik0xMzYgNjUyLjdsMTMyLjQtMTU3YzMuMi0zLjggOS0zLjggMTIuMiAwbDE0NCAxNzAuN0w2NTIgMzk2LjhjMy4yLTMuOCA5LTMuOCAxMi4yIDBMODg4IDY2Mi4yVjIzMkgxMzZ2NDIwLjd6TTMwNCAyODBhODggODggMCAxMTAgMTc2IDg4IDg4IDAgMDEwLTE3NnoiIGZpbGw9IiNlNmY0ZmYiIC8+PHBhdGggZD0iTTI3NiAzNjhhMjggMjggMCAxMDU2IDAgMjggMjggMCAxMC01NiAweiIgZmlsbD0iI2U2ZjRmZiIgLz48cGF0aCBkPSJNMzA0IDQ1NmE4OCA4OCAwIDEwMC0xNzYgODggODggMCAwMDAgMTc2em0wLTExNmMxNS41IDAgMjggMTIuNSAyOCAyOHMtMTIuNSAyOC0yOCAyOC0yOC0xMi41LTI4LTI4IDEyLjUtMjggMjgtMjh6IiBmaWxsPSIjMTY3N2ZmIiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(PictureTwoTone);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PictureTwoTone';\n}\nexport default RefIcon;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nexport function file2Obj(file) {\n  return Object.assign(Object.assign({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/** Upload fileList. Replace file if exist or just push into it. */\nexport function updateFileList(file, fileList) {\n  const nextFileList = _toConsumableArray(fileList);\n  const fileIndex = nextFileList.findIndex(({\n    uid\n  }) => uid === file.uid);\n  if (fileIndex === -1) {\n    nextFileList.push(file);\n  } else {\n    nextFileList[fileIndex] = file;\n  }\n  return nextFileList;\n}\nexport function getFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\nexport function removeFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n// ==================== Default Image Preview ====================\nconst extname = (url = '') => {\n  const temp = url.split('/');\n  const filename = temp[temp.length - 1];\n  const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nconst isImageFileType = type => type.indexOf('image/') === 0;\nexport const isImageUrl = file => {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n  const url = file.thumbUrl || file.url || '';\n  const extension = extname(url);\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)) {\n    return true;\n  }\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n  return true;\n};\nconst MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(resolve => {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n    const canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;\n    document.body.appendChild(canvas);\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.onload = () => {\n      const {\n        width,\n        height\n      } = img;\n      let drawWidth = MEASURE_SIZE;\n      let drawHeight = MEASURE_SIZE;\n      let offsetX = 0;\n      let offsetY = 0;\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      const dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      window.URL.revokeObjectURL(img.src);\n      resolve(dataURL);\n    };\n    img.crossOrigin = 'anonymous';\n    if (file.type.startsWith('image/svg+xml')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result && typeof reader.result === 'string') {\n          img.src = reader.result;\n        }\n      };\n      reader.readAsDataURL(file);\n    } else if (file.type.startsWith('image/gif')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result) {\n          resolve(reader.result);\n        }\n      };\n      reader.readAsDataURL(file);\n    } else {\n      img.src = window.URL.createObjectURL(file);\n    }\n  });\n}","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\n/**![delete](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTM2MCAxODRoLThjNC40IDAgOC0zLjYgOC04djhoMzA0di04YzAgNC40IDMuNiA4IDggOGgtOHY3Mmg3MnYtODBjMC0zNS4zLTI4LjctNjQtNjQtNjRIMzUyYy0zNS4zIDAtNjQgMjguNy02NCA2NHY4MGg3MnYtNzJ6bTUwNCA3MkgxNjBjLTE3LjcgMC0zMiAxNC4zLTMyIDMydjMyYzAgNC40IDMuNiA4IDggOGg2MC40bDI0LjcgNTIzYzEuNiAzNC4xIDI5LjggNjEgNjMuOSA2MWg0NTRjMzQuMiAwIDYyLjMtMjYuOCA2My45LTYxbDI0LjctNTIzSDg4OGM0LjQgMCA4LTMuNiA4LTh2LTMyYzAtMTcuNy0xNC4zLTMyLTMyLTMyek03MzEuMyA4NDBIMjkyLjdsLTI0LjItNTEyaDQ4N2wtMjQuMiA1MTJ6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(DeleteOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'DeleteOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar DownloadOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"download\", \"theme\": \"outlined\" };\nexport default DownloadOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport DownloadOutlinedSvg from \"@ant-design/icons-svg/es/asn/DownloadOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar DownloadOutlined = function DownloadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: DownloadOutlinedSvg\n  }));\n};\n\n/**![download](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUwNS43IDY2MWE4IDggMCAwMDEyLjYgMGwxMTItMTQxLjdjNC4xLTUuMi40LTEyLjktNi4zLTEyLjloLTc0LjFWMTY4YzAtNC40LTMuNi04LTgtOGgtNjBjLTQuNCAwLTggMy42LTggOHYzMzguM0g0MDBjLTYuNyAwLTEwLjQgNy43LTYuMyAxMi45bDExMiAxNDEuOHpNODc4IDYyNmgtNjBjLTQuNCAwLTggMy42LTggOHYxNTRIMjE0VjYzNGMwLTQuNC0zLjYtOC04LThoLTYwYy00LjQgMC04IDMuNi04IDh2MTk4YzAgMTcuNyAxNC4zIDMyIDMyIDMyaDY4NGMxNy43IDAgMzItMTQuMyAzMi0zMlY2MzRjMC00LjQtMy42LTgtOC04eiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(DownloadOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'DownloadOutlined';\n}\nexport default RefIcon;","import { useRef, useEffect } from 'react';\nexport var defaultProps = {\n  percent: 0,\n  prefixCls: 'rc-progress',\n  strokeColor: '#2db7f5',\n  strokeLinecap: 'round',\n  strokeWidth: 1,\n  trailColor: '#D9D9D9',\n  trailWidth: 1,\n  gapPosition: 'bottom'\n};\nexport var useTransitionDuration = function useTransitionDuration() {\n  var pathsRef = useRef([]);\n  var prevTimeStamp = useRef(null);\n  useEffect(function () {\n    var now = Date.now();\n    var updated = false;\n    pathsRef.current.forEach(function (path) {\n      if (!path) {\n        return;\n      }\n      updated = true;\n      var pathStyle = path.style;\n      pathStyle.transitionDuration = '.3s, .3s, .3s, .06s';\n      if (prevTimeStamp.current && now - prevTimeStamp.current < 100) {\n        pathStyle.transitionDuration = '0s, 0s';\n      }\n    });\n    if (updated) {\n      prevTimeStamp.current = Date.now();\n    }\n  });\n  return pathsRef.current;\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"className\", \"percent\", \"prefixCls\", \"strokeColor\", \"strokeLinecap\", \"strokeWidth\", \"style\", \"trailColor\", \"trailWidth\", \"transition\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useTransitionDuration, defaultProps } from \"./common\";\nvar Line = function Line(props) {\n  var _defaultProps$props = _objectSpread(_objectSpread({}, defaultProps), props),\n    className = _defaultProps$props.className,\n    percent = _defaultProps$props.percent,\n    prefixCls = _defaultProps$props.prefixCls,\n    strokeColor = _defaultProps$props.strokeColor,\n    strokeLinecap = _defaultProps$props.strokeLinecap,\n    strokeWidth = _defaultProps$props.strokeWidth,\n    style = _defaultProps$props.style,\n    trailColor = _defaultProps$props.trailColor,\n    trailWidth = _defaultProps$props.trailWidth,\n    transition = _defaultProps$props.transition,\n    restProps = _objectWithoutProperties(_defaultProps$props, _excluded);\n\n  // eslint-disable-next-line no-param-reassign\n  delete restProps.gapPosition;\n  var percentList = Array.isArray(percent) ? percent : [percent];\n  var strokeColorList = Array.isArray(strokeColor) ? strokeColor : [strokeColor];\n  var paths = useTransitionDuration();\n  var center = strokeWidth / 2;\n  var right = 100 - strokeWidth / 2;\n  var pathString = \"M \".concat(strokeLinecap === 'round' ? center : 0, \",\").concat(center, \"\\n         L \").concat(strokeLinecap === 'round' ? right : 100, \",\").concat(center);\n  var viewBoxString = \"0 0 100 \".concat(strokeWidth);\n  var stackPtg = 0;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: classNames(\"\".concat(prefixCls, \"-line\"), className),\n    viewBox: viewBoxString,\n    preserveAspectRatio: \"none\",\n    style: style\n  }, restProps), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"\".concat(prefixCls, \"-line-trail\"),\n    d: pathString,\n    strokeLinecap: strokeLinecap,\n    stroke: trailColor,\n    strokeWidth: trailWidth || strokeWidth,\n    fillOpacity: \"0\"\n  }), percentList.map(function (ptg, index) {\n    var dashPercent = 1;\n    switch (strokeLinecap) {\n      case 'round':\n        dashPercent = 1 - strokeWidth / 100;\n        break;\n      case 'square':\n        dashPercent = 1 - strokeWidth / 2 / 100;\n        break;\n      default:\n        dashPercent = 1;\n        break;\n    }\n    var pathStyle = {\n      strokeDasharray: \"\".concat(ptg * dashPercent, \"px, 100px\"),\n      strokeDashoffset: \"-\".concat(stackPtg, \"px\"),\n      transition: transition || 'stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear'\n    };\n    var color = strokeColorList[index] || strokeColorList[strokeColorList.length - 1];\n    stackPtg += ptg;\n    return /*#__PURE__*/React.createElement(\"path\", {\n      key: index,\n      className: \"\".concat(prefixCls, \"-line-path\"),\n      d: pathString,\n      strokeLinecap: strokeLinecap,\n      stroke: color,\n      strokeWidth: strokeWidth,\n      fillOpacity: \"0\",\n      ref: function ref(elem) {\n        // https://reactjs.org/docs/refs-and-the-dom.html#callback-refs\n        // React will call the ref callback with the DOM element when the component mounts,\n        // and call it with `null` when it unmounts.\n        // Refs are guaranteed to be up-to-date before componentDidMount or componentDidUpdate fires.\n\n        paths[index] = elem;\n      },\n      style: pathStyle\n    });\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Line.displayName = 'Line';\n}\nexport default Line;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nvar uuid = 0;\n\n/** Is client side and not jsdom */\nexport var isBrowserClient = process.env.NODE_ENV !== 'test' && canUseDom();\n\n/** Get unique id for accessibility usage */\nfunction getUUID() {\n  var retId;\n\n  // Test never reach\n  /* istanbul ignore if */\n  if (isBrowserClient) {\n    retId = uuid;\n    uuid += 1;\n  } else {\n    retId = 'TEST_OR_SSR';\n  }\n  return retId;\n}\nexport default (function (id) {\n  // Inner id for accessibility usage. Only work in client side\n  var _React$useState = React.useState(),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    innerId = _React$useState2[0],\n    setInnerId = _React$useState2[1];\n  React.useEffect(function () {\n    setInnerId(\"rc_progress_\".concat(getUUID()));\n  }, []);\n  return id || innerId;\n});","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nvar Block = function Block(_ref) {\n  var bg = _ref.bg,\n    children = _ref.children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '100%',\n      height: '100%',\n      background: bg\n    }\n  }, children);\n};\nfunction getPtgColors(color, scale) {\n  return Object.keys(color).map(function (key) {\n    var parsedKey = parseFloat(key);\n    var ptgKey = \"\".concat(Math.floor(parsedKey * scale), \"%\");\n    return \"\".concat(color[key], \" \").concat(ptgKey);\n  });\n}\nvar PtgCircle = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var prefixCls = props.prefixCls,\n    color = props.color,\n    gradientId = props.gradientId,\n    radius = props.radius,\n    circleStyleForStack = props.style,\n    ptg = props.ptg,\n    strokeLinecap = props.strokeLinecap,\n    strokeWidth = props.strokeWidth,\n    size = props.size,\n    gapDegree = props.gapDegree;\n  var isGradient = color && _typeof(color) === 'object';\n  var stroke = isGradient ? \"#FFF\" : undefined;\n\n  // ========================== Circle ==========================\n  var halfSize = size / 2;\n  var circleNode = /*#__PURE__*/React.createElement(\"circle\", {\n    className: \"\".concat(prefixCls, \"-circle-path\"),\n    r: radius,\n    cx: halfSize,\n    cy: halfSize,\n    stroke: stroke,\n    strokeLinecap: strokeLinecap,\n    strokeWidth: strokeWidth,\n    opacity: ptg === 0 ? 0 : 1,\n    style: circleStyleForStack,\n    ref: ref\n  });\n\n  // ========================== Render ==========================\n  if (!isGradient) {\n    return circleNode;\n  }\n  var maskId = \"\".concat(gradientId, \"-conic\");\n  var fromDeg = gapDegree ? \"\".concat(180 + gapDegree / 2, \"deg\") : '0deg';\n  var conicColors = getPtgColors(color, (360 - gapDegree) / 360);\n  var linearColors = getPtgColors(color, 1);\n  var conicColorBg = \"conic-gradient(from \".concat(fromDeg, \", \").concat(conicColors.join(', '), \")\");\n  var linearColorBg = \"linear-gradient(to \".concat(gapDegree ? 'bottom' : 'top', \", \").concat(linearColors.join(', '), \")\");\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"mask\", {\n    id: maskId\n  }, circleNode), /*#__PURE__*/React.createElement(\"foreignObject\", {\n    x: 0,\n    y: 0,\n    width: size,\n    height: size,\n    mask: \"url(#\".concat(maskId, \")\")\n  }, /*#__PURE__*/React.createElement(Block, {\n    bg: linearColorBg\n  }, /*#__PURE__*/React.createElement(Block, {\n    bg: conicColorBg\n  }))));\n});\nif (process.env.NODE_ENV !== 'production') {\n  PtgCircle.displayName = 'PtgCircle';\n}\nexport default PtgCircle;","export var VIEW_BOX_SIZE = 100;\nexport var getCircleStyle = function getCircleStyle(perimeter, perimeterWithoutGap, offset, percent, rotateDeg, gapDegree, gapPosition, strokeColor, strokeLinecap, strokeWidth) {\n  var stepSpace = arguments.length > 10 && arguments[10] !== undefined ? arguments[10] : 0;\n  var offsetDeg = offset / 100 * 360 * ((360 - gapDegree) / 360);\n  var positionDeg = gapDegree === 0 ? 0 : {\n    bottom: 0,\n    top: 180,\n    left: 90,\n    right: -90\n  }[gapPosition];\n  var strokeDashoffset = (100 - percent) / 100 * perimeterWithoutGap;\n  // Fix percent accuracy when strokeLinecap is round\n  // https://github.com/ant-design/ant-design/issues/35009\n  if (strokeLinecap === 'round' && percent !== 100) {\n    strokeDashoffset += strokeWidth / 2;\n    // when percent is small enough (<= 1%), keep smallest value to avoid it's disappearance\n    if (strokeDashoffset >= perimeterWithoutGap) {\n      strokeDashoffset = perimeterWithoutGap - 0.01;\n    }\n  }\n  var halfSize = VIEW_BOX_SIZE / 2;\n  return {\n    stroke: typeof strokeColor === 'string' ? strokeColor : undefined,\n    strokeDasharray: \"\".concat(perimeterWithoutGap, \"px \").concat(perimeter),\n    strokeDashoffset: strokeDashoffset + stepSpace,\n    transform: \"rotate(\".concat(rotateDeg + offsetDeg + positionDeg, \"deg)\"),\n    transformOrigin: \"\".concat(halfSize, \"px \").concat(halfSize, \"px\"),\n    transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s',\n    fillOpacity: 0\n  };\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"id\", \"prefixCls\", \"steps\", \"strokeWidth\", \"trailWidth\", \"gapDegree\", \"gapPosition\", \"trailColor\", \"strokeLinecap\", \"style\", \"className\", \"strokeColor\", \"percent\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { defaultProps, useTransitionDuration } from \"../common\";\nimport useId from \"../hooks/useId\";\nimport PtgCircle from \"./PtgCircle\";\nimport { VIEW_BOX_SIZE, getCircleStyle } from \"./util\";\nfunction toArray(value) {\n  var mergedValue = value !== null && value !== void 0 ? value : [];\n  return Array.isArray(mergedValue) ? mergedValue : [mergedValue];\n}\nvar Circle = function Circle(props) {\n  var _defaultProps$props = _objectSpread(_objectSpread({}, defaultProps), props),\n    id = _defaultProps$props.id,\n    prefixCls = _defaultProps$props.prefixCls,\n    steps = _defaultProps$props.steps,\n    strokeWidth = _defaultProps$props.strokeWidth,\n    trailWidth = _defaultProps$props.trailWidth,\n    _defaultProps$props$g = _defaultProps$props.gapDegree,\n    gapDegree = _defaultProps$props$g === void 0 ? 0 : _defaultProps$props$g,\n    gapPosition = _defaultProps$props.gapPosition,\n    trailColor = _defaultProps$props.trailColor,\n    strokeLinecap = _defaultProps$props.strokeLinecap,\n    style = _defaultProps$props.style,\n    className = _defaultProps$props.className,\n    strokeColor = _defaultProps$props.strokeColor,\n    percent = _defaultProps$props.percent,\n    restProps = _objectWithoutProperties(_defaultProps$props, _excluded);\n  var halfSize = VIEW_BOX_SIZE / 2;\n  var mergedId = useId(id);\n  var gradientId = \"\".concat(mergedId, \"-gradient\");\n  var radius = halfSize - strokeWidth / 2;\n  var perimeter = Math.PI * 2 * radius;\n  var rotateDeg = gapDegree > 0 ? 90 + gapDegree / 2 : -90;\n  var perimeterWithoutGap = perimeter * ((360 - gapDegree) / 360);\n  var _ref = _typeof(steps) === 'object' ? steps : {\n      count: steps,\n      gap: 2\n    },\n    stepCount = _ref.count,\n    stepGap = _ref.gap;\n  var percentList = toArray(percent);\n  var strokeColorList = toArray(strokeColor);\n  var gradient = strokeColorList.find(function (color) {\n    return color && _typeof(color) === 'object';\n  });\n  var isConicGradient = gradient && _typeof(gradient) === 'object';\n  var mergedStrokeLinecap = isConicGradient ? 'butt' : strokeLinecap;\n  var circleStyle = getCircleStyle(perimeter, perimeterWithoutGap, 0, 100, rotateDeg, gapDegree, gapPosition, trailColor, mergedStrokeLinecap, strokeWidth);\n  var paths = useTransitionDuration();\n  var getStokeList = function getStokeList() {\n    var stackPtg = 0;\n    return percentList.map(function (ptg, index) {\n      var color = strokeColorList[index] || strokeColorList[strokeColorList.length - 1];\n      var circleStyleForStack = getCircleStyle(perimeter, perimeterWithoutGap, stackPtg, ptg, rotateDeg, gapDegree, gapPosition, color, mergedStrokeLinecap, strokeWidth);\n      stackPtg += ptg;\n      return /*#__PURE__*/React.createElement(PtgCircle, {\n        key: index,\n        color: color,\n        ptg: ptg,\n        radius: radius,\n        prefixCls: prefixCls,\n        gradientId: gradientId,\n        style: circleStyleForStack,\n        strokeLinecap: mergedStrokeLinecap,\n        strokeWidth: strokeWidth,\n        gapDegree: gapDegree,\n        ref: function ref(elem) {\n          // https://reactjs.org/docs/refs-and-the-dom.html#callback-refs\n          // React will call the ref callback with the DOM element when the component mounts,\n          // and call it with `null` when it unmounts.\n          // Refs are guaranteed to be up-to-date before componentDidMount or componentDidUpdate fires.\n\n          paths[index] = elem;\n        },\n        size: VIEW_BOX_SIZE\n      });\n    }).reverse();\n  };\n  var getStepStokeList = function getStepStokeList() {\n    // only show the first percent when pass steps\n    var current = Math.round(stepCount * (percentList[0] / 100));\n    var stepPtg = 100 / stepCount;\n    var stackPtg = 0;\n    return new Array(stepCount).fill(null).map(function (_, index) {\n      var color = index <= current - 1 ? strokeColorList[0] : trailColor;\n      var stroke = color && _typeof(color) === 'object' ? \"url(#\".concat(gradientId, \")\") : undefined;\n      var circleStyleForStack = getCircleStyle(perimeter, perimeterWithoutGap, stackPtg, stepPtg, rotateDeg, gapDegree, gapPosition, color, 'butt', strokeWidth, stepGap);\n      stackPtg += (perimeterWithoutGap - circleStyleForStack.strokeDashoffset + stepGap) * 100 / perimeterWithoutGap;\n      return /*#__PURE__*/React.createElement(\"circle\", {\n        key: index,\n        className: \"\".concat(prefixCls, \"-circle-path\"),\n        r: radius,\n        cx: halfSize,\n        cy: halfSize,\n        stroke: stroke,\n        strokeWidth: strokeWidth,\n        opacity: 1,\n        style: circleStyleForStack,\n        ref: function ref(elem) {\n          paths[index] = elem;\n        }\n      });\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: classNames(\"\".concat(prefixCls, \"-circle\"), className),\n    viewBox: \"0 0 \".concat(VIEW_BOX_SIZE, \" \").concat(VIEW_BOX_SIZE),\n    style: style,\n    id: id,\n    role: \"presentation\"\n  }, restProps), !stepCount && /*#__PURE__*/React.createElement(\"circle\", {\n    className: \"\".concat(prefixCls, \"-circle-trail\"),\n    r: radius,\n    cx: halfSize,\n    cy: halfSize,\n    stroke: trailColor,\n    strokeLinecap: mergedStrokeLinecap,\n    strokeWidth: trailWidth || strokeWidth,\n    style: circleStyle\n  }), stepCount ? getStepStokeList() : getStokeList());\n};\nif (process.env.NODE_ENV !== 'production') {\n  Circle.displayName = 'Circle';\n}\nexport default Circle;","import { presetPrimaryColors } from '@ant-design/colors';\nexport function validProgress(progress) {\n  if (!progress || progress < 0) {\n    return 0;\n  }\n  if (progress > 100) {\n    return 100;\n  }\n  return progress;\n}\nexport function getSuccessPercent({\n  success,\n  successPercent\n}) {\n  let percent = successPercent;\n  /** @deprecated Use `percent` instead */\n  if (success && 'progress' in success) {\n    percent = success.progress;\n  }\n  if (success && 'percent' in success) {\n    percent = success.percent;\n  }\n  return percent;\n}\nexport const getPercentage = ({\n  percent,\n  success,\n  successPercent\n}) => {\n  const realSuccessPercent = validProgress(getSuccessPercent({\n    success,\n    successPercent\n  }));\n  return [realSuccessPercent, validProgress(validProgress(percent) - realSuccessPercent)];\n};\nexport const getStrokeColor = ({\n  success = {},\n  strokeColor\n}) => {\n  const {\n    strokeColor: successColor\n  } = success;\n  return [successColor || presetPrimaryColors.green, strokeColor || null];\n};\nexport const getSize = (size, type, extra) => {\n  var _a, _b, _c, _d;\n  let width = -1;\n  let height = -1;\n  if (type === 'step') {\n    const steps = extra.steps;\n    const strokeWidth = extra.strokeWidth;\n    if (typeof size === 'string' || typeof size === 'undefined') {\n      width = size === 'small' ? 2 : 14;\n      height = strokeWidth !== null && strokeWidth !== void 0 ? strokeWidth : 8;\n    } else if (typeof size === 'number') {\n      [width, height] = [size, size];\n    } else {\n      [width = 14, height = 8] = Array.isArray(size) ? size : [size.width, size.height];\n    }\n    width *= steps;\n  } else if (type === 'line') {\n    const strokeWidth = extra === null || extra === void 0 ? void 0 : extra.strokeWidth;\n    if (typeof size === 'string' || typeof size === 'undefined') {\n      height = strokeWidth || (size === 'small' ? 6 : 8);\n    } else if (typeof size === 'number') {\n      [width, height] = [size, size];\n    } else {\n      [width = -1, height = 8] = Array.isArray(size) ? size : [size.width, size.height];\n    }\n  } else if (type === 'circle' || type === 'dashboard') {\n    if (typeof size === 'string' || typeof size === 'undefined') {\n      [width, height] = size === 'small' ? [60, 60] : [120, 120];\n    } else if (typeof size === 'number') {\n      [width, height] = [size, size];\n    } else if (Array.isArray(size)) {\n      width = (_b = (_a = size[0]) !== null && _a !== void 0 ? _a : size[1]) !== null && _b !== void 0 ? _b : 120;\n      height = (_d = (_c = size[0]) !== null && _c !== void 0 ? _c : size[1]) !== null && _d !== void 0 ? _d : 120;\n    }\n  }\n  return [width, height];\n};","\"use client\";\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { Circle as RCCircle } from 'rc-progress';\nimport Tooltip from '../tooltip';\nimport { getPercentage, getSize, getStrokeColor } from './utils';\nconst CIRCLE_MIN_STROKE_WIDTH = 3;\nconst getMinPercent = width => CIRCLE_MIN_STROKE_WIDTH / width * 100;\nconst Circle = props => {\n  const {\n    prefixCls,\n    trailColor = null,\n    strokeLinecap = 'round',\n    gapPosition,\n    gapDegree,\n    width: originWidth = 120,\n    type,\n    children,\n    success,\n    size = originWidth,\n    steps\n  } = props;\n  const [width, height] = getSize(size, 'circle');\n  let {\n    strokeWidth\n  } = props;\n  if (strokeWidth === undefined) {\n    strokeWidth = Math.max(getMinPercent(width), 6);\n  }\n  const circleStyle = {\n    width,\n    height,\n    fontSize: width * 0.15 + 6\n  };\n  const realGapDegree = React.useMemo(() => {\n    // Support gapDeg = 0 when type = 'dashboard'\n    if (gapDegree || gapDegree === 0) {\n      return gapDegree;\n    }\n    if (type === 'dashboard') {\n      return 75;\n    }\n    return undefined;\n  }, [gapDegree, type]);\n  const percentArray = getPercentage(props);\n  const gapPos = gapPosition || type === 'dashboard' && 'bottom' || undefined;\n  // using className to style stroke color\n  const isGradient = Object.prototype.toString.call(props.strokeColor) === '[object Object]';\n  const strokeColor = getStrokeColor({\n    success,\n    strokeColor: props.strokeColor\n  });\n  const wrapperClassName = classNames(`${prefixCls}-inner`, {\n    [`${prefixCls}-circle-gradient`]: isGradient\n  });\n  const circleContent = /*#__PURE__*/React.createElement(RCCircle, {\n    steps: steps,\n    percent: steps ? percentArray[1] : percentArray,\n    strokeWidth: strokeWidth,\n    trailWidth: strokeWidth,\n    strokeColor: steps ? strokeColor[1] : strokeColor,\n    strokeLinecap: strokeLinecap,\n    trailColor: trailColor,\n    prefixCls: prefixCls,\n    gapDegree: realGapDegree,\n    gapPosition: gapPos\n  });\n  const smallCircle = width <= 20;\n  const node = /*#__PURE__*/React.createElement(\"div\", {\n    className: wrapperClassName,\n    style: circleStyle\n  }, circleContent, !smallCircle && children);\n  if (smallCircle) {\n    return /*#__PURE__*/React.createElement(Tooltip, {\n      title: children\n    }, node);\n  }\n  return node;\n};\nexport default Circle;","import { Keyframes, unit } from '@ant-design/cssinjs';\nimport { resetComponent } from '../../style';\nimport { genStyleHooks, mergeToken } from '../../theme/internal';\nexport const LineStrokeColorVar = '--progress-line-stroke-color';\nexport const Percent = '--progress-percent';\nconst genAntProgressActive = isRtl => {\n  const direction = isRtl ? '100%' : '-100%';\n  return new Keyframes(`antProgress${isRtl ? 'RTL' : 'LTR'}Active`, {\n    '0%': {\n      transform: `translateX(${direction}) scaleX(0)`,\n      opacity: 0.1\n    },\n    '20%': {\n      transform: `translateX(${direction}) scaleX(0)`,\n      opacity: 0.5\n    },\n    to: {\n      transform: 'translateX(0) scaleX(1)',\n      opacity: 0\n    }\n  });\n};\nconst genBaseStyle = token => {\n  const {\n    componentCls: progressCls,\n    iconCls: iconPrefixCls\n  } = token;\n  return {\n    [progressCls]: Object.assign(Object.assign({}, resetComponent(token)), {\n      display: 'inline-block',\n      '&-rtl': {\n        direction: 'rtl'\n      },\n      '&-line': {\n        position: 'relative',\n        width: '100%',\n        fontSize: token.fontSize\n      },\n      [`${progressCls}-outer`]: {\n        display: 'inline-flex',\n        alignItems: 'center',\n        width: '100%'\n      },\n      [`${progressCls}-inner`]: {\n        position: 'relative',\n        display: 'inline-block',\n        width: '100%',\n        flex: 1,\n        overflow: 'hidden',\n        verticalAlign: 'middle',\n        backgroundColor: token.remainingColor,\n        borderRadius: token.lineBorderRadius\n      },\n      [`${progressCls}-inner:not(${progressCls}-circle-gradient)`]: {\n        [`${progressCls}-circle-path`]: {\n          stroke: token.defaultColor\n        }\n      },\n      [`${progressCls}-success-bg, ${progressCls}-bg`]: {\n        position: 'relative',\n        background: token.defaultColor,\n        borderRadius: token.lineBorderRadius,\n        transition: `all ${token.motionDurationSlow} ${token.motionEaseInOutCirc}`\n      },\n      [`${progressCls}-layout-bottom`]: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        [`${progressCls}-text`]: {\n          width: 'max-content',\n          marginInlineStart: 0,\n          marginTop: token.marginXXS\n        }\n      },\n      [`${progressCls}-bg`]: {\n        overflow: 'hidden',\n        '&::after': {\n          content: '\"\"',\n          background: {\n            _multi_value_: true,\n            value: ['inherit', `var(${LineStrokeColorVar})`]\n          },\n          height: '100%',\n          width: `calc(1 / var(${Percent}) * 100%)`,\n          display: 'block'\n        },\n        [`&${progressCls}-bg-inner`]: {\n          minWidth: 'max-content',\n          '&::after': {\n            content: 'none'\n          },\n          [`${progressCls}-text-inner`]: {\n            color: token.colorWhite,\n            [`&${progressCls}-text-bright`]: {\n              color: 'rgba(0, 0, 0, 0.45)'\n            }\n          }\n        }\n      },\n      [`${progressCls}-success-bg`]: {\n        position: 'absolute',\n        insetBlockStart: 0,\n        insetInlineStart: 0,\n        backgroundColor: token.colorSuccess\n      },\n      [`${progressCls}-text`]: {\n        display: 'inline-block',\n        marginInlineStart: token.marginXS,\n        color: token.colorText,\n        lineHeight: 1,\n        width: '2em',\n        whiteSpace: 'nowrap',\n        textAlign: 'start',\n        verticalAlign: 'middle',\n        wordBreak: 'normal',\n        [iconPrefixCls]: {\n          fontSize: token.fontSize\n        },\n        [`&${progressCls}-text-outer`]: {\n          width: 'max-content'\n        },\n        [`&${progressCls}-text-outer${progressCls}-text-start`]: {\n          width: 'max-content',\n          marginInlineStart: 0,\n          marginInlineEnd: token.marginXS\n        }\n      },\n      [`${progressCls}-text-inner`]: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: '100%',\n        height: '100%',\n        marginInlineStart: 0,\n        padding: `0 ${unit(token.paddingXXS)}`,\n        [`&${progressCls}-text-start`]: {\n          justifyContent: 'start'\n        },\n        [`&${progressCls}-text-end`]: {\n          justifyContent: 'end'\n        }\n      },\n      [`&${progressCls}-status-active`]: {\n        [`${progressCls}-bg::before`]: {\n          position: 'absolute',\n          inset: 0,\n          backgroundColor: token.colorBgContainer,\n          borderRadius: token.lineBorderRadius,\n          opacity: 0,\n          animationName: genAntProgressActive(),\n          animationDuration: token.progressActiveMotionDuration,\n          animationTimingFunction: token.motionEaseOutQuint,\n          animationIterationCount: 'infinite',\n          content: '\"\"'\n        }\n      },\n      [`&${progressCls}-rtl${progressCls}-status-active`]: {\n        [`${progressCls}-bg::before`]: {\n          animationName: genAntProgressActive(true)\n        }\n      },\n      [`&${progressCls}-status-exception`]: {\n        [`${progressCls}-bg`]: {\n          backgroundColor: token.colorError\n        },\n        [`${progressCls}-text`]: {\n          color: token.colorError\n        }\n      },\n      [`&${progressCls}-status-exception ${progressCls}-inner:not(${progressCls}-circle-gradient)`]: {\n        [`${progressCls}-circle-path`]: {\n          stroke: token.colorError\n        }\n      },\n      [`&${progressCls}-status-success`]: {\n        [`${progressCls}-bg`]: {\n          backgroundColor: token.colorSuccess\n        },\n        [`${progressCls}-text`]: {\n          color: token.colorSuccess\n        }\n      },\n      [`&${progressCls}-status-success ${progressCls}-inner:not(${progressCls}-circle-gradient)`]: {\n        [`${progressCls}-circle-path`]: {\n          stroke: token.colorSuccess\n        }\n      }\n    })\n  };\n};\nconst genCircleStyle = token => {\n  const {\n    componentCls: progressCls,\n    iconCls: iconPrefixCls\n  } = token;\n  return {\n    [progressCls]: {\n      [`${progressCls}-circle-trail`]: {\n        stroke: token.remainingColor\n      },\n      [`&${progressCls}-circle ${progressCls}-inner`]: {\n        position: 'relative',\n        lineHeight: 1,\n        backgroundColor: 'transparent'\n      },\n      [`&${progressCls}-circle ${progressCls}-text`]: {\n        position: 'absolute',\n        insetBlockStart: '50%',\n        insetInlineStart: 0,\n        width: '100%',\n        margin: 0,\n        padding: 0,\n        color: token.circleTextColor,\n        fontSize: token.circleTextFontSize,\n        lineHeight: 1,\n        whiteSpace: 'normal',\n        textAlign: 'center',\n        transform: 'translateY(-50%)',\n        [iconPrefixCls]: {\n          fontSize: token.circleIconFontSize\n        }\n      },\n      [`${progressCls}-circle&-status-exception`]: {\n        [`${progressCls}-text`]: {\n          color: token.colorError\n        }\n      },\n      [`${progressCls}-circle&-status-success`]: {\n        [`${progressCls}-text`]: {\n          color: token.colorSuccess\n        }\n      }\n    },\n    [`${progressCls}-inline-circle`]: {\n      lineHeight: 1,\n      [`${progressCls}-inner`]: {\n        verticalAlign: 'bottom'\n      }\n    }\n  };\n};\nconst genStepStyle = token => {\n  const {\n    componentCls: progressCls\n  } = token;\n  return {\n    [progressCls]: {\n      [`${progressCls}-steps`]: {\n        display: 'inline-block',\n        '&-outer': {\n          display: 'flex',\n          flexDirection: 'row',\n          alignItems: 'center'\n        },\n        '&-item': {\n          flexShrink: 0,\n          minWidth: token.progressStepMinWidth,\n          marginInlineEnd: token.progressStepMarginInlineEnd,\n          backgroundColor: token.remainingColor,\n          transition: `all ${token.motionDurationSlow}`,\n          '&-active': {\n            backgroundColor: token.defaultColor\n          }\n        }\n      }\n    }\n  };\n};\nconst genSmallLine = token => {\n  const {\n    componentCls: progressCls,\n    iconCls: iconPrefixCls\n  } = token;\n  return {\n    [progressCls]: {\n      [`${progressCls}-small&-line, ${progressCls}-small&-line ${progressCls}-text ${iconPrefixCls}`]: {\n        fontSize: token.fontSizeSM\n      }\n    }\n  };\n};\nexport const prepareComponentToken = token => ({\n  circleTextColor: token.colorText,\n  defaultColor: token.colorInfo,\n  remainingColor: token.colorFillSecondary,\n  lineBorderRadius: 100,\n  // magic for capsule shape, should be a very large number\n  circleTextFontSize: '1em',\n  circleIconFontSize: `${token.fontSize / token.fontSizeSM}em`\n});\nexport default genStyleHooks('Progress', token => {\n  const progressStepMarginInlineEnd = token.calc(token.marginXXS).div(2).equal();\n  const progressToken = mergeToken(token, {\n    progressStepMarginInlineEnd,\n    progressStepMinWidth: progressStepMarginInlineEnd,\n    progressActiveMotionDuration: '2.4s'\n  });\n  return [genBaseStyle(progressToken), genCircleStyle(progressToken), genStepStyle(progressToken), genSmallLine(progressToken)];\n}, prepareComponentToken);","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { presetPrimaryColors } from '@ant-design/colors';\nimport classNames from 'classnames';\nimport { devUseWarning } from '../_util/warning';\nimport { LineStrokeColorVar, Percent } from './style';\nimport { getSize, getSuccessPercent, validProgress } from './utils';\n/**\n * @example\n *   {\n *     \"0%\": \"#afc163\",\n *     \"75%\": \"#009900\",\n *     \"50%\": \"green\", // ====> '#afc163 0%, #66FF00 25%, #00CC00 50%, #009900 75%, #ffffff 100%'\n *     \"25%\": \"#66FF00\",\n *     \"100%\": \"#ffffff\"\n *   }\n */\nexport const sortGradient = gradients => {\n  let tempArr = [];\n  Object.keys(gradients).forEach(key => {\n    const formattedKey = parseFloat(key.replace(/%/g, ''));\n    if (!Number.isNaN(formattedKey)) {\n      tempArr.push({\n        key: formattedKey,\n        value: gradients[key]\n      });\n    }\n  });\n  tempArr = tempArr.sort((a, b) => a.key - b.key);\n  return tempArr.map(({\n    key,\n    value\n  }) => `${value} ${key}%`).join(', ');\n};\n/**\n * Then this man came to realize the truth: Besides six pence, there is the moon. Besides bread and\n * butter, there is the bug. And... Besides women, there is the code.\n *\n * @example\n *   {\n *     \"0%\": \"#afc163\",\n *     \"25%\": \"#66FF00\",\n *     \"50%\": \"#00CC00\", // ====>  linear-gradient(to right, #afc163 0%, #66FF00 25%,\n *     \"75%\": \"#009900\", //        #00CC00 50%, #009900 75%, #ffffff 100%)\n *     \"100%\": \"#ffffff\"\n *   }\n */\nexport const handleGradient = (strokeColor, directionConfig) => {\n  const {\n      from = presetPrimaryColors.blue,\n      to = presetPrimaryColors.blue,\n      direction = directionConfig === 'rtl' ? 'to left' : 'to right'\n    } = strokeColor,\n    rest = __rest(strokeColor, [\"from\", \"to\", \"direction\"]);\n  if (Object.keys(rest).length !== 0) {\n    const sortedGradients = sortGradient(rest);\n    const background = `linear-gradient(${direction}, ${sortedGradients})`;\n    return {\n      background,\n      [LineStrokeColorVar]: background\n    };\n  }\n  const background = `linear-gradient(${direction}, ${from}, ${to})`;\n  return {\n    background,\n    [LineStrokeColorVar]: background\n  };\n};\nconst Line = props => {\n  const {\n    prefixCls,\n    direction: directionConfig,\n    percent,\n    size,\n    strokeWidth,\n    strokeColor,\n    strokeLinecap = 'round',\n    children,\n    trailColor = null,\n    percentPosition,\n    success\n  } = props;\n  const {\n    align: infoAlign,\n    type: infoPosition\n  } = percentPosition;\n  const backgroundProps = strokeColor && typeof strokeColor !== 'string' ? handleGradient(strokeColor, directionConfig) : {\n    [LineStrokeColorVar]: strokeColor,\n    background: strokeColor\n  };\n  const borderRadius = strokeLinecap === 'square' || strokeLinecap === 'butt' ? 0 : undefined;\n  const mergedSize = size !== null && size !== void 0 ? size : [-1, strokeWidth || (size === 'small' ? 6 : 8)];\n  const [width, height] = getSize(mergedSize, 'line', {\n    strokeWidth\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Progress');\n    warning.deprecated(!('strokeWidth' in props), 'strokeWidth', 'size');\n  }\n  const trailStyle = {\n    backgroundColor: trailColor || undefined,\n    borderRadius\n  };\n  const percentStyle = Object.assign(Object.assign({\n    width: `${validProgress(percent)}%`,\n    height,\n    borderRadius\n  }, backgroundProps), {\n    [Percent]: validProgress(percent) / 100\n  });\n  const successPercent = getSuccessPercent(props);\n  const successPercentStyle = {\n    width: `${validProgress(successPercent)}%`,\n    height,\n    borderRadius,\n    backgroundColor: success === null || success === void 0 ? void 0 : success.strokeColor\n  };\n  const outerStyle = {\n    width: width < 0 ? '100%' : width\n  };\n  const lineInner = /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-inner`,\n    style: trailStyle\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(`${prefixCls}-bg`, `${prefixCls}-bg-${infoPosition}`),\n    style: percentStyle\n  }, infoPosition === 'inner' && children), successPercent !== undefined && (/*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-success-bg`,\n    style: successPercentStyle\n  })));\n  const isOuterStart = infoPosition === 'outer' && infoAlign === 'start';\n  const isOuterEnd = infoPosition === 'outer' && infoAlign === 'end';\n  return infoPosition === 'outer' && infoAlign === 'center' ? (/*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-layout-bottom`\n  }, lineInner, children)) : (/*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-outer`,\n    style: outerStyle\n  }, isOuterStart && children, lineInner, isOuterEnd && children));\n};\nexport default Line;","\"use client\";\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { getSize } from './utils';\nconst Steps = props => {\n  const {\n    size,\n    steps,\n    rounding: customRounding = Math.round,\n    percent = 0,\n    strokeWidth = 8,\n    strokeColor,\n    trailColor = null,\n    prefixCls,\n    children\n  } = props;\n  const current = customRounding(steps * (percent / 100));\n  const stepWidth = size === 'small' ? 2 : 14;\n  const mergedSize = size !== null && size !== void 0 ? size : [stepWidth, strokeWidth];\n  const [width, height] = getSize(mergedSize, 'step', {\n    steps,\n    strokeWidth\n  });\n  const unitWidth = width / steps;\n  const styledSteps = Array.from({\n    length: steps\n  });\n  for (let i = 0; i < steps; i++) {\n    const color = Array.isArray(strokeColor) ? strokeColor[i] : strokeColor;\n    styledSteps[i] = /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      className: classNames(`${prefixCls}-steps-item`, {\n        [`${prefixCls}-steps-item-active`]: i <= current - 1\n      }),\n      style: {\n        backgroundColor: i <= current - 1 ? color : trailColor,\n        width: unitWidth,\n        height\n      }\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-steps-outer`\n  }, styledSteps, children);\n};\nexport default Steps;","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport { FastColor } from '@ant-design/fast-color';\nimport CheckCircleFilled from \"@ant-design/icons/es/icons/CheckCircleFilled\";\nimport CheckOutlined from \"@ant-design/icons/es/icons/CheckOutlined\";\nimport CloseCircleFilled from \"@ant-design/icons/es/icons/CloseCircleFilled\";\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport { devUseWarning } from '../_util/warning';\nimport { ConfigContext } from '../config-provider';\nimport Circle from './Circle';\nimport Line from './Line';\nimport Steps from './Steps';\nimport useStyle from './style';\nimport { getSize, getSuccessPercent, validProgress } from './utils';\nexport const ProgressTypes = ['line', 'circle', 'dashboard'];\nconst ProgressStatuses = ['normal', 'exception', 'active', 'success'];\nconst Progress = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const {\n      prefixCls: customizePrefixCls,\n      className,\n      rootClassName,\n      steps,\n      strokeColor,\n      percent = 0,\n      size = 'default',\n      showInfo = true,\n      type = 'line',\n      status,\n      format,\n      style,\n      percentPosition = {}\n    } = props,\n    restProps = __rest(props, [\"prefixCls\", \"className\", \"rootClassName\", \"steps\", \"strokeColor\", \"percent\", \"size\", \"showInfo\", \"type\", \"status\", \"format\", \"style\", \"percentPosition\"]);\n  const {\n    align: infoAlign = 'end',\n    type: infoPosition = 'outer'\n  } = percentPosition;\n  const strokeColorNotArray = Array.isArray(strokeColor) ? strokeColor[0] : strokeColor;\n  const strokeColorNotGradient = typeof strokeColor === 'string' || Array.isArray(strokeColor) ? strokeColor : undefined;\n  const strokeColorIsBright = React.useMemo(() => {\n    if (strokeColorNotArray) {\n      const color = typeof strokeColorNotArray === 'string' ? strokeColorNotArray : Object.values(strokeColorNotArray)[0];\n      return new FastColor(color).isLight();\n    }\n    return false;\n  }, [strokeColor]);\n  const percentNumber = React.useMemo(() => {\n    var _a, _b;\n    const successPercent = getSuccessPercent(props);\n    return parseInt(successPercent !== undefined ? (_a = successPercent !== null && successPercent !== void 0 ? successPercent : 0) === null || _a === void 0 ? void 0 : _a.toString() : (_b = percent !== null && percent !== void 0 ? percent : 0) === null || _b === void 0 ? void 0 : _b.toString(), 10);\n  }, [percent, props.success, props.successPercent]);\n  const progressStatus = React.useMemo(() => {\n    if (!ProgressStatuses.includes(status) && percentNumber >= 100) {\n      return 'success';\n    }\n    return status || 'normal';\n  }, [status, percentNumber]);\n  const {\n    getPrefixCls,\n    direction,\n    progress: progressStyle\n  } = React.useContext(ConfigContext);\n  const prefixCls = getPrefixCls('progress', customizePrefixCls);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls);\n  const isLineType = type === 'line';\n  const isPureLineType = isLineType && !steps;\n  const progressInfo = React.useMemo(() => {\n    if (!showInfo) {\n      return null;\n    }\n    const successPercent = getSuccessPercent(props);\n    let text;\n    const textFormatter = format || (number => `${number}%`);\n    const isBrightInnerColor = isLineType && strokeColorIsBright && infoPosition === 'inner';\n    if (infoPosition === 'inner' || format || progressStatus !== 'exception' && progressStatus !== 'success') {\n      text = textFormatter(validProgress(percent), validProgress(successPercent));\n    } else if (progressStatus === 'exception') {\n      text = isLineType ? /*#__PURE__*/React.createElement(CloseCircleFilled, null) : /*#__PURE__*/React.createElement(CloseOutlined, null);\n    } else if (progressStatus === 'success') {\n      text = isLineType ? /*#__PURE__*/React.createElement(CheckCircleFilled, null) : /*#__PURE__*/React.createElement(CheckOutlined, null);\n    }\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames(`${prefixCls}-text`, {\n        [`${prefixCls}-text-bright`]: isBrightInnerColor,\n        [`${prefixCls}-text-${infoAlign}`]: isPureLineType,\n        [`${prefixCls}-text-${infoPosition}`]: isPureLineType\n      }),\n      title: typeof text === 'string' ? text : undefined\n    }, text);\n  }, [showInfo, percent, percentNumber, progressStatus, type, prefixCls, format]);\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Progress');\n    warning.deprecated(!('successPercent' in props), 'successPercent', 'success.percent');\n    warning.deprecated(!('width' in props), 'width', 'size');\n    if (type === 'circle' || type === 'dashboard') {\n      if (Array.isArray(size)) {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'usage', 'Type \"circle\" and \"dashboard\" do not accept array as `size`, please use number or preset size instead.') : void 0;\n      } else if (typeof size === 'object') {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'usage', 'Type \"circle\" and \"dashboard\" do not accept object as `size`, please use number or preset size instead.') : void 0;\n      }\n    }\n    if (props.success && 'progress' in props.success) {\n      warning.deprecated(false, 'success.progress', 'success.percent');\n    }\n  }\n  let progress;\n  // Render progress shape\n  if (type === 'line') {\n    progress = steps ? (/*#__PURE__*/React.createElement(Steps, Object.assign({}, props, {\n      strokeColor: strokeColorNotGradient,\n      prefixCls: prefixCls,\n      steps: typeof steps === 'object' ? steps.count : steps\n    }), progressInfo)) : (/*#__PURE__*/React.createElement(Line, Object.assign({}, props, {\n      strokeColor: strokeColorNotArray,\n      prefixCls: prefixCls,\n      direction: direction,\n      percentPosition: {\n        align: infoAlign,\n        type: infoPosition\n      }\n    }), progressInfo));\n  } else if (type === 'circle' || type === 'dashboard') {\n    progress = /*#__PURE__*/React.createElement(Circle, Object.assign({}, props, {\n      strokeColor: strokeColorNotArray,\n      prefixCls: prefixCls,\n      progressStatus: progressStatus\n    }), progressInfo);\n  }\n  const classString = classNames(prefixCls, `${prefixCls}-status-${progressStatus}`, {\n    [`${prefixCls}-${type === 'dashboard' && 'circle' || type}`]: type !== 'line',\n    [`${prefixCls}-inline-circle`]: type === 'circle' && getSize(size, 'circle')[0] <= 20,\n    [`${prefixCls}-line`]: isPureLineType,\n    [`${prefixCls}-line-align-${infoAlign}`]: isPureLineType,\n    [`${prefixCls}-line-position-${infoPosition}`]: isPureLineType,\n    [`${prefixCls}-steps`]: steps,\n    [`${prefixCls}-show-info`]: showInfo,\n    [`${prefixCls}-${size}`]: typeof size === 'string',\n    [`${prefixCls}-rtl`]: direction === 'rtl'\n  }, progressStyle === null || progressStyle === void 0 ? void 0 : progressStyle.className, className, rootClassName, hashId, cssVarCls);\n  return wrapCSSVar(/*#__PURE__*/React.createElement(\"div\", Object.assign({\n    ref: ref,\n    style: Object.assign(Object.assign({}, progressStyle === null || progressStyle === void 0 ? void 0 : progressStyle.style), style),\n    className: classString,\n    role: \"progressbar\",\n    \"aria-valuenow\": percentNumber,\n    \"aria-valuemin\": 0,\n    \"aria-valuemax\": 100\n  }, omit(restProps, ['trailColor', 'strokeWidth', 'width', 'gapDegree', 'gapPosition', 'strokeLinecap', 'success', 'successPercent'])), progress));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Progress.displayName = 'Progress';\n}\nexport default Progress;","\"use client\";\n\nimport Progress from './progress';\nexport default Progress;","\"use client\";\n\nimport * as React from 'react';\nimport DeleteOutlined from \"@ant-design/icons/es/icons/DeleteOutlined\";\nimport DownloadOutlined from \"@ant-design/icons/es/icons/DownloadOutlined\";\nimport EyeOutlined from \"@ant-design/icons/es/icons/EyeOutlined\";\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport { ConfigContext } from '../../config-provider';\nimport Progress from '../../progress';\nimport Tooltip from '../../tooltip';\nconst ListItem = /*#__PURE__*/React.forwardRef(({\n  prefixCls,\n  className,\n  style,\n  locale,\n  listType,\n  file,\n  items,\n  progress: progressProps,\n  iconRender,\n  actionIconRender,\n  itemRender,\n  isImgUrl,\n  showPreviewIcon,\n  showRemoveIcon,\n  showDownloadIcon,\n  previewIcon: customPreviewIcon,\n  removeIcon: customRemoveIcon,\n  downloadIcon: customDownloadIcon,\n  extra: customExtra,\n  onPreview,\n  onDownload,\n  onClose\n}, ref) => {\n  var _a, _b;\n  // Status: which will ignore `removed` status\n  const {\n    status\n  } = file;\n  const [mergedStatus, setMergedStatus] = React.useState(status);\n  React.useEffect(() => {\n    if (status !== 'removed') {\n      setMergedStatus(status);\n    }\n  }, [status]);\n  // Delay to show the progress bar\n  const [showProgress, setShowProgress] = React.useState(false);\n  React.useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowProgress(true);\n    }, 300);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, []);\n  const iconNode = iconRender(file);\n  let icon = /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-icon`\n  }, iconNode);\n  if (listType === 'picture' || listType === 'picture-card' || listType === 'picture-circle') {\n    if (mergedStatus === 'uploading' || !file.thumbUrl && !file.url) {\n      const uploadingClassName = classNames(`${prefixCls}-list-item-thumbnail`, {\n        [`${prefixCls}-list-item-file`]: mergedStatus !== 'uploading'\n      });\n      icon = /*#__PURE__*/React.createElement(\"div\", {\n        className: uploadingClassName\n      }, iconNode);\n    } else {\n      const thumbnail = (isImgUrl === null || isImgUrl === void 0 ? void 0 : isImgUrl(file)) ? (/*#__PURE__*/React.createElement(\"img\", {\n        src: file.thumbUrl || file.url,\n        alt: file.name,\n        className: `${prefixCls}-list-item-image`,\n        crossOrigin: file.crossOrigin\n      })) : iconNode;\n      const aClassName = classNames(`${prefixCls}-list-item-thumbnail`, {\n        [`${prefixCls}-list-item-file`]: isImgUrl && !isImgUrl(file)\n      });\n      icon = /*#__PURE__*/React.createElement(\"a\", {\n        className: aClassName,\n        onClick: e => onPreview(file, e),\n        href: file.url || file.thumbUrl,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\"\n      }, thumbnail);\n    }\n  }\n  const listItemClassName = classNames(`${prefixCls}-list-item`, `${prefixCls}-list-item-${mergedStatus}`);\n  const linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n  const removeIcon = (typeof showRemoveIcon === 'function' ? showRemoveIcon(file) : showRemoveIcon) ? actionIconRender((typeof customRemoveIcon === 'function' ? customRemoveIcon(file) : customRemoveIcon) || (/*#__PURE__*/React.createElement(DeleteOutlined, null)), () => onClose(file), prefixCls, locale.removeFile,\n  // acceptUploadDisabled is true, only remove icon will follow Upload disabled prop\n  // https://github.com/ant-design/ant-design/issues/46171\n  true) : null;\n  const downloadIcon = (typeof showDownloadIcon === 'function' ? showDownloadIcon(file) : showDownloadIcon) && mergedStatus === 'done' ? actionIconRender((typeof customDownloadIcon === 'function' ? customDownloadIcon(file) : customDownloadIcon) || /*#__PURE__*/React.createElement(DownloadOutlined, null), () => onDownload(file), prefixCls, locale.downloadFile) : null;\n  const downloadOrDelete = listType !== 'picture-card' && listType !== 'picture-circle' && (/*#__PURE__*/React.createElement(\"span\", {\n    key: \"download-delete\",\n    className: classNames(`${prefixCls}-list-item-actions`, {\n      picture: listType === 'picture'\n    })\n  }, downloadIcon, removeIcon));\n  const extraContent = typeof customExtra === 'function' ? customExtra(file) : customExtra;\n  const extra = extraContent && (/*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefixCls}-list-item-extra`\n  }, extraContent));\n  const listItemNameClass = classNames(`${prefixCls}-list-item-name`);\n  const fileName = file.url ? (/*#__PURE__*/React.createElement(\"a\", Object.assign({\n    key: \"view\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className: listItemNameClass,\n    title: file.name\n  }, linkProps, {\n    href: file.url,\n    onClick: e => onPreview(file, e)\n  }), file.name, extra)) : (/*#__PURE__*/React.createElement(\"span\", {\n    key: \"view\",\n    className: listItemNameClass,\n    onClick: e => onPreview(file, e),\n    title: file.name\n  }, file.name, extra));\n  const previewIcon = (typeof showPreviewIcon === 'function' ? showPreviewIcon(file) : showPreviewIcon) && (file.url || file.thumbUrl) ? (/*#__PURE__*/React.createElement(\"a\", {\n    href: file.url || file.thumbUrl,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    onClick: e => onPreview(file, e),\n    title: locale.previewFile\n  }, typeof customPreviewIcon === 'function' ? customPreviewIcon(file) : customPreviewIcon || /*#__PURE__*/React.createElement(EyeOutlined, null))) : null;\n  const pictureCardActions = (listType === 'picture-card' || listType === 'picture-circle') && mergedStatus !== 'uploading' && (/*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefixCls}-list-item-actions`\n  }, previewIcon, mergedStatus === 'done' && downloadIcon, removeIcon));\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  const rootPrefixCls = getPrefixCls();\n  const dom = /*#__PURE__*/React.createElement(\"div\", {\n    className: listItemClassName\n  }, icon, fileName, downloadOrDelete, pictureCardActions, showProgress && (/*#__PURE__*/React.createElement(CSSMotion, {\n    motionName: `${rootPrefixCls}-fade`,\n    visible: mergedStatus === 'uploading',\n    motionDeadline: 2000\n  }, ({\n    className: motionClassName\n  }) => {\n    // show loading icon if upload progress listener is disabled\n    const loadingProgress = 'percent' in file ? (/*#__PURE__*/React.createElement(Progress, Object.assign({\n      type: \"line\",\n      percent: file.percent,\n      \"aria-label\": file['aria-label'],\n      \"aria-labelledby\": file['aria-labelledby']\n    }, progressProps))) : null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(`${prefixCls}-list-item-progress`, motionClassName)\n    }, loadingProgress);\n  })));\n  const message = file.response && typeof file.response === 'string' ? file.response : ((_a = file.error) === null || _a === void 0 ? void 0 : _a.statusText) || ((_b = file.error) === null || _b === void 0 ? void 0 : _b.message) || locale.uploadError;\n  const item = mergedStatus === 'error' ? (/*#__PURE__*/React.createElement(Tooltip, {\n    title: message,\n    getPopupContainer: node => node.parentNode\n  }, dom)) : dom;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(`${prefixCls}-list-item-container`, className),\n    style: style,\n    ref: ref\n  }, itemRender ? itemRender(item, file, items, {\n    download: onDownload.bind(null, file),\n    preview: onPreview.bind(null, file),\n    remove: onClose.bind(null, file)\n  }) : item);\n});\nexport default ListItem;","\"use client\";\n\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport FileTwoTone from \"@ant-design/icons/es/icons/FileTwoTone\";\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport PaperClipOutlined from \"@ant-design/icons/es/icons/PaperClipOutlined\";\nimport PictureTwoTone from \"@ant-design/icons/es/icons/PictureTwoTone\";\nimport classNames from 'classnames';\nimport CSSMotion, { CSSMotionList } from 'rc-motion';\nimport omit from \"rc-util/es/omit\";\nimport useForceUpdate from '../../_util/hooks/useForceUpdate';\nimport initCollapseMotion from '../../_util/motion';\nimport { cloneElement } from '../../_util/reactNode';\nimport Button from '../../button';\nimport { ConfigContext } from '../../config-provider';\nimport { isImageUrl, previewImage } from '../utils';\nimport ListItem from './ListItem';\nconst InternalUploadList = (props, ref) => {\n  const {\n    listType = 'text',\n    previewFile = previewImage,\n    onPreview,\n    onDownload,\n    onRemove,\n    locale,\n    iconRender,\n    isImageUrl: isImgUrl = isImageUrl,\n    prefixCls: customizePrefixCls,\n    items = [],\n    showPreviewIcon = true,\n    showRemoveIcon = true,\n    showDownloadIcon = false,\n    removeIcon,\n    previewIcon,\n    downloadIcon,\n    extra,\n    progress = {\n      size: [-1, 2],\n      showInfo: false\n    },\n    appendAction,\n    appendActionVisible = true,\n    itemRender,\n    disabled\n  } = props;\n  const forceUpdate = useForceUpdate();\n  const [motionAppear, setMotionAppear] = React.useState(false);\n  const isPictureCardOrCirle = ['picture-card', 'picture-circle'].includes(listType);\n  // ============================= Effect =============================\n  React.useEffect(() => {\n    if (!listType.startsWith('picture')) {\n      return;\n    }\n    (items || []).forEach(file => {\n      if (!(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {\n        return;\n      }\n      file.thumbUrl = '';\n      previewFile === null || previewFile === void 0 ? void 0 : previewFile(file.originFileObj).then(previewDataUrl => {\n        // Need append '' to avoid dead loop\n        file.thumbUrl = previewDataUrl || '';\n        forceUpdate();\n      });\n    });\n  }, [listType, items, previewFile]);\n  React.useEffect(() => {\n    setMotionAppear(true);\n  }, []);\n  // ============================= Events =============================\n  const onInternalPreview = (file, e) => {\n    if (!onPreview) {\n      return;\n    }\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    return onPreview(file);\n  };\n  const onInternalDownload = file => {\n    if (typeof onDownload === 'function') {\n      onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  };\n  const onInternalClose = file => {\n    onRemove === null || onRemove === void 0 ? void 0 : onRemove(file);\n  };\n  const internalIconRender = file => {\n    if (iconRender) {\n      return iconRender(file, listType);\n    }\n    const isLoading = file.status === 'uploading';\n    if (listType.startsWith('picture')) {\n      const loadingIcon = listType === 'picture' ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : locale.uploading;\n      const fileIcon = (isImgUrl === null || isImgUrl === void 0 ? void 0 : isImgUrl(file)) ? /*#__PURE__*/React.createElement(PictureTwoTone, null) : /*#__PURE__*/React.createElement(FileTwoTone, null);\n      return isLoading ? loadingIcon : fileIcon;\n    }\n    return isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : /*#__PURE__*/React.createElement(PaperClipOutlined, null);\n  };\n  const actionIconRender = (customIcon, callback, prefixCls, title, acceptUploadDisabled) => {\n    const btnProps = {\n      type: 'text',\n      size: 'small',\n      title,\n      onClick: e => {\n        var _a, _b;\n        callback();\n        if (/*#__PURE__*/React.isValidElement(customIcon)) {\n          (_b = (_a = customIcon.props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }\n      },\n      className: `${prefixCls}-list-item-action`,\n      disabled: acceptUploadDisabled ? disabled : false\n    };\n    return /*#__PURE__*/React.isValidElement(customIcon) ? (/*#__PURE__*/React.createElement(Button, Object.assign({}, btnProps, {\n      icon: cloneElement(customIcon, Object.assign(Object.assign({}, customIcon.props), {\n        onClick: () => {}\n      }))\n    }))) : (/*#__PURE__*/React.createElement(Button, Object.assign({}, btnProps), /*#__PURE__*/React.createElement(\"span\", null, customIcon)));\n  };\n  // ============================== Ref ===============================\n  // Test needs\n  React.useImperativeHandle(ref, () => ({\n    handlePreview: onInternalPreview,\n    handleDownload: onInternalDownload\n  }));\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  // ============================= Render =============================\n  const prefixCls = getPrefixCls('upload', customizePrefixCls);\n  const rootPrefixCls = getPrefixCls();\n  const listClassNames = classNames(`${prefixCls}-list`, `${prefixCls}-list-${listType}`);\n  const listItemMotion = React.useMemo(() => omit(initCollapseMotion(rootPrefixCls), ['onAppearEnd', 'onEnterEnd', 'onLeaveEnd']), [rootPrefixCls]);\n  const motionConfig = Object.assign(Object.assign({}, isPictureCardOrCirle ? {} : listItemMotion), {\n    motionDeadline: 2000,\n    motionName: `${prefixCls}-${isPictureCardOrCirle ? 'animate-inline' : 'animate'}`,\n    keys: _toConsumableArray(items.map(file => ({\n      key: file.uid,\n      file\n    }))),\n    motionAppear\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: listClassNames\n  }, /*#__PURE__*/React.createElement(CSSMotionList, Object.assign({}, motionConfig, {\n    component: false\n  }), ({\n    key,\n    file,\n    className: motionClassName,\n    style: motionStyle\n  }) => (/*#__PURE__*/React.createElement(ListItem, {\n    key: key,\n    locale: locale,\n    prefixCls: prefixCls,\n    className: motionClassName,\n    style: motionStyle,\n    file: file,\n    items: items,\n    progress: progress,\n    listType: listType,\n    isImgUrl: isImgUrl,\n    showPreviewIcon: showPreviewIcon,\n    showRemoveIcon: showRemoveIcon,\n    showDownloadIcon: showDownloadIcon,\n    removeIcon: removeIcon,\n    previewIcon: previewIcon,\n    downloadIcon: downloadIcon,\n    extra: extra,\n    iconRender: internalIconRender,\n    actionIconRender: actionIconRender,\n    itemRender: itemRender,\n    onPreview: onInternalPreview,\n    onDownload: onInternalDownload,\n    onClose: onInternalClose\n  }))), appendAction && (/*#__PURE__*/React.createElement(CSSMotion, Object.assign({}, motionConfig, {\n    visible: appendActionVisible,\n    forceRender: true\n  }), ({\n    className: motionClassName,\n    style: motionStyle\n  }) => cloneElement(appendAction, oriProps => ({\n    className: classNames(oriProps.className, motionClassName),\n    style: Object.assign(Object.assign(Object.assign({}, motionStyle), {\n      // prevent the element has hover css pseudo-class that may cause animation to end prematurely.\n      pointerEvents: motionClassName ? 'none' : undefined\n    }), oriProps.style)\n  })))));\n};\nconst UploadList = /*#__PURE__*/React.forwardRef(InternalUploadList);\nif (process.env.NODE_ENV !== 'production') {\n  UploadList.displayName = 'UploadList';\n}\nexport default UploadList;","\"use client\";\n\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport * as React from 'react';\nimport { flushSync } from 'react-dom';\nimport classNames from 'classnames';\nimport RcUpload from 'rc-upload';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport { devUseWarning } from '../_util/warning';\nimport { ConfigContext } from '../config-provider';\nimport DisabledContext from '../config-provider/DisabledContext';\nimport { useLocale } from '../locale';\nimport defaultLocale from '../locale/en_US';\nimport useStyle from './style';\nimport UploadList from './UploadList';\nimport { file2Obj, getFileItem, removeFileItem, updateFileList } from './utils';\nexport const LIST_IGNORE = `__LIST_IGNORE_${Date.now()}__`;\nconst InternalUpload = (props, ref) => {\n  const {\n    fileList,\n    defaultFileList,\n    onRemove,\n    showUploadList = true,\n    listType = 'text',\n    onPreview,\n    onDownload,\n    onChange,\n    onDrop,\n    previewFile,\n    disabled: customDisabled,\n    locale: propLocale,\n    iconRender,\n    isImageUrl,\n    progress,\n    prefixCls: customizePrefixCls,\n    className,\n    type = 'select',\n    children,\n    style,\n    itemRender,\n    maxCount,\n    data = {},\n    multiple = false,\n    hasControlInside = true,\n    action = '',\n    accept = '',\n    supportServerRender = true,\n    rootClassName\n  } = props;\n  // ===================== Disabled =====================\n  const disabled = React.useContext(DisabledContext);\n  const mergedDisabled = customDisabled !== null && customDisabled !== void 0 ? customDisabled : disabled;\n  const [mergedFileList, setMergedFileList] = useMergedState(defaultFileList || [], {\n    value: fileList,\n    postState: list => list !== null && list !== void 0 ? list : []\n  });\n  const [dragState, setDragState] = React.useState('drop');\n  const upload = React.useRef(null);\n  const wrapRef = React.useRef(null);\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Upload');\n    process.env.NODE_ENV !== \"production\" ? warning('fileList' in props || !('value' in props), 'usage', '`value` is not a valid prop, do you mean `fileList`?') : void 0;\n    warning.deprecated(!('transformFile' in props), 'transformFile', 'beforeUpload');\n  }\n  // Control mode will auto fill file uid if not provided\n  React.useMemo(() => {\n    const timestamp = Date.now();\n    (fileList || []).forEach((file, index) => {\n      if (!file.uid && !Object.isFrozen(file)) {\n        file.uid = `__AUTO__${timestamp}_${index}__`;\n      }\n    });\n  }, [fileList]);\n  const onInternalChange = (file, changedFileList, event) => {\n    let cloneList = _toConsumableArray(changedFileList);\n    let exceedMaxCount = false;\n    // Cut to match count\n    if (maxCount === 1) {\n      cloneList = cloneList.slice(-1);\n    } else if (maxCount) {\n      exceedMaxCount = cloneList.length > maxCount;\n      cloneList = cloneList.slice(0, maxCount);\n    }\n    // Prevent React18 auto batch since input[upload] trigger process at same time\n    // which makes fileList closure problem\n    // eslint-disable-next-line react-dom/no-flush-sync\n    flushSync(() => {\n      setMergedFileList(cloneList);\n    });\n    const changeInfo = {\n      file: file,\n      fileList: cloneList\n    };\n    if (event) {\n      changeInfo.event = event;\n    }\n    if (!exceedMaxCount || file.status === 'removed' ||\n    // We should ignore event if current file is exceed `maxCount`\n    cloneList.some(f => f.uid === file.uid)) {\n      // eslint-disable-next-line react-dom/no-flush-sync\n      flushSync(() => {\n        onChange === null || onChange === void 0 ? void 0 : onChange(changeInfo);\n      });\n    }\n  };\n  const mergedBeforeUpload = (file, fileListArgs) => __awaiter(void 0, void 0, void 0, function* () {\n    const {\n      beforeUpload,\n      transformFile\n    } = props;\n    let parsedFile = file;\n    if (beforeUpload) {\n      const result = yield beforeUpload(file, fileListArgs);\n      if (result === false) {\n        return false;\n      }\n      // Hack for LIST_IGNORE, we add additional info to remove from the list\n      delete file[LIST_IGNORE];\n      if (result === LIST_IGNORE) {\n        Object.defineProperty(file, LIST_IGNORE, {\n          value: true,\n          configurable: true\n        });\n        return false;\n      }\n      if (typeof result === 'object' && result) {\n        parsedFile = result;\n      }\n    }\n    if (transformFile) {\n      parsedFile = yield transformFile(parsedFile);\n    }\n    return parsedFile;\n  });\n  const onBatchStart = batchFileInfoList => {\n    // Skip file which marked as `LIST_IGNORE`, these file will not add to file list\n    const filteredFileInfoList = batchFileInfoList.filter(info => !info.file[LIST_IGNORE]);\n    // Nothing to do since no file need upload\n    if (!filteredFileInfoList.length) {\n      return;\n    }\n    const objectFileList = filteredFileInfoList.map(info => file2Obj(info.file));\n    // Concat new files with prev files\n    let newFileList = _toConsumableArray(mergedFileList);\n    objectFileList.forEach(fileObj => {\n      // Replace file if exist\n      newFileList = updateFileList(fileObj, newFileList);\n    });\n    objectFileList.forEach((fileObj, index) => {\n      // Repeat trigger `onChange` event for compatible\n      let triggerFileObj = fileObj;\n      if (!filteredFileInfoList[index].parsedFile) {\n        // `beforeUpload` return false\n        const {\n          originFileObj\n        } = fileObj;\n        let clone;\n        try {\n          clone = new File([originFileObj], originFileObj.name, {\n            type: originFileObj.type\n          });\n        } catch (_a) {\n          clone = new Blob([originFileObj], {\n            type: originFileObj.type\n          });\n          clone.name = originFileObj.name;\n          clone.lastModifiedDate = new Date();\n          clone.lastModified = new Date().getTime();\n        }\n        clone.uid = fileObj.uid;\n        triggerFileObj = clone;\n      } else {\n        // Inject `uploading` status\n        fileObj.status = 'uploading';\n      }\n      onInternalChange(triggerFileObj, newFileList);\n    });\n  };\n  const onSuccess = (response, file, xhr) => {\n    try {\n      if (typeof response === 'string') {\n        // biome-ignore lint/style/noParameterAssign: we need to modify response\n        response = JSON.parse(response);\n      }\n    } catch (_a) {\n      /* do nothing */\n    }\n    // removed\n    if (!getFileItem(file, mergedFileList)) {\n      return;\n    }\n    const targetItem = file2Obj(file);\n    targetItem.status = 'done';\n    targetItem.percent = 100;\n    targetItem.response = response;\n    targetItem.xhr = xhr;\n    const nextFileList = updateFileList(targetItem, mergedFileList);\n    onInternalChange(targetItem, nextFileList);\n  };\n  const onProgress = (e, file) => {\n    // removed\n    if (!getFileItem(file, mergedFileList)) {\n      return;\n    }\n    const targetItem = file2Obj(file);\n    targetItem.status = 'uploading';\n    targetItem.percent = e.percent;\n    const nextFileList = updateFileList(targetItem, mergedFileList);\n    onInternalChange(targetItem, nextFileList, e);\n  };\n  const onError = (error, response, file) => {\n    // removed\n    if (!getFileItem(file, mergedFileList)) {\n      return;\n    }\n    const targetItem = file2Obj(file);\n    targetItem.error = error;\n    targetItem.response = response;\n    targetItem.status = 'error';\n    const nextFileList = updateFileList(targetItem, mergedFileList);\n    onInternalChange(targetItem, nextFileList);\n  };\n  const handleRemove = file => {\n    let currentFile;\n    Promise.resolve(typeof onRemove === 'function' ? onRemove(file) : onRemove).then(ret => {\n      var _a;\n      // Prevent removing file\n      if (ret === false) {\n        return;\n      }\n      const removedFileList = removeFileItem(file, mergedFileList);\n      if (removedFileList) {\n        currentFile = Object.assign(Object.assign({}, file), {\n          status: 'removed'\n        });\n        mergedFileList === null || mergedFileList === void 0 ? void 0 : mergedFileList.forEach(item => {\n          const matchKey = currentFile.uid !== undefined ? 'uid' : 'name';\n          if (item[matchKey] === currentFile[matchKey] && !Object.isFrozen(item)) {\n            item.status = 'removed';\n          }\n        });\n        (_a = upload.current) === null || _a === void 0 ? void 0 : _a.abort(currentFile);\n        onInternalChange(currentFile, removedFileList);\n      }\n    });\n  };\n  const onFileDrop = e => {\n    setDragState(e.type);\n    if (e.type === 'drop') {\n      onDrop === null || onDrop === void 0 ? void 0 : onDrop(e);\n    }\n  };\n  // Test needs\n  React.useImperativeHandle(ref, () => ({\n    onBatchStart,\n    onSuccess,\n    onProgress,\n    onError,\n    fileList: mergedFileList,\n    upload: upload.current,\n    nativeElement: wrapRef.current\n  }));\n  const {\n    getPrefixCls,\n    direction,\n    upload: ctxUpload\n  } = React.useContext(ConfigContext);\n  const prefixCls = getPrefixCls('upload', customizePrefixCls);\n  const rcUploadProps = Object.assign(Object.assign({\n    onBatchStart,\n    onError,\n    onProgress,\n    onSuccess\n  }, props), {\n    data,\n    multiple,\n    action,\n    accept,\n    supportServerRender,\n    prefixCls,\n    disabled: mergedDisabled,\n    beforeUpload: mergedBeforeUpload,\n    onChange: undefined,\n    hasControlInside\n  });\n  delete rcUploadProps.className;\n  delete rcUploadProps.style;\n  // Remove id to avoid open by label when trigger is hidden\n  // !children: https://github.com/ant-design/ant-design/issues/14298\n  // disabled: https://github.com/ant-design/ant-design/issues/16478\n  //           https://github.com/ant-design/ant-design/issues/24197\n  if (!children || mergedDisabled) {\n    delete rcUploadProps.id;\n  }\n  const wrapperCls = `${prefixCls}-wrapper`;\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls, wrapperCls);\n  const [contextLocale] = useLocale('Upload', defaultLocale.Upload);\n  const {\n    showRemoveIcon,\n    showPreviewIcon,\n    showDownloadIcon,\n    removeIcon,\n    previewIcon,\n    downloadIcon,\n    extra\n  } = typeof showUploadList === 'boolean' ? {} : showUploadList;\n  // use showRemoveIcon if it is specified explicitly\n  const realShowRemoveIcon = typeof showRemoveIcon === 'undefined' ? !mergedDisabled : showRemoveIcon;\n  const renderUploadList = (button, buttonVisible) => {\n    if (!showUploadList) {\n      return button;\n    }\n    return /*#__PURE__*/React.createElement(UploadList, {\n      prefixCls: prefixCls,\n      listType: listType,\n      items: mergedFileList,\n      previewFile: previewFile,\n      onPreview: onPreview,\n      onDownload: onDownload,\n      onRemove: handleRemove,\n      showRemoveIcon: realShowRemoveIcon,\n      showPreviewIcon: showPreviewIcon,\n      showDownloadIcon: showDownloadIcon,\n      removeIcon: removeIcon,\n      previewIcon: previewIcon,\n      downloadIcon: downloadIcon,\n      iconRender: iconRender,\n      extra: extra,\n      locale: Object.assign(Object.assign({}, contextLocale), propLocale),\n      isImageUrl: isImageUrl,\n      progress: progress,\n      appendAction: button,\n      appendActionVisible: buttonVisible,\n      itemRender: itemRender,\n      disabled: mergedDisabled\n    });\n  };\n  const mergedCls = classNames(wrapperCls, className, rootClassName, hashId, cssVarCls, ctxUpload === null || ctxUpload === void 0 ? void 0 : ctxUpload.className, {\n    [`${prefixCls}-rtl`]: direction === 'rtl',\n    [`${prefixCls}-picture-card-wrapper`]: listType === 'picture-card',\n    [`${prefixCls}-picture-circle-wrapper`]: listType === 'picture-circle'\n  });\n  const mergedStyle = Object.assign(Object.assign({}, ctxUpload === null || ctxUpload === void 0 ? void 0 : ctxUpload.style), style);\n  // ======================== Render ========================\n  if (type === 'drag') {\n    const dragCls = classNames(hashId, prefixCls, `${prefixCls}-drag`, {\n      [`${prefixCls}-drag-uploading`]: mergedFileList.some(file => file.status === 'uploading'),\n      [`${prefixCls}-drag-hover`]: dragState === 'dragover',\n      [`${prefixCls}-disabled`]: mergedDisabled,\n      [`${prefixCls}-rtl`]: direction === 'rtl'\n    });\n    return wrapCSSVar(/*#__PURE__*/React.createElement(\"span\", {\n      className: mergedCls,\n      ref: wrapRef\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: dragCls,\n      style: mergedStyle,\n      onDrop: onFileDrop,\n      onDragOver: onFileDrop,\n      onDragLeave: onFileDrop\n    }, /*#__PURE__*/React.createElement(RcUpload, Object.assign({}, rcUploadProps, {\n      ref: upload,\n      className: `${prefixCls}-btn`\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${prefixCls}-drag-container`\n    }, children))), renderUploadList()));\n  }\n  const uploadBtnCls = classNames(prefixCls, `${prefixCls}-select`, {\n    [`${prefixCls}-disabled`]: mergedDisabled,\n    [`${prefixCls}-hidden`]: !children\n  });\n  const uploadButton = /*#__PURE__*/React.createElement(\"div\", {\n    className: uploadBtnCls,\n    style: mergedStyle\n  }, /*#__PURE__*/React.createElement(RcUpload, Object.assign({}, rcUploadProps, {\n    ref: upload\n  })));\n  if (listType === 'picture-card' || listType === 'picture-circle') {\n    return wrapCSSVar(/*#__PURE__*/React.createElement(\"span\", {\n      className: mergedCls,\n      ref: wrapRef\n    }, renderUploadList(uploadButton, !!children)));\n  }\n  return wrapCSSVar(/*#__PURE__*/React.createElement(\"span\", {\n    className: mergedCls,\n    ref: wrapRef\n  }, uploadButton, renderUploadList()));\n};\nconst Upload = /*#__PURE__*/React.forwardRef(InternalUpload);\nif (process.env.NODE_ENV !== 'production') {\n  Upload.displayName = 'Upload';\n}\nexport default Upload;","\"use client\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport Upload from './Upload';\nconst Dragger = /*#__PURE__*/React.forwardRef((_a, ref) => {\n  var {\n      style,\n      height,\n      hasControlInside = false\n    } = _a,\n    restProps = __rest(_a, [\"style\", \"height\", \"hasControlInside\"]);\n  return /*#__PURE__*/React.createElement(Upload, Object.assign({\n    ref: ref,\n    hasControlInside: hasControlInside\n  }, restProps, {\n    type: \"drag\",\n    style: Object.assign(Object.assign({}, style), {\n      height\n    })\n  }));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Dragger.displayName = 'Dragger';\n}\nexport default Dragger;","\"use client\";\n\nimport Dragger from './Dragger';\nimport InternalUpload, { LIST_IGNORE } from './Upload';\nconst Upload = InternalUpload;\nUpload.Dragger = Dragger;\nUpload.LIST_IGNORE = LIST_IGNORE;\nexport default Upload;","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowRight = createLucideIcon(\"ArrowRight\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n]);\n\nexport { ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LoaderCircle = createLucideIcon(\"LoaderCircle\", [\n  [\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]\n]);\n\nexport { LoaderCircle as default };\n//# sourceMappingURL=loader-circle.js.map\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n"],"names":["Plus","d","key","React","shim","objectIs","Object","is","x","y","useSyncExternalStore","useRef","useEffect","useMemo","useDebugValue","exports","useSyncExternalStoreWithSelector","subscribe","getSnapshot","getServerSnapshot","selector","isEqual","instRef","current","inst","hasValue","value","memoizedSelector","nextSnapshot","hasMemo","memoizedSnapshot","currentSelection","memoizedSelection","nextSelection","maybeGetServerSnapshot","TeamAPI","_BaseAPI","apply","arguments","_inheritsLoose","_proto","prototype","listTeams","async","userId","response","fetch","this","getBaseUrl","headers","getHeaders","data","json","status","Error","message","getTeam","teamId","createTeam","teamData","team","user_id","method","body","JSON","stringify","deleteTeam","BaseAPI","ValidationAPI","_BaseAPI2","_proto2","validateComponent","component","ok","testComponent","timeout","teamAPI","validationAPI","shallow$1","objA","objB","Map","size","get","Set","has","keysA","keys","length","keyA","hasOwnProperty","call","createStoreImpl","createState","state","listeners","setState","partial","replace","nextState","previousState","assign","forEach","listener","getState","api","getInitialState","initialState","add","delete","destroy","console","warn","clear","createStore","identity","arg","useStoreWithEqualityFn","equalityFn","slice","getServerState","createWithEqualityFnImpl","defaultEqualityFn","useBoundStoreWithEqualityFn","createWithEqualityFn","Upload","points","x1","x2","y1","y2","noop","dispatch","t","i","n","_","test","Dispatch","type","name","c","set","callback","concat","push","constructor","on","typename","types","T","trim","split","map","indexOf","copy","that","args","Array","none","querySelector","empty","querySelectorAll","arrayAll","select","isArray","from","matches","childMatcher","node","find","childFirst","firstElementChild","filter","children","update","EnterNode","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","bindIndex","group","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","arraylike","ascending","a","b","NaN","appendChild","child","insertBefore","next","xhtml","svg","xlink","xml","xmlns","prefix","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","defaultView","document","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","onRemove","__on","o","j","m","removeEventListener","options","onAdd","event","contextListener","addEventListener","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","join","splice","contains","root","Selection","groups","parents","_groups","_parents","selection","subgroups","subnode","subgroup","selectAll","selectorAll","selectChild","match","childFind","selectChildren","childrenFilter","matcher","bind","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","order","context","groups0","groups1","m0","m1","Math","min","merges","group0","group1","compareDocumentPosition","sort","compare","compareNode","sortgroups","sortgroup","nodes","each","attr","getAttributeNS","property","classed","text","html","create","creator","insert","before","deep","typenames","Symbol","iterator","sourceEvent","undefined","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","nonpassive","passive","nonpassivecapture","capture","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","setTimeout","DragEvent","subject","target","identifier","active","dx","dy","defineProperties","enumerable","configurable","defaultFilter","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable","navigator","maxTouchPoints","mousedownx","mousedowny","mousemoving","touchending","container","touchable","gestures","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","nodrag","mouse","touches","changedTouches","clearTimeout","touch","s","p","pointer","p0","clickDistance","sqrt","cosh","exp","taskHead","taskTail","zoomRho","rho","rho2","rho4","zoom","p1","S","ux0","uy0","w0","ux1","uy1","w1","d2","log","d1","b0","b1","r0","r1","coshr0","u","sinh","duration","SQRT2","_1","max","_2","interval","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","f","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","e","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearInterval","setInterval","elapsed","stop","TypeError","emptyOn","emptyTween","STARTING","ENDING","ENDED","id","index","timing","schedules","__transition","self","tween","schedule","start","tick","ease","init","svgNode","degrees","PI","translateX","translateY","rotate","skewX","scaleX","scaleY","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","q","xa","ya","xb","yb","number","translate","scale","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","transform","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","factory","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","l","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","r","g","opacity","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","round","toString","h","Hsl","hslConvert","clamph","clampt","hsl2rgb","m2","basis","v0","v1","v2","v3","t3","channels","displayable","formatHex8","formatHsl","k","pow","clamp","linear","gamma","nogamma","exponential","rgbGamma","end","rgbSpline","spline","colors","values","floor","reA","reB","source","am","bm","bs","bi","lastIndex","one","zero","interpolate","value1","string00","interpolate0","string1","string0","string10","attrTweenNS","attrInterpolateNS","_value","attrTween","attrInterpolate","delayFunction","delayConstant","durationFunction","durationConstant","Transition","_name","newId","selection_prototype","inherit","id0","id1","on0","on1","sit","every","onFunction","styleTween","styleNull","listener0","styleMaybeRemove","styleInterpolate","textTween","textInterpolate","removeFunction","easeConstant","easeVarying","Promise","resolve","reject","cancel","interrupt","defaultTiming","ZoomEvent","Transform","applyX","applyY","invert","location","invertX","invertY","rescaleX","domain","range","rescaleY","__zoom","defaultExtent","SVGElement","hasAttribute","viewBox","width","height","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","touchstarting","touchfirst","constrain","wheelDelta","scaleExtent","tapDistance","wheeled","dblclicked","centroid","w","clean","__zooming","Gesture","taps","wheel","moved","x0","y0","k1","shiftKey","started","touch0","touch1","l0","l1","dp","dl","hypot","collection","scaleBy","scaleTo","translateBy","translateTo","emit","genericArray","nb","na","setTime","date","ArrayBuffer","isView","DataView","valueOf","object","errorMessages","error001","error002","error003","nodeType","error004","error005","error006","error007","error009","error008","handleType","sourceHandle","targetHandle","error010","error011","edgeType","error012","error013","lib","error014","error015","infiniteExtent","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","elementSelectionKeys","defaultAriaLabelConfig","direction","ConnectionMode","PanOnScrollMode","SelectionMode","initialConnection","inProgress","isValid","fromHandle","fromPosition","fromNode","to","toHandle","toPosition","toNode","ConnectionLineType","MarkerType","Position","oppositePosition","Left","Right","Top","Bottom","getConnectionStatus","isEdgeBase","element","isNodeBase","isInternalNodeBase","getNodePositionWithOrigin","nodeOrigin","getNodeDimensions","origin","offsetX","offsetY","position","getNodesBounds","box","reduce","currBox","nodeOrId","isId","currentNode","nodeLookup","nodeBox","nodeToBox","getBoundsOfBoxes","boxToRect","getInternalNodesBounds","getNodesInside","tx","ty","tScale","partially","excludeNonSelectableNodes","paneRect","pointToRendererPoint","visibleNodes","measured","selectable","hidden","initialWidth","initialHeight","overlappingArea","getOverlappingArea","nodeToRect","area","partiallyVisible","internals","handleBounds","dragging","getConnectedEdges","edges","nodeIds","edge","fitViewport","panZoom","minZoom","maxZoom","nodesToFit","fitViewNodes","optionNodeIds","includeHiddenNodes","getFitViewNodes","bounds","viewport","getViewportForBounds","padding","setViewport","calculateNodePosition","nodeId","nextPosition","nodeExtent","onError","parentId","parentX","parentY","positionAbsolute","expandParent","isCoordinateExtent","parentWidth","parentHeight","clampPosition","getElementsToRemove","nodesToRemove","edgesToRemove","onBeforeDelete","matchingNodes","deletable","isIncluded","parentHit","edgeIds","deletableEdges","matchingEdges","onBeforeDeleteResult","val","dimensions","clampPositionToParent","childPosition","childDimensions","calcAutoPanVelocity","abs","calcAutoPan","pos","speed","distance","box1","box2","rectToBox","getBoundsOfRects","rect1","rect2","rectA","rectB","xOverlap","yOverlap","ceil","isRectObject","obj","isNumeric","isFinite","devWarn","snapPosition","snapGrid","snapToGrid","rendererPointToPoint","parsePadding","endsWith","paddingValue","parseFloat","error","paddingY","paddingX","right","bottom","parsePaddings","xZoom","yZoom","clampedZoom","newPadding","boundRight","boundBottom","calculateAppliedPaddings","offset","isMacOs","userAgent","nodeHasDimensions","evaluateAbsolutePosition","areSetsEqual","item","withResolvers","promise","res","rej","mergeAriaLabelConfig","getPointerPosition","containerBounds","getEventPosition","pointerPos","xSnapped","ySnapped","getDimensions","offsetWidth","offsetHeight","getHostForElement","getRootNode","inputTags","isInputDOMNode","composedPath","includes","nodeName","closest","isMouseEvent","isMouse","evtX","evtY","getHandleBounds","nodeElement","nodeBounds","handles","handle","getBezierEdgeCenter","sourceX","sourceY","targetX","targetY","sourceControlX","sourceControlY","targetControlX","targetControlY","centerX","centerY","calculateControlOffset","curvature","getControlWithCurvature","getBezierPath","sourcePosition","targetPosition","labelX","labelY","getEdgeCenter","xOffset","yOffset","getElevatedEdgeZIndex","sourceNode","targetNode","selected","zIndex","elevateOnSelect","edgeOrConnectedNodeSelected","selectedZIndex","z","isEdgeVisible","edgeBox","viewRect","getEdgeId","addEdge","edgeParams","some","el","connectionExists","getStraightPath","handleDirections","getDirection","getSmoothStepPath","borderRadius","center","sourceDir","targetDir","sourceGapped","targetGapped","dir","dirAccessor","currDir","sourceGapOffset","targetGapOffset","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","diff","gapOffset","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","sourceGapPoint","targetGapPoint","getPoints","path","segment","bendSize","xDir","getBend","isNodeInitialized","getEdgePosition","sourceHandleBounds","toHandleBounds","targetHandleBounds","getHandle$1","connectionMode","Strict","getHandlePosition","fallbackPosition","handleId","getMarkerId","marker","createMarkerIds","defaultColor","defaultMarkerStart","defaultMarkerEnd","ids","markers","markerStart","markerEnd","markerId","localeCompare","defaultOptions","elevateNodesOnSelect","defaults","adoptUserNodesDefaultOptions","checkEquality","mergeObjects","base","incoming","result","updateAbsolutePositions","parentLookup","_options","updateChildNode","positionWithOrigin","clampedPosition","adoptUserNodes","nodesInitialized","tmpLookup","selectedNodeZ","userNode","internalNode","calculateZ","childNodes","updateParentLookup","childNode","absolutePosition","childZ","parentZ","calculateChildXYZ","positionChanged","handleExpandParent","changes","parentExpansions","parentRect","expandedRect","xChange","yChange","newWidth","newHeight","widthChange","heightChange","setAttributes","updateNodeInternals","updates","domNode","viewportNode","updatedInternals","m22","DOMMatrixReadOnly","parentExpandChildren","dimensionChanged","force","newNode","parentExpandChanges","panBy","delta","nextViewport","setViewportConstrained","transformChanged","addConnectionToLookup","connection","connectionKey","connectionLookup","nodeMap","typeMap","handleMap","updateConnectionLookup","edgeLookup","edgeId","sourceKey","isParentSelected","hasSelector","parentElement","getEventHandlerParams","dragItems","nodesFromDragItems","dragItem","XYDrag","onNodeMouseDown","getStoreItems","onDragStart","onDrag","onDragStop","lastPos","autoPanId","autoPanStarted","mousePosition","dragStarted","d3Selection","abortDrag","noDragClassName","handleSelector","isSelectable","nodeClickDistance","updateNodes","dragEvent","onNodeDrag","onSelectionDrag","updateNodePositions","hasChange","nodesBox","adjustedNodeExtent","currentNodes","autoPan","autoPanSpeed","autoPanOnNodeDrag","cancelAnimationFrame","xMovement","yMovement","startDrag","multiSelectionActive","nodesDraggable","selectNodesOnDrag","onNodeDragStart","onSelectionDragStart","unselectNodesAndEdges","mousePos","draggable","getDragItems","d3DragInstance","nodeDragThreshold","onNodeDragStop","onSelectionDragStop","getClosestHandle","connectionRadius","closestHandles","minDistance","closeNodes","getNodesWithinDistance","allHandles","oppositeHandleType","getHandle","withAbsolutePosition","getHandleType","edgeUpdaterType","handleDomNode","alwaysValid","isValidHandle","fromNodeId","fromHandleId","fromType","doc","flowId","isValidConnection","isTarget","handleBelow","elementFromPoint","handleToCheck","handleNodeId","connectable","connectableEnd","XYHandle","onPointerDown","autoPanOnConnect","cancelConnection","onConnectStart","onConnect","onConnectEnd","onReconnectEnd","updateConnection","getTransform","getFromHandle","closestHandle","clickedHandle","fromHandleInternal","fromNodeInternal","newConnection","previousConnection","onPointerMove","onPointerUp","isInsideConnectionRadius","isHandleValid","isConnectionValid","connectionState","finalConnectionState","XYMinimap","getViewScale","zoomStep","pannable","zoomable","inversePan","panStart","zoomAndPanHandler","panCurrent","panDelta","moveScale","pinchDelta","nextZoom","viewChanged","prevViewport","eventViewport","transformToViewport","viewportToTransform","isWrappedWithClass","className","isRightClickPan","panOnDrag","usedButton","defaultEase","getD3Transition","onEnd","hasDuration","factor","XYPanZoom","paneClickDistance","onPanZoom","onPanZoomStart","onPanZoomEnd","onDraggingChange","zoomPanValues","isZoomingOrPanning","usedRightMouseButton","mouseButton","timerId","panScrollTimeout","isPanScrolling","bbox","d3ZoomInstance","d3ZoomHandler","d3DblClickZoomHandler","setTransform","nextTransform","contrainedTransform","noWheelClassName","noPanClassName","onPaneContextMenu","userSelectionActive","panOnScroll","panOnScrollMode","panOnScrollSpeed","preventScrolling","zoomOnPinch","zoomOnScroll","zoomOnDoubleClick","zoomActivationKeyPressed","onTransformChange","wheelHandler","d3Zoom","currentZoom","deltaNormalize","deltaX","Vertical","Horizontal","internal","createPanOnScrollHandler","isWheel","preventZoom","hasNoWheelClass","createZoomOnScrollHandler","startHandler","createPanZoomStartHandler","panZoomHandler","sync","createPanZoomHandler","panZoomEndHandler","createPanZoomEndHandler","zoomScroll","pinchZoom","buttonAllowed","createFilter","getViewport","setScaleExtent","setTranslateExtent","syncViewport","currentTransform","setClickDistance","validDistance","ResizeControlVariant","getLowerExtentClamp","lowerExtent","lowerBound","getUpperExtentClamp","upperExtent","upperBound","getSizeClamp","minSize","maxSize","xor","initPrevValues","initStartValues","pointerX","pointerY","aspectRatio","nodeToChildExtent","originOffsetX","originOffsetY","XYResizer","onChange","controlPosition","boundaries","keepAspectRatio","resizeDirection","onResizeStart","onResize","onResizeEnd","shouldResize","prevValues","startValues","controlDirection","isHorizontal","isVertical","affectsX","affectsY","getControlDirection","parentExtent","childExtent","dragHandler","paneDomNode","nodeToParentExtent","childId","storeNodeOrigin","pointerPosition","childChanges","prevX","prevY","prevWidth","prevHeight","change","isDiagonal","minWidth","maxWidth","minHeight","maxHeight","startX","startY","startWidth","startHeight","distX","distY","clampX","clampY","xExtentClamp","yExtentClamp","aspectHeightClamp","aspectExtentClamp","aspectWidthClamp","getDimensionsAfterResize","isWidthChange","isHeightChange","isXPosChange","isYPosChange","xLimit","yLimit","deltaWidth","deltaHeight","getResizeDirection","nextValues","callResize","Network","rx","cc","out","tmp","Terminal","SquarePen","file","acceptedFiles","acceptedFilesArray","fileName","mimeType","baseMimeType","validType","charAt","lowerFileName","lowerType","affixList","affix","warning","getBody","xhr","responseText","upload","option","XMLHttpRequest","onProgress","onprogress","total","percent","loaded","formData","FormData","Blob","filename","onerror","onload","msg","action","err","url","getError","onSuccess","open","withCredentials","setRequestHeader","send","abort","traverseFileTree","_ref","mark","_callee4","files","isAccepted","flattenFileList","progressFileList","readDirectory","_readDirectory","readFile","_readFile","_traverseFileTree","wipIndex","wrap","_context4","prev","_callee3","_context3","abrupt","reslove","fullPath","webkitRelativePath","writable","_x4","_callee2","directory","dirReader","entries","results","_context2","createReader","readEntries","sent","_x3","webkitGetAsEntry","_ref2","_callee","_file","_context","isFile","isDirectory","_x5","_x6","_x","_x2","uid","_excluded","AjaxUploader","_Component","_super","_this","_len","_key","_this$props","props","accept","uploadFiles","reset","fileInput","onClick","tagName","focus","blur","click","dataTransfer","existFileCallback","_this$props2","multiple","items","acceptFiles","kind","clipboardData","pastable","onDataTransferFiles","_ref3","originFiles","postFiles","processFile","all","then","fileList","onBatchStart","_ref4","parsedFile","post","_ref5","beforeUpload","transformedFile","mergedAction","mergedData","parsedData","mergedParsedFile","File","_isMounted","onFilePaste","prevProps","_ref6","_this2","_this$props3","onStart","customRequest","request","requestOption","ret","reqs","_this$props4","Tag","prefixCls","_this$props4$classNam","classNames","disabled","_this$props4$styles","styles","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside","otherProps","cls","dirProps","webkitdirectory","events","onKeyDown","onDrop","onFileDrop","onDragOver","onFileDragOver","tabIndex","role","pickAttrs","aria","ref","saveFileInput","stopPropagation","display","input","Component","uploader","saveUploader","multipart","token","componentCls","iconCls","textAlign","background","colorFillAlter","border","lineWidth","colorBorder","borderRadiusLG","cursor","motionDurationSlow","outline","lineWidthFocus","colorPrimaryBorder","verticalAlign","borderColor","colorPrimaryHover","marginBottom","margin","colorPrimary","fontSize","uploadThumbnailSize","marginXXS","colorTextHeading","fontSizeLG","colorTextDescription","colorTextDisabled","lineHeight","calc","itemCls","actionsCls","actionCls","mul","equal","marginTop","marginXS","alignItems","borderRadiusSM","backgroundColor","controlItemBgHover","paddingXS","flex","whiteSpace","actionsColor","colorIcon","uploadProgressOffset","paddingInlineStart","pointerEvents","colorError","content","uploadAnimateInlineIn","div","uploadAnimateInlineOut","inlineCls","animationDuration","animationTimingFunction","motionEaseInOutCirc","animationFillMode","animationName","genPictureStyle","listCls","lineType","paddingSM","fontSizeHeading2","img","overflow","fill","colorErrorBg","primary","borderStyle","genPictureCardStyle","colorTextLightSolid","uploadPictureCardSize","uploadPicCardSize","justifyContent","flexWrap","marginBlockEnd","marginInlineEnd","gap","colorBgMask","insetInlineStart","objectFit","marginXL","genBaseStyle","fontSizeHeading3","fontHeight","controlHeightLG","uploadToken","primaryColor","secondaryColor","AntdIcon","A","icon","file2Obj","lastModified","lastModifiedDate","originFileObj","updateFileList","nextFileList","fileIndex","findIndex","getFileItem","matchKey","isImageFileType","isImageUrl","thumbUrl","extension","temp","filenameWithoutSuffix","extname","MEASURE_SIZE","previewImage","canvas","cssText","ctx","getContext","Image","drawWidth","drawHeight","drawImage","dataURL","toDataURL","URL","revokeObjectURL","src","crossOrigin","startsWith","reader","FileReader","readAsDataURL","createObjectURL","defaultProps","strokeColor","strokeLinecap","strokeWidth","trailColor","trailWidth","gapPosition","useTransitionDuration","pathsRef","prevTimeStamp","updated","pathStyle","transitionDuration","uuid","isBrowserClient","canUseDom","_React$useState","_React$useState2","innerId","setInnerId","retId","Block","bg","getPtgColors","parsedKey","ptgKey","gradientId","radius","circleStyleForStack","ptg","gapDegree","isGradient","stroke","halfSize","circleNode","cx","cy","maskId","fromDeg","conicColors","linearColors","conicColorBg","linearColorBg","mask","VIEW_BOX_SIZE","getCircleStyle","perimeter","perimeterWithoutGap","rotateDeg","stepSpace","offsetDeg","positionDeg","strokeDashoffset","strokeDasharray","transformOrigin","fillOpacity","toArray","mergedValue","stepPtg","stackPtg","_defaultProps$props","steps","_defaultProps$props$g","restProps","mergedId","useId","count","stepCount","stepGap","percentList","strokeColorList","gradient","mergedStrokeLinecap","circleStyle","paths","elem","reverse","getStokeList","validProgress","progress","getSuccessPercent","success","successPercent","getSize","extra","_a","_b","_c","_d","originWidth","getMinPercent","realGapDegree","percentArray","realSuccessPercent","getPercentage","gapPos","successColor","getStrokeColor","wrapperClassName","circleContent","smallCircle","title","LineStrokeColorVar","Percent","genAntProgressActive","isRtl","progressCls","iconPrefixCls","remainingColor","lineBorderRadius","flexDirection","marginInlineStart","_multi_value_","colorWhite","insetBlockStart","colorSuccess","colorText","wordBreak","paddingXXS","inset","colorBgContainer","progressActiveMotionDuration","motionEaseOutQuint","animationIterationCount","genCircleStyle","circleTextColor","circleTextFontSize","circleIconFontSize","genStepStyle","flexShrink","progressStepMinWidth","progressStepMarginInlineEnd","genSmallLine","fontSizeSM","progressToken","colorInfo","colorFillSecondary","__rest","getOwnPropertySymbols","propertyIsEnumerable","handleGradient","directionConfig","rest","gradients","tempArr","formattedKey","sortGradient","percentPosition","align","infoAlign","infoPosition","backgroundProps","mergedSize","trailStyle","percentStyle","successPercentStyle","outerStyle","lineInner","isOuterStart","isOuterEnd","rounding","customRounding","unitWidth","styledSteps","ProgressStatuses","Progress","customizePrefixCls","rootClassName","showInfo","strokeColorNotArray","strokeColorNotGradient","strokeColorIsBright","isLight","percentNumber","progressStatus","getPrefixCls","progressStyle","wrapCSSVar","hashId","cssVarCls","isLineType","isPureLineType","progressInfo","isBrightInnerColor","CloseCircleFilled","CloseOutlined","CheckCircleFilled","CheckOutlined","classString","omit","ListItem","locale","listType","progressProps","iconRender","actionIconRender","itemRender","isImgUrl","showPreviewIcon","showRemoveIcon","showDownloadIcon","previewIcon","customPreviewIcon","removeIcon","customRemoveIcon","downloadIcon","customDownloadIcon","customExtra","onPreview","onDownload","onClose","mergedStatus","setMergedStatus","showProgress","setShowProgress","iconNode","uploadingClassName","thumbnail","alt","aClassName","href","rel","listItemClassName","linkProps","removeFile","downloadFile","downloadOrDelete","picture","extraContent","listItemNameClass","previewFile","EyeOutlined","pictureCardActions","rootPrefixCls","dom","motionName","visible","motionDeadline","motionClassName","loadingProgress","statusText","uploadError","getPopupContainer","download","preview","InternalUploadList","appendAction","appendActionVisible","forceUpdate","useForceUpdate","motionAppear","setMotionAppear","isPictureCardOrCirle","previewDataUrl","onInternalPreview","onInternalDownload","onInternalClose","internalIconRender","isLoading","loadingIcon","LoadingOutlined","uploading","fileIcon","customIcon","acceptUploadDisabled","btnProps","handlePreview","handleDownload","listClassNames","listItemMotion","motionConfig","motionStyle","forceRender","oriProps","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","done","LIST_IGNORE","InternalUpload","defaultFileList","showUploadList","customDisabled","propLocale","maxCount","supportServerRender","DisabledContext","mergedDisabled","mergedFileList","setMergedFileList","useMergedState","postState","dragState","setDragState","wrapRef","timestamp","isFrozen","onInternalChange","changedFileList","cloneList","exceedMaxCount","flushSync","changeInfo","batchFileInfoList","filteredFileInfoList","info","objectFileList","newFileList","fileObj","triggerFileObj","getTime","targetItem","handleRemove","currentFile","removedFileList","removed","removeFileItem","nativeElement","ctxUpload","rcUploadProps","fileListArgs","transformFile","defineProperty","wrapperCls","contextLocale","useLocale","realShowRemoveIcon","renderUploadList","buttonVisible","mergedCls","mergedStyle","dragCls","onDragLeave","uploadBtnCls","uploadButton","Dragger","useState","useLayoutEffect","checkIfSnapshotChanged","latestGetSnapshot","nextValue","_useState","ArrowRight","LoaderCircle","module"],"sourceRoot":""}