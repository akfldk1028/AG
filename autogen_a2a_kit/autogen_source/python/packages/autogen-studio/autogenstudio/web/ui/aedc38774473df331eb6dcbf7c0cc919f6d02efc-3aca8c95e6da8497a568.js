/*! For license information please see aedc38774473df331eb6dcbf7c0cc919f6d02efc-3aca8c95e6da8497a568.js.LICENSE.txt */
"use strict";(self.webpackChunkautogentstudio=self.webpackChunkautogentstudio||[]).push([[307],{8723:function(t,e,n){n.d(e,{A:function(){return r}});const r=(0,n(9407).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},19888:function(t,e,n){t.exports=n(58493)},22162:function(t,e,n){var r=n(96540),o=n(19888);var i="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},a=o.useSyncExternalStore,s=r.useRef,c=r.useEffect,l=r.useMemo,u=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=l((function(){function t(t){if(!c){if(c=!0,a=t,t=r(t),void 0!==o&&f.hasValue){var e=f.value;if(o(e,t))return s=e}return s=t}if(e=s,i(a,t))return e;var n=r(t);return void 0!==o&&o(e,n)?(a=t,e):(a=t,s=n)}var a,s,c=!1,l=void 0===n?null:n;return[function(){return t(e())},null===l?void 0:function(){return t(l())}]}),[e,n,r,o]);var h=a(t,d[0],d[1]);return c((function(){f.hasValue=!0,f.value=h}),[h]),u(h),h}},42197:function(t,e,n){n.d(e,{CG:function(){return s},gw:function(){return c}});var r=n(77387),o=n(3838);let i=function(t){function e(){return t.apply(this,arguments)||this}(0,r.A)(e,t);var n=e.prototype;return n.listTeams=async function(t){const e=await fetch(`${this.getBaseUrl()}/teams/?user_id=${t}`,{headers:this.getHeaders()}),n=await e.json();if(!n.status)throw new Error(n.message||"Failed to fetch teams");return n.data},n.getTeam=async function(t,e){const n=await fetch(`${this.getBaseUrl()}/teams/${t}?user_id=${e}`,{headers:this.getHeaders()}),r=await n.json();if(!r.status)throw new Error(r.message||"Failed to fetch team");return r.data},n.createTeam=async function(t,e){const n={...t,user_id:e},r=await fetch(`${this.getBaseUrl()}/teams/`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(n)}),o=await r.json();if(!o.status)throw new Error(o.message||"Failed to create team");return o.data},n.deleteTeam=async function(t,e){const n=await fetch(`${this.getBaseUrl()}/teams/${t}?user_id=${e}`,{method:"DELETE",headers:this.getHeaders()}),r=await n.json();if(!r.status)throw new Error(r.message||"Failed to delete team")},e}(o.y),a=function(t){function e(){return t.apply(this,arguments)||this}(0,r.A)(e,t);var n=e.prototype;return n.validateComponent=async function(t){const e=await fetch(`${this.getBaseUrl()}/validate/`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({component:t})}),n=await e.json();if(!e.ok)throw new Error(n.message||"Failed to validate component");return n},n.testComponent=async function(t,e){void 0===e&&(e=60);const n=await fetch(`${this.getBaseUrl()}/validate/test`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({component:t,timeout:e})}),r=await n.json();if(!n.ok)throw new Error(r.message||"Failed to test component");return r},e}(o.y);const s=new i,c=new a},48280:function(){},48635:function(t,e,n){n.d(e,{A:function(){return r}});const r=(0,n(9407).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},55154:function(t,e,n){n.d(e,{Do:function(){return lr},WZ:function(){return ir},TG:function(){return ur},ny:function(){return ar},yX:function(){return dr},xN:function(){return si},Qc:function(){return sr},I$:function(){return Vo},aQ:function(){return Zo},di:function(){return Ko},kO:function(){return ai},ET:function(){return mi},rN:function(){return go},bi:function(){return No},_s:function(){return Zr},aE:function(){return _r},Hm:function(){return Mo},tM:function(){return or},KE:function(){return Hr},tn:function(){return rr},xc:function(){return er},us:function(){return Gr},IO:function(){return $r},e_:function(){return so},Fp:function(){return uo},Mi:function(){return Dr},HF:function(){return hr},Eo:function(){return to},b5:function(){return _o},Tq:function(){return kr},qX:function(){return ho},q1:function(){return io},oj:function(){return eo},aZ:function(){return wr},aW:function(){return So},uD:function(){return Wr},Jo:function(){return vr},U$:function(){return xr},X6:function(){return Tr},oN:function(){return bo},ah:function(){return yo},R4:function(){return Vr},r8:function(){return To},ZO:function(){return nr},bK:function(){return cr},b$:function(){return pr},uj:function(){return po},v5:function(){return ro},Ue:function(){return qr},Er:function(){return oo},oB:function(){return mr},kf:function(){return Rr},mW:function(){return jr},Q6:function(){return Qr},QE:function(){return Ur},kM:function(){return Nr},No:function(){return Ro},Ff:function(){return Xr},zj:function(){return Fr},s_:function(){return Lr},vS:function(){return Oo},qn:function(){return Lo},uL:function(){return jo},YN:function(){return Kr}});var r={value:()=>{}};function o(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function a(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=r,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=n&&t.push({name:e,value:n}),t}i.prototype=o.prototype={constructor:i,on:function(t,e){var n,r,o=this._,i=(r=o,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),c=-1,l=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++c<l;)if(n=(t=i[c]).type)o[n]=s(o[n],t.name,e);else if(null==e)for(n in o)o[n]=s(o[n],t.name,null);return this}for(;++c<l;)if((n=(t=i[c]).type)&&(n=a(o[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var c=o;function l(){}function u(t){return null==t?l:function(){return this.querySelector(t)}}function d(){return[]}function f(t){return null==t?d:function(){return this.querySelectorAll(t)}}function h(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}function p(t){return function(){return this.matches(t)}}function m(t){return function(e){return e.matches(t)}}var g=Array.prototype.find;function y(){return this.firstElementChild}var v=Array.prototype.filter;function w(){return Array.from(this.children)}function x(t){return new Array(t.length)}function b(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function $(t,e,n,r,o,i){for(var a,s=0,c=e.length,l=i.length;s<l;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new b(t,i[s]);for(;s<c;++s)(a=e[s])&&(o[s]=a)}function _(t,e,n,r,o,i,a){var s,c,l,u=new Map,d=e.length,f=i.length,h=new Array(d);for(s=0;s<d;++s)(c=e[s])&&(h[s]=l=a.call(c,c.__data__,s,e)+"",u.has(l)?o[s]=c:u.set(l,c));for(s=0;s<f;++s)l=a.call(t,i[s],s,i)+"",(c=u.get(l))?(r[s]=c,c.__data__=i[s],u.delete(l)):n[s]=new b(t,i[s]);for(s=0;s<d;++s)(c=e[s])&&u.get(h[s])===c&&(o[s]=c)}function k(t){return t.__data__}function A(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function E(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}b.prototype={constructor:b,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var S="http://www.w3.org/1999/xhtml",M={svg:"http://www.w3.org/2000/svg",xhtml:S,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function C(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),M.hasOwnProperty(e)?{space:M[e],local:t}:t}function P(t){return function(){this.removeAttribute(t)}}function z(t){return function(){this.removeAttributeNS(t.space,t.local)}}function O(t,e){return function(){this.setAttribute(t,e)}}function N(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function I(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function D(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function T(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function j(t){return function(){this.style.removeProperty(t)}}function R(t,e,n){return function(){this.style.setProperty(t,e,n)}}function H(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function L(t,e){return t.style.getPropertyValue(e)||T(t).getComputedStyle(t,null).getPropertyValue(e)}function X(t){return function(){delete this[t]}}function F(t,e){return function(){this[t]=e}}function B(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function V(t){return t.trim().split(/^|\s+/)}function q(t){return t.classList||new Y(t)}function Y(t){this._node=t,this._names=V(t.getAttribute("class")||"")}function W(t,e){for(var n=q(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function U(t,e){for(var n=q(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function G(t){return function(){W(this,t)}}function Z(t){return function(){U(this,t)}}function K(t,e){return function(){(e.apply(this,arguments)?W:U)(this,t)}}function Q(){this.textContent=""}function J(t){return function(){this.textContent=t}}function tt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function et(){this.innerHTML=""}function nt(t){return function(){this.innerHTML=t}}function rt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ot(){this.nextSibling&&this.parentNode.appendChild(this)}function it(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function at(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===S&&e.documentElement.namespaceURI===S?e.createElement(t):e.createElementNS(n,t)}}function st(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ct(t){var e=C(t);return(e.local?st:at)(e)}function lt(){return null}function ut(){var t=this.parentNode;t&&t.removeChild(this)}function dt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ft(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ht(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function pt(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function mt(t,e,n){var r=T(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function gt(t,e){return function(){return mt(this,t,e)}}function yt(t,e){return function(){return mt(this,t,e.apply(this,arguments))}}Y.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var vt=[null];function wt(t,e){this._groups=t,this._parents=e}function xt(){return new wt([[document.documentElement]],vt)}wt.prototype=xt.prototype={constructor:wt,select:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=e[o],c=s.length,l=r[o]=new Array(c),d=0;d<c;++d)(i=s[d])&&(a=t.call(i,i.__data__,d,s))&&("__data__"in i&&(a.__data__=i.__data__),l[d]=a);return new wt(r,this._parents)},selectAll:function(t){t="function"==typeof t?h(t):f(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,s=e[i],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),o.push(a));return new wt(r,o)},selectChild:function(t){return this.select(null==t?y:function(t){return function(){return g.call(this.children,t)}}("function"==typeof t?t:m(t)))},selectChildren:function(t){return this.selectAll(null==t?w:function(t){return function(){return v.call(this.children,t)}}("function"==typeof t?t:m(t)))},filter:function(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new wt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,k);var n,r=e?_:$,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=i.length,s=new Array(a),c=new Array(a),l=new Array(a),u=0;u<a;++u){var d=o[u],f=i[u],h=f.length,p=A(t.call(d,d&&d.__data__,u,o)),m=p.length,g=c[u]=new Array(m),y=s[u]=new Array(m);r(d,f,g,y,l[u]=new Array(h),p,e);for(var v,w,x=0,b=0;x<m;++x)if(v=g[x]){for(x>=b&&(b=x+1);!(w=y[b])&&++b<m;);v._next=w||null}}return(s=new wt(s,o))._enter=c,s._exit=l,s},enter:function(){return new wt(this._enter||this._groups.map(x),this._parents)},exit:function(){return new wt(this._exit||this._groups.map(x),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),c=0;c<a;++c)for(var l,u=n[c],d=r[c],f=u.length,h=s[c]=new Array(f),p=0;p<f;++p)(l=u[p]||d[p])&&(h[p]=l);for(;c<o;++c)s[c]=n[c];return new wt(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=E);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],c=s.length,l=o[i]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(e)}return new wt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=C(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?z:P:"function"==typeof e?n.local?D:I:n.local?N:O)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?j:"function"==typeof e?H:R)(t,e,null==n?"":n)):L(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?X:"function"==typeof e?B:F)(t,e)):this.node()[t]},classed:function(t,e){var n=V(t+"");if(arguments.length<2){for(var r=q(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?K:e?G:Z)(n,e))},text:function(t){return arguments.length?this.each(null==t?Q:("function"==typeof t?tt:J)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?et:("function"==typeof t?rt:nt)(t)):this.node().innerHTML},raise:function(){return this.each(ot)},lower:function(){return this.each(it)},append:function(t){var e="function"==typeof t?t:ct(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ct(t),r=null==e?lt:"function"==typeof e?e:u(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ut)},clone:function(t){return this.select(t?ft:dt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?pt:ht,r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?yt:gt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};var bt=xt;function $t(t){return"string"==typeof t?new wt([[document.querySelector(t)]],[document.documentElement]):new wt([[t]],vt)}function _t(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const kt={passive:!1},At={capture:!0,passive:!1};function Et(t){t.stopImmediatePropagation()}function St(t){t.preventDefault(),t.stopImmediatePropagation()}function Mt(t){var e=t.document.documentElement,n=$t(t).on("dragstart.drag",St,At);"onselectstart"in e?n.on("selectstart.drag",St,At):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ct(t,e){var n=t.document.documentElement,r=$t(t).on("dragstart.drag",null);e&&(r.on("click.drag",St,At),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Pt=t=>()=>t;function zt(t,{sourceEvent:e,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:c,dy:l,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:u}})}function Ot(t){return!t.ctrlKey&&!t.button}function Nt(){return this.parentNode}function It(t,e){return null==e?{x:t.x,y:t.y}:e}function Dt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Tt(){var t,e,n,r,o=Ot,i=Nt,a=It,s=Dt,l={},u=c("start","drag","end"),d=0,f=0;function h(t){t.on("mousedown.drag",p).filter(s).on("touchstart.drag",y).on("touchmove.drag",v,kt).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(a,s){if(!r&&o.call(this,a,s)){var c=x(this,i.call(this,a,s),a,s,"mouse");c&&($t(a.view).on("mousemove.drag",m,At).on("mouseup.drag",g,At),Mt(a.view),Et(a),n=!1,t=a.clientX,e=a.clientY,c("start",a))}}function m(r){if(St(r),!n){var o=r.clientX-t,i=r.clientY-e;n=o*o+i*i>f}l.mouse("drag",r)}function g(t){$t(t.view).on("mousemove.drag mouseup.drag",null),Ct(t.view,n),St(t),l.mouse("end",t)}function y(t,e){if(o.call(this,t,e)){var n,r,a=t.changedTouches,s=i.call(this,t,e),c=a.length;for(n=0;n<c;++n)(r=x(this,s,t,e,a[n].identifier,a[n]))&&(Et(t),r("start",t,a[n]))}}function v(t){var e,n,r=t.changedTouches,o=r.length;for(e=0;e<o;++e)(n=l[r[e].identifier])&&(St(t),n("drag",t,r[e]))}function w(t){var e,n,o=t.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<i;++e)(n=l[o[e].identifier])&&(Et(t),n("end",t,o[e]))}function x(t,e,n,r,o,i){var s,c,f,p=u.copy(),m=_t(i||n,e);if(null!=(f=a.call(t,new zt("beforestart",{sourceEvent:n,target:h,identifier:o,active:d,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return s=f.x-m[0]||0,c=f.y-m[1]||0,function n(i,a,u){var g,y=m;switch(i){case"start":l[o]=n,g=d++;break;case"end":delete l[o],--d;case"drag":m=_t(u||a,e),g=d}p.call(i,t,new zt(i,{sourceEvent:a,subject:f,target:h,identifier:o,active:g,x:m[0]+s,y:m[1]+c,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:p}),r)}}return h.filter=function(t){return arguments.length?(o="function"==typeof t?t:Pt(!!t),h):o},h.container=function(t){return arguments.length?(i="function"==typeof t?t:Pt(t),h):i},h.subject=function(t){return arguments.length?(a="function"==typeof t?t:Pt(t),h):a},h.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Pt(!!t),h):s},h.on=function(){var t=u.on.apply(u,arguments);return t===u?h:t},h.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,h):Math.sqrt(f)},h}zt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function jt(t){return((t=Math.exp(t))+1/t)/2}var Rt,Ht,Lt=function t(e,n,r){function o(t,o){var i,a,s=t[0],c=t[1],l=t[2],u=o[0],d=o[1],f=o[2],h=u-s,p=d-c,m=h*h+p*p;if(m<1e-12)a=Math.log(f/l)/e,i=function(t){return[s+t*h,c+t*p,l*Math.exp(e*t*a)]};else{var g=Math.sqrt(m),y=(f*f-l*l+r*m)/(2*l*n*g),v=(f*f-l*l-r*m)/(2*f*n*g),w=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(v*v+1)-v);a=(x-w)/e,i=function(t){var r,o=t*a,i=jt(w),u=l/(n*g)*(i*(r=e*o+w,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[s+u*h,c+u*p,l*i/jt(e*o+w)]}}return i.duration=1e3*a*e/Math.SQRT2,i}return o.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},o}(Math.SQRT2,2,4),Xt=0,Ft=0,Bt=0,Vt=0,qt=0,Yt=0,Wt="object"==typeof performance&&performance.now?performance:Date,Ut="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Gt(){return qt||(Ut(Zt),qt=Wt.now()+Yt)}function Zt(){qt=0}function Kt(){this._call=this._time=this._next=null}function Qt(t,e,n){var r=new Kt;return r.restart(t,e,n),r}function Jt(){qt=(Vt=Wt.now())+Yt,Xt=Ft=0;try{!function(){Gt(),++Xt;for(var t,e=Rt;e;)(t=qt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Xt}()}finally{Xt=0,function(){var t,e,n=Rt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Rt=e);Ht=t,ee(r)}(),qt=0}}function te(){var t=Wt.now(),e=t-Vt;e>1e3&&(Yt-=e,Vt=t)}function ee(t){Xt||(Ft&&(Ft=clearTimeout(Ft)),t-qt>24?(t<1/0&&(Ft=setTimeout(Jt,t-Wt.now()-Yt)),Bt&&(Bt=clearInterval(Bt))):(Bt||(Vt=Wt.now(),Bt=setInterval(te,1e3)),Xt=1,Ut(Jt)))}function ne(t,e,n){var r=new Kt;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Kt.prototype=Qt.prototype={constructor:Kt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Gt():+n)+(null==e?0:+e),this._next||Ht===this||(Ht?Ht._next=this:Rt=this,Ht=this),this._call=t,this._time=n,ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,ee())}};var re=c("start","end","cancel","interrupt"),oe=[],ie=2,ae=5,se=6;function ce(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(i){var l,u,d,f;if(1!==n.state)return c();for(l in o)if((f=o[l]).name===n.name){if(3===f.state)return ne(a);4===f.state?(f.state=se,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete o[l]):+l<e&&(f.state=se,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete o[l])}if(ne((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=ie,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ie){for(n.state=3,r=new Array(d=n.tween.length),l=0,u=-1;l<d;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function s(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(c),n.state=ae,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);n.state===ae&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){for(var r in n.state=se,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Qt(i,0,n.time)}(t,n,{name:e,index:r,group:o,on:re,tween:oe,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function le(t,e){var n=de(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function ue(t,e){var n=de(t,e);if(n.state>3)throw new Error("too late; already running");return n}function de(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fe(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>ie&&n.state<ae,n.state=se,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}function he(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var pe,me=180/Math.PI,ge={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ye(t,e,n,r,o,i){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*me,skewX:Math.atan(c)*me,scaleX:a,scaleY:s}}function ve(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],c=[];return i=t(i),a=t(a),function(t,r,o,i,a,s){if(t!==o||r!==i){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:he(t,o)},{i:c-2,x:he(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,c),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:he(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,s,c),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:he(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,s,c),function(t,e,n,r,i,a){if(t!==n||e!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:he(t,n)},{i:s-2,x:he(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,c),i=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var we=ve((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ge:ye(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),xe=ve((function(t){return null==t?ge:(pe||(pe=document.createElementNS("http://www.w3.org/2000/svg","g")),pe.setAttribute("transform",t),(t=pe.transform.baseVal.consolidate())?ye((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ge)}),", ",")",")");function be(t,e){var n,r;return function(){var o=ue(this,t),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function $e(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=ue(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:e,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===e){o[c]=s;break}c===l&&o.push(s)}i.tween=o}}function _e(t,e,n){var r=t._id;return t.each((function(){var t=ue(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return de(t,r).value[e]}}function ke(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ae(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ee(){}var Se=.7,Me=1/Se,Ce="\\s*([+-]?\\d+)\\s*",Pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ze="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oe=/^#([0-9a-f]{3,8})$/,Ne=new RegExp(`^rgb\\(${Ce},${Ce},${Ce}\\)$`),Ie=new RegExp(`^rgb\\(${ze},${ze},${ze}\\)$`),De=new RegExp(`^rgba\\(${Ce},${Ce},${Ce},${Pe}\\)$`),Te=new RegExp(`^rgba\\(${ze},${ze},${ze},${Pe}\\)$`),je=new RegExp(`^hsl\\(${Pe},${ze},${ze}\\)$`),Re=new RegExp(`^hsla\\(${Pe},${ze},${ze},${Pe}\\)$`),He={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Le(){return this.rgb().formatHex()}function Xe(){return this.rgb().formatRgb()}function Fe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Oe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Be(e):3===n?new Ye(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ve(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ve(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ne.exec(t))?new Ye(e[1],e[2],e[3],1):(e=Ie.exec(t))?new Ye(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=De.exec(t))?Ve(e[1],e[2],e[3],e[4]):(e=Te.exec(t))?Ve(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=je.exec(t))?Qe(e[1],e[2]/100,e[3]/100,1):(e=Re.exec(t))?Qe(e[1],e[2]/100,e[3]/100,e[4]):He.hasOwnProperty(t)?Be(He[t]):"transparent"===t?new Ye(NaN,NaN,NaN,0):null}function Be(t){return new Ye(t>>16&255,t>>8&255,255&t,1)}function Ve(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ye(t,e,n,r)}function qe(t,e,n,r){return 1===arguments.length?((o=t)instanceof Ee||(o=Fe(o)),o?new Ye((o=o.rgb()).r,o.g,o.b,o.opacity):new Ye):new Ye(t,e,n,null==r?1:r);var o}function Ye(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function We(){return`#${Ke(this.r)}${Ke(this.g)}${Ke(this.b)}`}function Ue(){const t=Ge(this.opacity);return`${1===t?"rgb(":"rgba("}${Ze(this.r)}, ${Ze(this.g)}, ${Ze(this.b)}${1===t?")":`, ${t})`}`}function Ge(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ze(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ke(t){return((t=Ze(t))<16?"0":"")+t.toString(16)}function Qe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new tn(t,e,n,r)}function Je(t){if(t instanceof tn)return new tn(t.h,t.s,t.l,t.opacity);if(t instanceof Ee||(t=Fe(t)),!t)return new tn;if(t instanceof tn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,c=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new tn(a,s,c,t.opacity)}function tn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function en(t){return(t=(t||0)%360)<0?t+360:t}function nn(t){return Math.max(0,Math.min(1,t||0))}function rn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function on(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}ke(Ee,Fe,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Le,formatHex:Le,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Je(this).formatHsl()},formatRgb:Xe,toString:Xe}),ke(Ye,qe,Ae(Ee,{brighter(t){return t=null==t?Me:Math.pow(Me,t),new Ye(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Se:Math.pow(Se,t),new Ye(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ye(Ze(this.r),Ze(this.g),Ze(this.b),Ge(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:We,formatHex:We,formatHex8:function(){return`#${Ke(this.r)}${Ke(this.g)}${Ke(this.b)}${Ke(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ue,toString:Ue})),ke(tn,(function(t,e,n,r){return 1===arguments.length?Je(t):new tn(t,e,n,null==r?1:r)}),Ae(Ee,{brighter(t){return t=null==t?Me:Math.pow(Me,t),new tn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Se:Math.pow(Se,t),new tn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Ye(rn(t>=240?t-240:t+120,o,r),rn(t,o,r),rn(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new tn(en(this.h),nn(this.s),nn(this.l),Ge(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ge(this.opacity);return`${1===t?"hsl(":"hsla("}${en(this.h)}, ${100*nn(this.s)}%, ${100*nn(this.l)}%${1===t?")":`, ${t})`}`}}));var an=t=>()=>t;function sn(t,e){return function(n){return t+n*e}}function cn(t){return 1===(t=+t)?ln:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):an(isNaN(e)?n:e)}}function ln(t,e){var n=e-t;return n?sn(t,n):an(isNaN(t)?e:t)}var un=function t(e){var n=cn(e);function r(t,e){var r=n((t=qe(t)).r,(e=qe(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=ln(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function dn(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=qe(e[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=t(i),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=s(t),r+""}}}dn((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,s=r<e-1?t[r+2]:2*i-o;return on((n-r/e)*e,a,o,i,s)}})),dn((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return on((n-r/e)*e,o,i,a,s)}}));var fn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hn=new RegExp(fn.source,"g");function pn(t,e){var n,r,o,i=fn.lastIndex=hn.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=fn.exec(t))&&(r=hn.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:he(n,r)})),i=hn.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}function mn(t,e){var n;return("number"==typeof e?he:e instanceof Fe?un:(n=Fe(e))?(e=n,un):pn)(t,e)}function gn(t){return function(){this.removeAttribute(t)}}function yn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vn(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function wn(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function xn(t,e,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,c));this.removeAttribute(t)}}function bn(t,e,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function $n(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,o)),n}return o._value=e,o}function _n(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,o)),n}return o._value=e,o}function kn(t,e){return function(){le(this,t).delay=+e.apply(this,arguments)}}function An(t,e){return e=+e,function(){le(this,t).delay=e}}function En(t,e){return function(){ue(this,t).duration=+e.apply(this,arguments)}}function Sn(t,e){return e=+e,function(){ue(this,t).duration=e}}var Mn=bt.prototype.constructor;function Cn(t){return function(){this.style.removeProperty(t)}}var Pn=0;function zn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function On(){return++Pn}var Nn=bt.prototype;zn.prototype=function(t){return bt().transition(t)}.prototype={constructor:zn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=u(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,c,l=r[a],d=l.length,f=i[a]=new Array(d),h=0;h<d;++h)(s=l[h])&&(c=t.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),f[h]=c,ce(f[h],e,n,h,f,de(s,n)));return new zn(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=f(t));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var c,l=r[s],u=l.length,d=0;d<u;++d)if(c=l[d]){for(var h,p=t.call(c,c.__data__,d,l),m=de(c,n),g=0,y=p.length;g<y;++g)(h=p[g])&&ce(h,e,n,g,p,m);i.push(p),a.push(c)}return new zn(i,a,e,n)},selectChild:Nn.selectChild,selectChildren:Nn.selectChildren,filter:function(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new zn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=e[s],u=n[s],d=l.length,f=a[s]=new Array(d),h=0;h<d;++h)(c=l[h]||u[h])&&(f[h]=c);for(;s<r;++s)a[s]=e[s];return new zn(a,this._parents,this._name,this._id)},selection:function(){return new Mn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=On(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=de(a,e);ce(a,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new zn(r,this._parents,t,n)},call:Nn.call,nodes:Nn.nodes,node:Nn.node,size:Nn.size,empty:Nn.empty,each:Nn.each,on:function(t,e){var n=this._id;return arguments.length<2?de(this.node(),n).on.on(t):this.each(function(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?le:ue;return function(){var a=i(this,t),s=a.on;s!==r&&(o=(r=s).copy()).on(e,n),a.on=o}}(n,t,e))},attr:function(t,e){var n=C(t),r="transform"===n?xe:mn;return this.attrTween(t,"function"==typeof e?(n.local?bn:xn)(n,r,_e(this,"attr."+t,e)):null==e?(n.local?yn:gn)(n):(n.local?wn:vn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=C(t);return this.tween(n,(r.local?$n:_n)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?we:mn;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=L(this,t),a=(this.style.removeProperty(t),L(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,Cn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var a=L(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=L(this,t)),a===c?null:a===r&&c===o?i:(o=c,i=e(r=a,s))}}(t,r,_e(this,"style."+t,e))).each(function(t,e){var n,r,o,i,a="style."+e,s="end."+a;return function(){var c=ue(this,t),l=c.on,u=null==c.value[a]?i||(i=Cn(e)):void 0;l===n&&o===u||(r=(n=l).copy()).on(s,o=u),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var a=L(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,i,n)),r}return i._value=e,i}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(_e(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=de(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?be:$e)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?kn:An)(e,t)):de(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?En:Sn)(e,t)):de(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){ue(this,t).ease=e}}(e,t)):de(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;ue(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},c={value:function(){0===--o&&i()}};n.each((function(){var n=ue(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e})),0===o&&i()}))},[Symbol.iterator]:Nn[Symbol.iterator]};var In={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Dn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}bt.prototype.interrupt=function(t){return this.each((function(){fe(this,t)}))},bt.prototype.transition=function(t){var e,n;t instanceof zn?(e=t._id,t=t._name):(e=On(),(n=In).time=Gt(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)(a=s[l])&&ce(a,t,e,l,s,n||Dn(a,e));return new zn(r,this._parents,t,e)};var Tn=t=>()=>t;function jn(t,{sourceEvent:e,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Rn(t,e,n){this.k=t,this.x=e,this.y=n}Rn.prototype={constructor:Rn,scale:function(t){return 1===t?this:new Rn(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Rn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Hn=new Rn(1,0,0);function Ln(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Hn;return t.__zoom}function Xn(t){t.stopImmediatePropagation()}function Fn(t){t.preventDefault(),t.stopImmediatePropagation()}function Bn(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Vn(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function qn(){return this.__zoom||Hn}function Yn(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Wn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Un(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Gn(){var t,e,n,r=Bn,o=Vn,i=Un,a=Yn,s=Wn,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],d=250,f=Lt,h=c("start","zoom","end"),p=0,m=10;function g(t){t.property("__zoom",qn).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",A).filter(s).on("touchstart.zoom",E).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new Rn(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return r===t.x&&o===t.y?t:new Rn(t.k,r,o)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,r){t.on("start.zoom",(function(){b(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,i=arguments,a=b(t,i).event(r),s=o.apply(t,i),c=null==n?w(s):"function"==typeof n?n.apply(t,i):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=t.__zoom,d="function"==typeof e?e.apply(t,i):e,h=f(u.invert(c).concat(l/u.k),d.invert(c).concat(l/d.k));return function(t){if(1===t)t=d;else{var e=h(t),n=l/e[2];t=new Rn(n,c[0]-e[0]*n,c[1]-e[1]*n)}a.zoom(null,t)}}))}function b(t,e,n){return!n&&t.__zooming||new $(t,e)}function $(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=o.apply(t,e),this.taps=0}function _(t,...e){if(r.apply(this,arguments)){var n=b(this,e).event(t),o=this.__zoom,s=Math.max(l[0],Math.min(l[1],o.k*Math.pow(2,a.apply(this,arguments)))),c=_t(t);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=o.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(o.k===s)return;n.mouse=[c,o.invert(c)],fe(this),n.start()}Fn(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),150),n.zoom("mouse",i(v(y(o,s),n.mouse[0],n.mouse[1]),n.extent,u))}}function k(t,...e){if(!n&&r.apply(this,arguments)){var o=t.currentTarget,a=b(this,e,!0).event(t),s=$t(t.view).on("mousemove.zoom",(function(t){if(Fn(t),!a.moved){var e=t.clientX-l,n=t.clientY-d;a.moved=e*e+n*n>p}a.event(t).zoom("mouse",i(v(a.that.__zoom,a.mouse[0]=_t(t,o),a.mouse[1]),a.extent,u))}),!0).on("mouseup.zoom",(function(t){s.on("mousemove.zoom mouseup.zoom",null),Ct(t.view,a.moved),Fn(t),a.event(t).end()}),!0),c=_t(t,o),l=t.clientX,d=t.clientY;Mt(t.view),Xn(t),a.mouse=[c,this.__zoom.invert(c)],fe(this),a.start()}}function A(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=_t(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),c=n.k*(t.shiftKey?.5:2),l=i(v(y(n,c),a,s),o.apply(this,e),u);Fn(t),d>0?$t(this).transition().duration(d).call(x,l,a,t):$t(this).call(g.transform,l,a,t)}}function E(n,...o){if(r.apply(this,arguments)){var i,a,s,c,l=n.touches,u=l.length,d=b(this,o,n.changedTouches.length===u).event(n);for(Xn(n),a=0;a<u;++a)c=[c=_t(s=l[a],this),this.__zoom.invert(c),s.identifier],d.touch0?d.touch1||d.touch0[2]===c[2]||(d.touch1=c,d.taps=0):(d.touch0=c,i=!0,d.taps=1+!!t);t&&(t=clearTimeout(t)),i&&(d.taps<2&&(e=c[0],t=setTimeout((function(){t=null}),500)),fe(this),d.start())}}function S(t,...e){if(this.__zooming){var n,r,o,a,s=b(this,e).event(t),c=t.changedTouches,l=c.length;for(Fn(t),n=0;n<l;++n)o=_t(r=c[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=o);if(r=s.that.__zoom,s.touch1){var d=s.touch0[0],f=s.touch0[1],h=s.touch1[0],p=s.touch1[1],m=(m=h[0]-d[0])*m+(m=h[1]-d[1])*m,g=(g=p[0]-f[0])*g+(g=p[1]-f[1])*g;r=y(r,Math.sqrt(m/g)),o=[(d[0]+h[0])/2,(d[1]+h[1])/2],a=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],a=s.touch0[1]}s.zoom("touch",i(v(r,o,a),s.extent,u))}}function M(t,...r){if(this.__zooming){var o,i,a=b(this,r).event(t),s=t.changedTouches,c=s.length;for(Xn(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),o=0;o<c;++o)i=s[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=_t(i,this),Math.hypot(e[0]-i[0],e[1]-i[1])<m)){var l=$t(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return g.transform=function(t,e,n,r){var o=t.selection?t.selection():t;o.property("__zoom",qn),t!==o?x(t,e,n,r):o.interrupt().each((function(){b(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n,r){g.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},g.scaleTo=function(t,e,n,r){g.transform(t,(function(){var t=o.apply(this,arguments),r=this.__zoom,a=null==n?w(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),c="function"==typeof e?e.apply(this,arguments):e;return i(v(y(r,c),a,s),t,u)}),n,r)},g.translateBy=function(t,e,n,r){g.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),u)}),null,r)},g.translateTo=function(t,e,n,r,a){g.transform(t,(function(){var t=o.apply(this,arguments),a=this.__zoom,s=null==r?w(t):"function"==typeof r?r.apply(this,arguments):r;return i(Hn.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}),r,a)},$.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=$t(this.that).datum();h.call(t,this.that,new jn(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:h}),e)}},g.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:Tn(+t),g):a},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:Tn(!!t),g):r},g.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Tn(!!t),g):s},g.extent=function(t){return arguments.length?(o="function"==typeof t?t:Tn([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):o},g.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],g):[l[0],l[1]]},g.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],g):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},g.constrain=function(t){return arguments.length?(i=t,g):i},g.duration=function(t){return arguments.length?(d=+t,g):d},g.interpolate=function(t){return arguments.length?(f=t,g):f},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,g):Math.sqrt(p)},g.tapDistance=function(t){return arguments.length?(m=+t,g):m},g}function Zn(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=tr(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function Kn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Qn(t,e){var n,r={},o={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=tr(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}function Jn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function tr(t,e){var n,r,o=typeof e;return null==e||"boolean"===o?an(e):("number"===o?he:"string"===o?(n=Fe(e))?(e=n,un):pn:e instanceof Fe?un:e instanceof Date?Kn:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Zn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Qn:he:Jn))(t,e)}Ln.prototype=Rn.prototype;const er={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${"source"===t?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},nr=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],rr=["Enter"," ","Escape"],or={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ir,ar,sr;!function(t){t.Strict="strict",t.Loose="loose"}(ir||(ir={})),function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"}(ar||(ar={})),function(t){t.Partial="partial",t.Full="full"}(sr||(sr={}));const cr={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var lr,ur,dr;!function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"}(lr||(lr={})),function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"}(ur||(ur={})),function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"}(dr||(dr={}));const fr={[dr.Left]:dr.Right,[dr.Right]:dr.Left,[dr.Top]:dr.Bottom,[dr.Bottom]:dr.Top};function hr(t){return null===t?null:t?"valid":"invalid"}const pr=t=>"id"in t&&"source"in t&&"target"in t,mr=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),gr=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),yr=(t,e=[0,0])=>{const{width:n,height:r}=Wr(t),o=t.origin??e,i=n*o[0],a=r*o[1];return{x:t.position.x-i,y:t.position.y-a}},vr=(t,e={nodeOrigin:[0,0]})=>{if(0===t.length)return{x:0,y:0,width:0,height:0};const n=t.reduce(((t,n)=>{const r="string"==typeof n;let o=e.nodeLookup||r?void 0:n;e.nodeLookup&&(o=r?e.nodeLookup.get(n):gr(n)?n:e.nodeLookup.get(n.id));const i=o?Ir(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Pr(t,i)}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Or(n)},wr=(t,e={})=>{if(0===t.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach((t=>{if(void 0===e.filter||e.filter(t)){const e=Ir(t);n=Pr(n,e)}})),Or(n)},xr=(t,e,[n,r,o]=[0,0,1],i=!1,a=!1)=>{const s={...Xr(e,[n,r,o]),width:e.width/o,height:e.height/o},c=[];for(const l of t.values()){const{measured:t,selectable:e=!0,hidden:n=!1}=l;if(a&&!e||n)continue;const r=t.width??l.width??l.initialWidth??null,o=t.height??l.height??l.initialHeight??null,u=Tr(s,Nr(l)),d=(r??0)*(o??0),f=i&&u>0;(!l.internals.handleBounds||f||u>=d||l.dragging)&&c.push(l)}return c},br=(t,e)=>{const n=new Set;return t.forEach((t=>{n.add(t.id)})),e.filter((t=>n.has(t.source)||n.has(t.target)))};async function $r({nodes:t,width:e,height:n,panZoom:r,minZoom:o,maxZoom:i},a){if(0===t.size)return Promise.resolve(!0);const s=function(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map((t=>t.id))):null;return t.forEach((t=>{!t.measured.width||!t.measured.height||!e?.includeHiddenNodes&&t.hidden||r&&!r.has(t.id)||n.set(t.id,t)})),n}(t,a),c=wr(s),l=Vr(c,e,n,a?.minZoom??o,a?.maxZoom??i,a?.padding??.1);return await r.setViewport(l,{duration:a?.duration,ease:a?.ease,interpolate:a?.interpolate}),Promise.resolve(!0)}function _r({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const a=n.get(t),s=a.parentId?n.get(a.parentId):void 0,{x:c,y:l}=s?s.internals.positionAbsolute:{x:0,y:0},u=a.origin??r;let d=o;if("parent"!==a.extent||a.expandParent)s&&Yr(a.extent)&&(d=[[a.extent[0][0]+c,a.extent[0][1]+l],[a.extent[1][0]+c,a.extent[1][1]+l]]);else if(s){const t=s.measured.width,e=s.measured.height;t&&e&&(d=[[c,l],[c+t,l+e]])}else i?.("005",er.error005());const f=Yr(d)?Er(e,d,a.measured):e;return void 0!==a.measured.width&&void 0!==a.measured.height||i?.("015",er.error015()),{position:{x:f.x-c+(a.measured.width??0)*u[0],y:f.y-l+(a.measured.height??0)*u[1]},positionAbsolute:f}}async function kr({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(t.map((t=>t.id))),a=[];for(const d of n){if(!1===d.deletable)continue;const t=i.has(d.id),e=!t&&d.parentId&&a.find((t=>t.id===d.parentId));(t||e)&&a.push(d)}const s=new Set(e.map((t=>t.id))),c=r.filter((t=>!1!==t.deletable)),l=br(a,c);for(const d of c){s.has(d.id)&&!l.find((t=>t.id===d.id))&&l.push(d)}if(!o)return{edges:l,nodes:a};const u=await o({nodes:a,edges:l});return"boolean"==typeof u?u?{edges:l,nodes:a}:{edges:[],nodes:[]}:u}const Ar=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Er=(t={x:0,y:0},e,n)=>({x:Ar(t.x,e[0][0],e[1][0]-(n?.width??0)),y:Ar(t.y,e[0][1],e[1][1]-(n?.height??0))});function Sr(t,e,n){const{width:r,height:o}=Wr(n),{x:i,y:a}=n.internals.positionAbsolute;return Er(t,[[i,a],[i+r,a+o]],e)}const Mr=(t,e,n)=>t<e?Ar(Math.abs(t-e),1,e)/e:t>n?-Ar(Math.abs(t-n),1,e)/e:0,Cr=(t,e,n=15,r=40)=>[Mr(t.x,r,e.width-r)*n,Mr(t.y,r,e.height-r)*n],Pr=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),zr=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Or=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Nr=(t,e=[0,0])=>{const{x:n,y:r}=gr(t)?t.internals.positionAbsolute:yr(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Ir=(t,e=[0,0])=>{const{x:n,y:r}=gr(t)?t.internals.positionAbsolute:yr(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},Dr=(t,e)=>Or(Pr(zr(t),zr(e))),Tr=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},jr=t=>Rr(t.width)&&Rr(t.height)&&Rr(t.x)&&Rr(t.y),Rr=t=>!isNaN(t)&&isFinite(t),Hr=(t,e)=>{0},Lr=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Xr=({x:t,y:e},[n,r,o],i=!1,a=[1,1])=>{const s={x:(t-n)/o,y:(e-r)/o};return i?Lr(s,a):s},Fr=({x:t,y:e},[n,r,o])=>({x:t*o+n,y:e*o+r});function Br(t,e){if("number"==typeof t)return Math.floor(.5*(e-e/(1+t)));if("string"==typeof t&&t.endsWith("px")){const e=parseFloat(t);if(!Number.isNaN(e))return Math.floor(e)}if("string"==typeof t&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}const Vr=(t,e,n,r,o,i)=>{const a=function(t,e,n){if("string"==typeof t||"number"==typeof t){const r=Br(t,n),o=Br(t,e);return{top:r,right:o,bottom:r,left:o,x:2*o,y:2*r}}if("object"==typeof t){const r=Br(t.top??t.y??0,n),o=Br(t.bottom??t.y??0,n),i=Br(t.left??t.x??0,e),a=Br(t.right??t.x??0,e);return{top:r,right:a,bottom:o,left:i,x:i+a,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(i,e,n),s=(e-a.x)/t.width,c=(n-a.y)/t.height,l=Math.min(s,c),u=Ar(l,r,o),d=e/2-(t.x+t.width/2)*u,f=n/2-(t.y+t.height/2)*u,h=function(t,e,n,r,o,i){const{x:a,y:s}=Fr(t,[e,n,r]),{x:c,y:l}=Fr({x:t.x+t.width,y:t.y+t.height},[e,n,r]),u=o-c,d=i-l;return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(u),bottom:Math.floor(d)}}(t,d,f,u,e,n),p=Math.min(h.left-a.left,0),m=Math.min(h.top-a.top,0);return{x:d-p+Math.min(h.right-a.right,0),y:f-m+Math.min(h.bottom-a.bottom,0),zoom:u}},qr=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function Yr(t){return void 0!==t&&"parent"!==t}function Wr(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function Ur(t){return void 0!==(t.measured?.width??t.width??t.initialWidth)&&void 0!==(t.measured?.height??t.height??t.initialHeight)}function Gr(t,e={width:0,height:0},n,r,o){const i={...t},a=r.get(n);if(a){const t=a.origin||o;i.x+=a.internals.positionAbsolute.x-(e.width??0)*t[0],i.y+=a.internals.positionAbsolute.y-(e.height??0)*t[1]}return i}function Zr(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Kr(){let t,e;return{promise:new Promise(((n,r)=>{t=n,e=r})),resolve:t,reject:e}}function Qr(t){return{...or,...t||{}}}function Jr(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:a}=io(t),s=Xr({x:i-(o?.left??0),y:a-(o?.top??0)},r),{x:c,y:l}=n?Lr(s,e):s;return{xSnapped:c,ySnapped:l,...s}}const to=t=>({width:t.offsetWidth,height:t.offsetHeight}),eo=t=>t?.getRootNode?.()||window?.document,no=["INPUT","SELECT","TEXTAREA"];function ro(t){const e=t.composedPath?.()?.[0]||t.target;if(1!==e?.nodeType)return!1;return no.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const oo=t=>"clientX"in t,io=(t,e)=>{const n=oo(t),r=n?t.clientX:t.touches?.[0].clientX,o=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:o-(e?.top??0)}},ao=(t,e,n,r,o)=>{const i=e.querySelectorAll(`.${t}`);return i&&i.length?Array.from(i).map((e=>{const i=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),type:t,nodeId:o,position:e.getAttribute("data-handlepos"),x:(i.left-n.left)/r,y:(i.top-n.top)/r,...to(e)}})):null};function so({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){const c=.125*t+.375*o+.375*a+.125*n,l=.125*e+.375*i+.375*s+.125*r;return[c,l,Math.abs(c-t),Math.abs(l-e)]}function co(t,e){return t>=0?.5*t:25*e*Math.sqrt(-t)}function lo({pos:t,x1:e,y1:n,x2:r,y2:o,c:i}){switch(t){case dr.Left:return[e-co(e-r,i),n];case dr.Right:return[e+co(r-e,i),n];case dr.Top:return[e,n-co(n-o,i)];case dr.Bottom:return[e,n+co(o-n,i)]}}function uo({sourceX:t,sourceY:e,sourcePosition:n=dr.Bottom,targetX:r,targetY:o,targetPosition:i=dr.Top,curvature:a=.25}){const[s,c]=lo({pos:n,x1:t,y1:e,x2:r,y2:o,c:a}),[l,u]=lo({pos:i,x1:r,y1:o,x2:t,y2:e,c:a}),[d,f,h,p]=so({sourceX:t,sourceY:e,targetX:r,targetY:o,sourceControlX:s,sourceControlY:c,targetControlX:l,targetControlY:u});return[`M${t},${e} C${s},${c} ${l},${u} ${r},${o}`,d,f,h,p]}function fo({sourceX:t,sourceY:e,targetX:n,targetY:r}){const o=Math.abs(n-t)/2,i=n<t?n+o:n-o,a=Math.abs(r-e)/2;return[i,r<e?r+a:r-a,o,a]}function ho({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;const i=n||e.selected||t.selected,a=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(i?a:0)}function po({sourceNode:t,targetNode:e,width:n,height:r,transform:o}){const i=Pr(Ir(t),Ir(e));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const a={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Tr(a,Or(i))>0}const mo=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,go=(t,e)=>{if(!t.source||!t.target)return Hr("006",er.error006()),e;let n;return n=pr(t)?{...t}:{...t,id:mo(t)},((t,e)=>e.some((e=>!(e.source!==t.source||e.target!==t.target||e.sourceHandle!==t.sourceHandle&&(e.sourceHandle||t.sourceHandle)||e.targetHandle!==t.targetHandle&&(e.targetHandle||t.targetHandle)))))(n,e)?e:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,e.concat(n))};function yo({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[o,i,a,s]=fo({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,o,i,a,s]}const vo={[dr.Left]:{x:-1,y:0},[dr.Right]:{x:1,y:0},[dr.Top]:{x:0,y:-1},[dr.Bottom]:{x:0,y:1}},wo=({source:t,sourcePosition:e=dr.Bottom,target:n})=>e===dr.Left||e===dr.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},xo=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function bo({sourceX:t,sourceY:e,sourcePosition:n=dr.Bottom,targetX:r,targetY:o,targetPosition:i=dr.Top,borderRadius:a=5,centerX:s,centerY:c,offset:l=20}){const[u,d,f,h,p]=function({source:t,sourcePosition:e=dr.Bottom,target:n,targetPosition:r=dr.Top,center:o,offset:i}){const a=vo[e],s=vo[r],c={x:t.x+a.x*i,y:t.y+a.y*i},l={x:n.x+s.x*i,y:n.y+s.y*i},u=wo({source:c,sourcePosition:e,target:l}),d=0!==u.x?"x":"y",f=u[d];let h,p,m=[];const g={x:0,y:0},y={x:0,y:0},[v,w,x,b]=fo({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[d]*s[d]===-1){h=o.x??v,p=o.y??w;const t=[{x:h,y:c.y},{x:h,y:l.y}],e=[{x:c.x,y:p},{x:l.x,y:p}];m=a[d]===f?"x"===d?t:e:"x"===d?e:t}else{const o=[{x:c.x,y:l.y}],u=[{x:l.x,y:c.y}];if(m="x"===d?a.x===f?u:o:a.y===f?o:u,e===r){const e=Math.abs(t[d]-n[d]);if(e<=i){const r=Math.min(i-1,i-e);a[d]===f?g[d]=(c[d]>t[d]?-1:1)*r:y[d]=(l[d]>n[d]?-1:1)*r}}if(e!==r){const t="x"===d?"y":"x",e=a[d]===s[t],n=c[t]>l[t],r=c[t]<l[t];(1===a[d]&&(!e&&n||e&&r)||1!==a[d]&&(!e&&r||e&&n))&&(m="x"===d?o:u)}const v={x:c.x+g.x,y:c.y+g.y},w={x:l.x+y.x,y:l.y+y.y};Math.max(Math.abs(v.x-m[0].x),Math.abs(w.x-m[0].x))>=Math.max(Math.abs(v.y-m[0].y),Math.abs(w.y-m[0].y))?(h=(v.x+w.x)/2,p=m[0].y):(h=m[0].x,p=(v.y+w.y)/2)}return[[t,{x:c.x+g.x,y:c.y+g.y},...m,{x:l.x+y.x,y:l.y+y.y},n],h,p,x,b]}({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:s,y:c},offset:l}),m=u.reduce(((t,e,n)=>{let r="";return r=n>0&&n<u.length-1?function(t,e,n,r){const o=Math.min(xo(t,e)/2,xo(e,n)/2,r),{x:i,y:a}=e;if(t.x===i&&i===n.x||t.y===a&&a===n.y)return`L${i} ${a}`;if(t.y===a)return`L ${i+o*(t.x<n.x?-1:1)},${a}Q ${i},${a} ${i},${a+o*(t.y<n.y?1:-1)}`;const s=t.x<n.x?1:-1;return`L ${i},${a+o*(t.y<n.y?-1:1)}Q ${i},${a} ${i+o*s},${a}`}(u[n-1],e,u[n+1],a):`${0===n?"M":"L"}${e.x} ${e.y}`,t+=r}),"");return[m,d,f,h,p]}function $o(t){return t&&!(!t.internals.handleBounds&&!t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function _o(t){const{sourceNode:e,targetNode:n}=t;if(!$o(e)||!$o(n))return null;const r=e.internals.handleBounds||ko(e.handles),o=n.internals.handleBounds||ko(n.handles),i=Eo(r?.source??[],t.sourceHandle),a=Eo(t.connectionMode===ir.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),t.targetHandle);if(!i||!a)return t.onError?.("008",er.error008(i?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const s=i?.position||dr.Bottom,c=a?.position||dr.Top,l=Ao(e,i,s),u=Ao(n,a,c);return{sourceX:l.x,sourceY:l.y,targetX:u.x,targetY:u.y,sourcePosition:s,targetPosition:c}}function ko(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,"source"===r.type?e.push(r):"target"===r.type&&n.push(r);return{source:e,target:n}}function Ao(t,e,n=dr.Left,r=!1){const o=(e?.x??0)+t.internals.positionAbsolute.x,i=(e?.y??0)+t.internals.positionAbsolute.y,{width:a,height:s}=e??Wr(t);if(r)return{x:o+a/2,y:i+s/2};switch(e?.position??n){case dr.Top:return{x:o+a/2,y:i};case dr.Right:return{x:o+a,y:i+s/2};case dr.Bottom:return{x:o+a/2,y:i+s};case dr.Left:return{x:o,y:i+s/2}}}function Eo(t,e){return t&&(e?t.find((t=>t.id===e)):t[0])||null}function So(t,e){if(!t)return"";if("string"==typeof t)return t;return`${e?`${e}__`:""}${Object.keys(t).sort().map((e=>`${e}=${t[e]}`)).join("&")}`}function Mo(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return t.reduce(((t,a)=>([a.markerStart||r,a.markerEnd||o].forEach((r=>{if(r&&"object"==typeof r){const o=So(r,e);i.has(o)||(t.push({id:o,color:r.color||n,...r}),i.add(o))}})),t)),[]).sort(((t,e)=>t.id.localeCompare(e.id)))}const Co={nodeOrigin:[0,0],nodeExtent:nr,elevateNodesOnSelect:!0,defaults:{}},Po={...Co,checkEquality:!0};function zo(t,e){const n={...t};for(const r in e)void 0!==e[r]&&(n[r]=e[r]);return n}function Oo(t,e,n){const r=zo(Co,n);for(const o of t.values())if(o.parentId)Io(o,t,e,r);else{const t=yr(o,r.nodeOrigin),e=Yr(o.extent)?o.extent:r.nodeExtent,n=Er(t,e,Wr(o));o.internals.positionAbsolute=n}}function No(t,e,n,r){const o=zo(Po,r);let i=t.length>0;const a=new Map(e),s=o?.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const c of t){let t=a.get(c.id);if(o.checkEquality&&c===t?.internals.userNode)e.set(c.id,t);else{const n=yr(c,o.nodeOrigin),r=Yr(c.extent)?c.extent:o.nodeExtent,i=Er(n,r,Wr(c));t={...o.defaults,...c,measured:{width:c.measured?.width,height:c.measured?.height},internals:{positionAbsolute:i,handleBounds:c.measured?t?.internals.handleBounds:void 0,z:Do(c,s),userNode:c}},e.set(c.id,t)}void 0!==t.measured&&void 0!==t.measured.width&&void 0!==t.measured.height||t.hidden||(i=!1),c.parentId&&Io(t,e,n,r)}return i}function Io(t,e,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:a}=zo(Co,r),s=t.parentId,c=e.get(s);if(!c)return void console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);!function(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}(t,n);const l=o?1e3:0,{x:u,y:d,z:f}=function(t,e,n,r,o){const{x:i,y:a}=e.internals.positionAbsolute,s=Wr(t),c=yr(t,n),l=Yr(t.extent)?Er(c,t.extent,s):c;let u=Er({x:i+l.x,y:a+l.y},r,s);"parent"===t.extent&&(u=Sr(u,s,e));const d=Do(t,o),f=e.internals.z??0;return{x:u.x,y:u.y,z:f>d?f:d}}(t,c,i,a,l),{positionAbsolute:h}=t.internals,p=u!==h.x||d!==h.y;(p||f!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:p?{x:u,y:d}:h,z:f}})}function Do(t,e){return(Rr(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function To(t,e,n,r=[0,0]){const o=[],i=new Map;for(const a of t){const t=e.get(a.parentId);if(!t)continue;const n=i.get(a.parentId)?.expandedRect??Nr(t),r=Dr(n,a.rect);i.set(a.parentId,{expandedRect:r,parent:t})}return i.size>0&&i.forEach((({expandedRect:e,parent:i},a)=>{const s=i.internals.positionAbsolute,c=Wr(i),l=i.origin??r,u=e.x<s.x?Math.round(Math.abs(s.x-e.x)):0,d=e.y<s.y?Math.round(Math.abs(s.y-e.y)):0,f=Math.max(c.width,Math.round(e.width)),h=Math.max(c.height,Math.round(e.height)),p=(f-c.width)*l[0],m=(h-c.height)*l[1];(u>0||d>0||p||m)&&(o.push({id:a,type:"position",position:{x:i.position.x-u+p,y:i.position.y-d+m}}),n.get(a)?.forEach((e=>{t.some((t=>t.id===e.id))||o.push({id:e.id,type:"position",position:{x:e.position.x+u,y:e.position.y+d}})}))),(c.width<e.width||c.height<e.height||u||d)&&o.push({id:a,type:"dimensions",setAttributes:!0,dimensions:{width:f+(u?l[0]*u-p:0),height:h+(d?l[1]*d-m:0)}})})),o}function jo(t,e,n,r,o,i){const a=r?.querySelector(".xyflow__viewport");let s=!1;if(!a)return{changes:[],updatedInternals:s};const c=[],l=window.getComputedStyle(a),{m22:u}=new window.DOMMatrixReadOnly(l.transform),d=[];for(const f of t.values()){const t=e.get(f.id);if(!t)continue;if(t.hidden){e.set(t.id,{...t,internals:{...t.internals,handleBounds:void 0}}),s=!0;continue}const r=to(f.nodeElement),a=t.measured.width!==r.width||t.measured.height!==r.height;if(!(!r.width||!r.height||!a&&t.internals.handleBounds&&!f.force)){const l=f.nodeElement.getBoundingClientRect(),h=Yr(t.extent)?t.extent:i;let{positionAbsolute:p}=t.internals;t.parentId&&"parent"===t.extent?p=Sr(p,r,e.get(t.parentId)):h&&(p=Er(p,h,r));const m={...t,measured:r,internals:{...t.internals,positionAbsolute:p,handleBounds:{source:ao("source",f.nodeElement,l,u,t.id),target:ao("target",f.nodeElement,l,u,t.id)}}};e.set(t.id,m),t.parentId&&Io(m,e,n,{nodeOrigin:o}),s=!0,a&&(c.push({id:t.id,type:"dimensions",dimensions:r}),t.expandParent&&t.parentId&&d.push({id:t.id,parentId:t.parentId,rect:Nr(m,o)}))}}if(d.length>0){const t=To(d,e,n,o);c.push(...t)}return{changes:c,updatedInternals:s}}async function Ro({delta:t,panZoom:e,transform:n,translateExtent:r,width:o,height:i}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const a=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,i]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function Ho(t,e,n,r,o,i){let a=o;const s=r.get(a)||new Map;r.set(a,s.set(n,e)),a=`${o}-${t}`;const c=r.get(a)||new Map;if(r.set(a,c.set(n,e)),i){a=`${o}-${t}-${i}`;const s=r.get(a)||new Map;r.set(a,s.set(n,e))}}function Lo(t,e,n){t.clear(),e.clear();for(const r of n){const{source:n,target:o,sourceHandle:i=null,targetHandle:a=null}=r,s={edgeId:r.id,source:n,target:o,sourceHandle:i,targetHandle:a},c=`${n}-${i}--${o}-${a}`;Ho("source",s,`${o}-${a}--${n}-${i}`,t,n,i),Ho("target",s,c,t,o,a),e.set(r.id,r)}}function Xo(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return!!n&&(!!n.selected||Xo(n,e))}function Fo(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function Bo({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const o=[];for(const[a,s]of e){const t=n.get(a)?.internals.userNode;t&&o.push({...t,position:s.position,dragging:r})}if(!t)return[o[0],o];const i=n.get(t)?.internals.userNode;return[i?{...i,position:e.get(t)?.position||i.position,dragging:r}:o[0],o]}function Vo({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},a=0,s=new Map,c=!1,l={x:0,y:0},u=null,d=!1,f=null,h=!1;return{update:function({noDragClassName:p,handleSelector:m,domNode:g,isSelectable:y,nodeId:v,nodeClickDistance:w=0}){function x({x:t,y:n},o){const{nodeLookup:a,nodeExtent:c,snapGrid:l,snapToGrid:u,nodeOrigin:d,onNodeDrag:f,onSelectionDrag:h,onError:p,updateNodePositions:m}=e();i={x:t,y:n};let g=!1,y={x:0,y:0,x2:0,y2:0};if(s.size>1&&c){const t=wr(s);y=zr(t)}for(const[e,r]of s){if(!a.has(e))continue;let o={x:t-r.distance.x,y:n-r.distance.y};u&&(o=Lr(o,l));let i=[[c[0][0],c[0][1]],[c[1][0],c[1][1]]];if(s.size>1&&c&&!r.extent){const{positionAbsolute:t}=r.internals,e=t.x-y.x+c[0][0],n=t.x+r.measured.width-y.x2+c[1][0];i=[[e,t.y-y.y+c[0][1]],[n,t.y+r.measured.height-y.y2+c[1][1]]]}const{position:f,positionAbsolute:h}=_r({nodeId:e,nextPosition:o,nodeLookup:a,nodeExtent:i,nodeOrigin:d,onError:p});g=g||r.position.x!==f.x||r.position.y!==f.y,r.position=f,r.internals.positionAbsolute=h}if(g&&(m(s,!0),o&&(r||f||!v&&h))){const[t,e]=Bo({nodeId:v,dragItems:s,nodeLookup:a});r?.(o,s,t,e),f?.(o,t,e),v||h?.(o,e)}}async function b(){if(!u)return;const{transform:t,panBy:n,autoPanSpeed:r,autoPanOnNodeDrag:o}=e();if(!o)return c=!1,void cancelAnimationFrame(a);const[s,d]=Cr(l,u,r);0===s&&0===d||(i.x=(i.x??0)-s/t[2],i.y=(i.y??0)-d/t[2],await n({x:s,y:d})&&x(i,null)),a=requestAnimationFrame(b)}function $(r){const{nodeLookup:o,multiSelectionActive:a,nodesDraggable:c,transform:l,snapGrid:f,snapToGrid:h,selectNodesOnDrag:p,onNodeDragStart:m,onSelectionDragStart:g,unselectNodesAndEdges:w}=e();d=!0,p&&y||a||!v||o.get(v)?.selected||w(),y&&p&&v&&t?.(v);const x=Jr(r.sourceEvent,{transform:l,snapGrid:f,snapToGrid:h,containerBounds:u});if(i=x,s=function(t,e,n,r){const o=new Map;for(const[i,a]of t)if((a.selected||a.id===r)&&(!a.parentId||!Xo(a,t))&&(a.draggable||e&&void 0===a.draggable)){const e=t.get(i);e&&o.set(i,{id:i,position:e.position||{x:0,y:0},distance:{x:n.x-e.internals.positionAbsolute.x,y:n.y-e.internals.positionAbsolute.y},extent:e.extent,parentId:e.parentId,origin:e.origin,expandParent:e.expandParent,internals:{positionAbsolute:e.internals.positionAbsolute||{x:0,y:0}},measured:{width:e.measured.width??0,height:e.measured.height??0}})}return o}(o,c,x,v),s.size>0&&(n||m||!v&&g)){const[t,e]=Bo({nodeId:v,dragItems:s,nodeLookup:o});n?.(r.sourceEvent,s,t,e),m?.(r.sourceEvent,t,e),v||g?.(r.sourceEvent,e)}}f=$t(g);const _=Tt().clickDistance(w).on("start",(t=>{const{domNode:n,nodeDragThreshold:r,transform:o,snapGrid:a,snapToGrid:s}=e();u=n?.getBoundingClientRect()||null,h=!1,0===r&&$(t);const c=Jr(t.sourceEvent,{transform:o,snapGrid:a,snapToGrid:s,containerBounds:u});i=c,l=io(t.sourceEvent,u)})).on("drag",(t=>{const{autoPanOnNodeDrag:n,transform:r,snapGrid:o,snapToGrid:a,nodeDragThreshold:f,nodeLookup:p}=e(),m=Jr(t.sourceEvent,{transform:r,snapGrid:o,snapToGrid:a,containerBounds:u});if(("touchmove"===t.sourceEvent.type&&t.sourceEvent.touches.length>1||v&&!p.has(v))&&(h=!0),!h){if(!c&&n&&d&&(c=!0,b()),!d){const e=m.xSnapped-(i.x??0),n=m.ySnapped-(i.y??0);Math.sqrt(e*e+n*n)>f&&$(t)}(i.x!==m.xSnapped||i.y!==m.ySnapped)&&s&&d&&(l=io(t.sourceEvent,u),x(m,t.sourceEvent))}})).on("end",(t=>{if(d&&!h&&(c=!1,d=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:n,updateNodePositions:r,onNodeDragStop:i,onSelectionDragStop:a}=e();if(r(s,!1),o||i||!v&&a){const[e,r]=Bo({nodeId:v,dragItems:s,nodeLookup:n,dragging:!1});o?.(t.sourceEvent,s,e,r),i?.(t.sourceEvent,e,r),v||a?.(t.sourceEvent,r)}}})).filter((t=>{const e=t.target;return!t.button&&(!p||!Fo(e,`.${p}`,g))&&(!m||Fo(e,m,g))}));f.call(_)},destroy:function(){f?.on(".drag",null)}}}function qo(t,e,n,r){let o=[],i=1/0;const a=function(t,e,n){const r=[],o={x:t.x-n,y:t.y-n,width:2*n,height:2*n};for(const i of e.values())Tr(o,Nr(i))>0&&r.push(i);return r}(t,n,e+250);for(const s of a){const n=[...s.internals.handleBounds?.source??[],...s.internals.handleBounds?.target??[]];for(const a of n){if(r.nodeId===a.nodeId&&r.type===a.type&&r.id===a.id)continue;const{x:n,y:c}=Ao(s,a,a.position,!0),l=Math.sqrt(Math.pow(n-t.x,2)+Math.pow(c-t.y,2));l>e||(l<i?(o=[{...a,x:n,y:c}],i=l):l===i&&o.push({...a,x:n,y:c}))}}if(!o.length)return null;if(o.length>1){const t="source"===r.type?"target":"source";return o.find((e=>e.type===t))??o[0]}return o[0]}function Yo(t,e,n,r,o,i=!1){const a=r.get(t);if(!a)return null;const s="strict"===o?a.internals.handleBounds?.[e]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],c=(n?s?.find((t=>t.id===n)):s?.[0])??null;return c&&i?{...c,...Ao(a,c,c.position,!0)}:c}function Wo(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}const Uo=()=>!0;function Go(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:a,lib:s,flowId:c,isValidConnection:l=Uo,nodeLookup:u}){const d="target"===i,f=e?a.querySelector(`.${s}-flow__handle[data-id="${c}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:h,y:p}=io(t),m=a.elementFromPoint(h,p),g=m?.classList.contains(`${s}-flow__handle`)?m:f,y={handleDomNode:g,isValid:!1,connection:null,toHandle:null};if(g){const t=Wo(void 0,g),e=g.getAttribute("data-nodeid"),i=g.getAttribute("data-handleid"),a=g.classList.contains("connectable"),s=g.classList.contains("connectableend");if(!e||!t)return y;const c={source:d?e:r,sourceHandle:d?i:o,target:d?r:e,targetHandle:d?o:i};y.connection=c;const f=a&&s&&(n===ir.Strict?d&&"source"===t||!d&&"target"===t:e!==r||i!==o);y.isValid=f&&l(c),y.toHandle=Yo(e,t,i,u,n,!0)}return y}const Zo={onPointerDown:function(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:a,domNode:s,nodeLookup:c,lib:l,autoPanOnConnect:u,flowId:d,panBy:f,cancelConnection:h,onConnectStart:p,onConnect:m,onConnectEnd:g,isValidConnection:y=Uo,onReconnectEnd:v,updateConnection:w,getTransform:x,getFromHandle:b,autoPanSpeed:$}){const _=eo(t.target);let k,A=0;const{x:E,y:S}=io(t),M=_?.elementFromPoint(E,S),C=Wo(i,M),P=s?.getBoundingClientRect();if(!P||!C)return;const z=Yo(o,C,r,c,e);if(!z)return;let O=io(t,P),N=!1,I=null,D=!1,T=null;function j(){if(!u||!P)return;const[t,e]=Cr(O,P,$);f({x:t,y:e}),A=requestAnimationFrame(j)}const R={...z,nodeId:o,type:C,position:z.position},H=c.get(o),L={inProgress:!0,isValid:null,from:Ao(H,R,dr.Left,!0),fromHandle:R,fromPosition:R.position,fromNode:H,to:O,toHandle:null,toPosition:fr[R.position],toNode:null};w(L);let X=L;function F(t){if(!b()||!R)return void B(t);const i=x();O=io(t,P),k=qo(Xr(O,i,!1,[1,1]),n,c,R),N||(j(),N=!0);const s=Go(t,{handle:k,connectionMode:e,fromNodeId:o,fromHandleId:r,fromType:a?"target":"source",isValidConnection:y,doc:_,lib:l,flowId:d,nodeLookup:c});T=s.handleDomNode,I=s.connection,D=function(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}(!!k,s.isValid);const u={...X,isValid:D,to:s.toHandle&&D?Fr({x:s.toHandle.x,y:s.toHandle.y},i):O,toHandle:s.toHandle,toPosition:D&&s.toHandle?s.toHandle.position:fr[R.position],toNode:s.toHandle?c.get(s.toHandle.nodeId):null};D&&k&&X.toHandle&&u.toHandle&&X.toHandle.type===u.toHandle.type&&X.toHandle.nodeId===u.toHandle.nodeId&&X.toHandle.id===u.toHandle.id&&X.to.x===u.to.x&&X.to.y===u.to.y||(w(u),X=u)}function B(t){(k||T)&&I&&D&&m?.(I);const{inProgress:e,...n}=X,r={...n,toPosition:X.toHandle?X.toPosition:null};g?.(t,r),i&&v?.(t,r),h(),cancelAnimationFrame(A),N=!1,D=!1,I=null,T=null,_.removeEventListener("mousemove",F),_.removeEventListener("mouseup",B),_.removeEventListener("touchmove",F),_.removeEventListener("touchend",B)}p?.(t,{nodeId:o,handleId:r,handleType:C}),_.addEventListener("mousemove",F),_.addEventListener("mouseup",B),_.addEventListener("touchmove",F),_.addEventListener("touchend",B)},isValid:Go};function Ko({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const o=$t(t);return{update:function({translateExtent:t,width:i,height:a,zoomStep:s=10,pannable:c=!0,zoomable:l=!0,inversePan:u=!1}){let d=[0,0];const f=Gn().on("start",(t=>{"mousedown"!==t.sourceEvent.type&&"touchstart"!==t.sourceEvent.type||(d=[t.sourceEvent.clientX??t.sourceEvent.touches[0].clientX,t.sourceEvent.clientY??t.sourceEvent.touches[0].clientY])})).on("zoom",c?o=>{const s=n();if("mousemove"!==o.sourceEvent.type&&"touchmove"!==o.sourceEvent.type||!e)return;const c=[o.sourceEvent.clientX??o.sourceEvent.touches[0].clientX,o.sourceEvent.clientY??o.sourceEvent.touches[0].clientY],l=[c[0]-d[0],c[1]-d[1]];d=c;const f=r()*Math.max(s[2],Math.log(s[2]))*(u?-1:1),h={x:s[0]-l[0]*f,y:s[1]-l[1]*f},p=[[0,0],[i,a]];e.setViewportConstrained({x:h.x,y:h.y,zoom:s[2]},p,t)}:null).on("zoom.wheel",l?t=>{const r=n();if("wheel"!==t.sourceEvent.type||!e)return;const o=-t.sourceEvent.deltaY*(1===t.sourceEvent.deltaMode?.05:t.sourceEvent.deltaMode?1:.002)*s,i=r[2]*Math.pow(2,o);e.scaleTo(i)}:null);o.call(f,{})},destroy:function(){o.on("zoom",null)},pointer:_t}}const Qo=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Jo=t=>({x:t.x,y:t.y,zoom:t.k}),ti=({x:t,y:e,zoom:n})=>Hn.translate(t,e).scale(n),ei=(t,e)=>t.target.closest(`.${e}`),ni=(t,e)=>2===e&&Array.isArray(t)&&t.includes(2),ri=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,oi=(t,e=0,n=ri,r=()=>{})=>{const o="number"==typeof e&&e>0;return o||r(),o?t.transition().duration(e).ease(n).on("end",r):t},ii=t=>{const e=t.ctrlKey&&qr()?10:1;return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*e};function ai({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:a,onPanZoomStart:s,onPanZoomEnd:c,onDraggingChange:l}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),f=Gn().clickDistance(!Rr(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(o),h=$t(t).call(f);v({x:i.x,y:i.y,zoom:Ar(i.zoom,e,n)},[[0,0],[d.width,d.height]],o);const p=h.on("wheel.zoom"),m=h.on("dblclick.zoom");function g(t,e){return h?new Promise((n=>{f?.interpolate("linear"===e?.interpolate?tr:Lt).transform(oi(h,e?.duration,e?.ease,(()=>n(!0))),t)})):Promise.resolve(!1)}function y(){f.on("zoom",null)}async function v(t,e,n){const r=ti(t),o=f?.constrain()(r,e,n);return o&&await g(o),new Promise((t=>t(o)))}return f.wheelDelta(ii),{update:function({noWheelClassName:t,noPanClassName:e,onPaneContextMenu:n,userSelectionActive:r,panOnScroll:o,panOnDrag:i,panOnScrollMode:d,panOnScrollSpeed:g,preventScrolling:v,zoomOnPinch:w,zoomOnScroll:x,zoomOnDoubleClick:b,zoomActivationKeyPressed:$,lib:_,onTransformChange:k}){r&&!u.isZoomingOrPanning&&y();const A=o&&!$&&!r?function({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:c,onPanZoomEnd:l}){return u=>{if(ei(u,e))return!1;u.preventDefault(),u.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(u.ctrlKey&&a){const t=_t(u),e=ii(u),o=d*Math.pow(2,e);return void r.scaleTo(n,o,t,u)}const f=1===u.deltaMode?20:1;let h=o===ar.Vertical?0:u.deltaX*f,p=o===ar.Horizontal?0:u.deltaY*f;!qr()&&u.shiftKey&&o!==ar.Vertical&&(h=u.deltaY*f,p=0),r.translateBy(n,-h/d*i,-p/d*i,{internal:!0});const m=Jo(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,s?.(u,m)),t.isPanScrolling&&(c?.(u,m),t.panScrollTimeout=setTimeout((()=>{l?.(u,m),t.isPanScrolling=!1}),150))}}({zoomPanValues:u,noWheelClassName:t,d3Selection:h,d3Zoom:f,panOnScrollMode:d,panOnScrollSpeed:g,zoomOnPinch:w,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:c}):function({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,o){const i="wheel"===r.type,a=!e&&i&&!r.ctrlKey,s=ei(r,t);if(r.ctrlKey&&i&&s&&r.preventDefault(),a||s)return null;r.preventDefault(),n.call(this,r,o)}}({noWheelClassName:t,preventScrolling:v,d3ZoomHandler:p});if(h.on("wheel.zoom",A,{passive:!1}),!r){const t=function({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const o=Jo(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=o,"mousedown"===r.sourceEvent?.type&&e(!0),n&&n?.(r.sourceEvent,o)}}({zoomPanValues:u,onDraggingChange:l,onPanZoomStart:s});f.on("start",t);const e=function({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{t.usedRightMouseButton=!(!n||!ni(e,t.mouseButton??0)),i.sourceEvent?.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!i.sourceEvent?.internal&&o?.(i.sourceEvent,Jo(i.transform))}}({zoomPanValues:u,panOnDrag:i,onPaneContextMenu:!!n,onPanZoom:a,onTransformChange:k});f.on("zoom",e);const r=function({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return a=>{if(!a.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,i&&ni(e,t.mouseButton??0)&&!t.usedRightMouseButton&&a.sourceEvent&&i(a.sourceEvent),t.usedRightMouseButton=!1,r(!1),o&&Qo(t.prevViewport,a.transform))){const e=Jo(a.transform);t.prevViewport=e,clearTimeout(t.timerId),t.timerId=setTimeout((()=>{o?.(a.sourceEvent,e)}),n?150:0)}}}({zoomPanValues:u,panOnDrag:i,panOnScroll:o,onPaneContextMenu:n,onPanZoomEnd:c,onDraggingChange:l});f.on("end",r)}const E=function({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:a,noWheelClassName:s,noPanClassName:c,lib:l}){return u=>{const d=t||e,f=n&&u.ctrlKey;if(1===u.button&&"mousedown"===u.type&&(ei(u,`${l}-flow__node`)||ei(u,`${l}-flow__edge`)))return!0;if(!(r||d||o||i||n))return!1;if(a)return!1;if(ei(u,s)&&"wheel"===u.type)return!1;if(ei(u,c)&&("wheel"!==u.type||o&&"wheel"===u.type&&!t))return!1;if(!n&&u.ctrlKey&&"wheel"===u.type)return!1;if(!n&&"touchstart"===u.type&&u.touches?.length>1)return u.preventDefault(),!1;if(!d&&!o&&!f&&"wheel"===u.type)return!1;if(!r&&("mousedown"===u.type||"touchstart"===u.type))return!1;if(Array.isArray(r)&&!r.includes(u.button)&&"mousedown"===u.type)return!1;const h=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||"wheel"===u.type)&&h}}({zoomActivationKeyPressed:$,panOnDrag:i,zoomOnScroll:x,panOnScroll:o,zoomOnDoubleClick:b,zoomOnPinch:w,userSelectionActive:r,noPanClassName:e,noWheelClassName:t,lib:_});f.filter(E),b?h.on("dblclick.zoom",m):h.on("dblclick.zoom",null)},destroy:y,setViewport:async function(t,e){const n=ti(t);return await g(n,e),new Promise((t=>t(n)))},setViewportConstrained:v,getViewport:function(){const t=h?Ln(h.node()):{x:0,y:0,k:1};return{x:t.x,y:t.y,zoom:t.k}},scaleTo:function(t,e){return h?new Promise((n=>{f?.interpolate("linear"===e?.interpolate?tr:Lt).scaleTo(oi(h,e?.duration,e?.ease,(()=>n(!0))),t)})):Promise.resolve(!1)},scaleBy:function(t,e){return h?new Promise((n=>{f?.interpolate("linear"===e?.interpolate?tr:Lt).scaleBy(oi(h,e?.duration,e?.ease,(()=>n(!0))),t)})):Promise.resolve(!1)},setScaleExtent:function(t){f?.scaleExtent(t)},setTranslateExtent:function(t){f?.translateExtent(t)},syncViewport:function(t){if(h){const e=ti(t),n=h.property("__zoom");n.k===t.zoom&&n.x===t.x&&n.y===t.y||f?.transform(h,e,null,{sync:!0})}},setClickDistance:function(t){const e=!Rr(t)||t<0?0:t;f?.clickDistance(e)}}}var si;!function(t){t.Line="line",t.Handle="handle"}(si||(si={}));function ci(t,e){return Math.max(0,e-t)}function li(t,e){return Math.max(0,t-e)}function ui(t,e,n){return Math.max(0,e-t,t-n)}function di(t,e){return t?!e:e}const fi={width:0,height:0,x:0,y:0},hi={...fi,pointerX:0,pointerY:0,aspectRatio:1};function pi(t,e,n){const r=e.position.x+t.position.x,o=e.position.y+t.position.y,i=t.measured.width??0,a=t.measured.height??0,s=n[0]*i,c=n[1]*a;return[[r-s,o-c],[r+i-s,o+a-c]]}function mi({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:o}){const i=$t(t);return{update:function({controlPosition:t,boundaries:a,keepAspectRatio:s,resizeDirection:c,onResizeStart:l,onResize:u,onResizeEnd:d,shouldResize:f}){let h={...fi},p={...hi};const m=function(t){return{isHorizontal:t.includes("right")||t.includes("left"),isVertical:t.includes("bottom")||t.includes("top"),affectsX:t.includes("left"),affectsY:t.includes("top")}}(t);let g,y,v,w,x=null,b=[];const $=Tt().on("start",(t=>{const{nodeLookup:r,transform:o,snapGrid:i,snapToGrid:a,nodeOrigin:s,paneDomNode:c}=n();if(g=r.get(e),!g)return;x=c?.getBoundingClientRect()??null;const{xSnapped:u,ySnapped:d}=Jr(t.sourceEvent,{transform:o,snapGrid:i,snapToGrid:a,containerBounds:x});h={width:g.measured.width??0,height:g.measured.height??0,x:g.position.x??0,y:g.position.y??0},p={...h,pointerX:u,pointerY:d,aspectRatio:h.width/h.height},y=void 0,g.parentId&&("parent"===g.extent||g.expandParent)&&(y=r.get(g.parentId),v=y&&"parent"===g.extent?function(t){return[[0,0],[t.measured.width,t.measured.height]]}(y):void 0),b=[],w=void 0;for(const[n,l]of r)if(l.parentId===e&&(b.push({id:n,position:{...l.position},extent:l.extent}),"parent"===l.extent||l.expandParent)){const t=pi(l,g,l.origin??s);w=w?[[Math.min(t[0][0],w[0][0]),Math.min(t[0][1],w[0][1])],[Math.max(t[1][0],w[1][0]),Math.max(t[1][1],w[1][1])]]:t}l?.(t,{...h})})).on("drag",(t=>{const{transform:e,snapGrid:o,snapToGrid:i,nodeOrigin:l}=n(),d=Jr(t.sourceEvent,{transform:e,snapGrid:o,snapToGrid:i,containerBounds:x}),$=[];if(!g)return;const{x:_,y:k,width:A,height:E}=h,S={},M=g.origin??l,{width:C,height:P,x:z,y:O}=function(t,e,n,r,o,i,a,s){let{affectsX:c,affectsY:l}=e;const{isHorizontal:u,isVertical:d}=e,f=u&&d,{xSnapped:h,ySnapped:p}=n,{minWidth:m,maxWidth:g,minHeight:y,maxHeight:v}=r,{x:w,y:x,width:b,height:$,aspectRatio:_}=t;let k=Math.floor(u?h-t.pointerX:0),A=Math.floor(d?p-t.pointerY:0);const E=b+(c?-k:k),S=$+(l?-A:A),M=-i[0]*b,C=-i[1]*$;let P=ui(E,m,g),z=ui(S,y,v);if(a){let t=0,e=0;c&&k<0?t=ci(w+k+M,a[0][0]):!c&&k>0&&(t=li(w+E+M,a[1][0])),l&&A<0?e=ci(x+A+C,a[0][1]):!l&&A>0&&(e=li(x+S+C,a[1][1])),P=Math.max(P,t),z=Math.max(z,e)}if(s){let t=0,e=0;c&&k>0?t=li(w+k,s[0][0]):!c&&k<0&&(t=ci(w+E,s[1][0])),l&&A>0?e=li(x+A,s[0][1]):!l&&A<0&&(e=ci(x+S,s[1][1])),P=Math.max(P,t),z=Math.max(z,e)}if(o){if(u){const t=ui(E/_,y,v)*_;if(P=Math.max(P,t),a){let t=0;t=!c&&!l||c&&!l&&f?li(x+C+E/_,a[1][1])*_:ci(x+C+(c?k:-k)/_,a[0][1])*_,P=Math.max(P,t)}if(s){let t=0;t=!c&&!l||c&&!l&&f?ci(x+E/_,s[1][1])*_:li(x+(c?k:-k)/_,s[0][1])*_,P=Math.max(P,t)}}if(d){const t=ui(S*_,m,g)/_;if(z=Math.max(z,t),a){let t=0;t=!c&&!l||l&&!c&&f?li(w+S*_+M,a[1][0])/_:ci(w+(l?A:-A)*_+M,a[0][0])/_,z=Math.max(z,t)}if(s){let t=0;t=!c&&!l||l&&!c&&f?ci(w+S*_,s[1][0])/_:li(w+(l?A:-A)*_,s[0][0])/_,z=Math.max(z,t)}}}A+=A<0?z:-z,k+=k<0?P:-P,o&&(f?E>S*_?A=(di(c,l)?-k:k)/_:k=(di(c,l)?-A:A)*_:u?(A=k/_,l=c):(k=A*_,c=l));const O=c?w+k:w,N=l?x+A:x;return{width:b+(c?-k:k),height:$+(l?-A:A),x:i[0]*k*(c?-1:1)+O,y:i[1]*A*(l?-1:1)+N}}(p,m,d,a,s,M,v,w),N=C!==A,I=P!==E,D=z!==_&&N,T=O!==k&&I;if(!(D||T||N||I))return;if((D||T||1===M[0]||1===M[1])&&(S.x=D?z:h.x,S.y=T?O:h.y,h.x=S.x,h.y=S.y,b.length>0)){const t=z-_,e=O-k;for(const n of b)n.position={x:n.position.x-t+M[0]*(C-A),y:n.position.y-e+M[1]*(P-E)},$.push(n)}if((N||I)&&(S.width=!N||c&&"horizontal"!==c?h.width:C,S.height=!I||c&&"vertical"!==c?h.height:P,h.width=S.width,h.height=S.height),y&&g.expandParent){const t=M[0]*(S.width??0);S.x&&S.x<t&&(h.x=t,p.x=p.x-(S.x-t));const e=M[1]*(S.height??0);S.y&&S.y<e&&(h.y=e,p.y=p.y-(S.y-e))}const j=function({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:o,affectsY:i}){const a=t-e,s=n-r,c=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&o&&(c[0]=-1*c[0]),s&&i&&(c[1]=-1*c[1]),c}({width:h.width,prevWidth:A,height:h.height,prevHeight:E,affectsX:m.affectsX,affectsY:m.affectsY}),R={...h,direction:j},H=f?.(t,R);!1!==H&&(u?.(t,R),r(S,$))})).on("end",(t=>{d?.(t,{...h}),o?.({...h})}));i.call($)},destroy:function(){i.on(".drag",null)}}}},55687:function(t,e,n){n.d(e,{A:function(){return r}});const r=(0,n(9407).A)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])},58493:function(t,e,n){var r=n(96540);var o="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function l(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!o(t,n)}catch(r){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=i({inst:{value:n,getSnapshot:e}}),o=r[0].inst,u=r[1];return s((function(){o.value=n,o.getSnapshot=e,l(o)&&u({inst:o})}),[t,n,e]),a((function(){return l(o)&&u({inst:o}),t((function(){l(o)&&u({inst:o})}))}),[t]),c(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},63973:function(t,e,n){function r(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,r]of t)if(!Object.is(r,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}n.d(e,{x:function(){return r}})},64371:function(t,e,n){n.d(e,{h:function(){return f},n:function(){return u}});var r=n(96540),o=n(69242);const i=t=>{let e;const n=new Set,r=(t,r)=>{const o="function"==typeof t?t(e):t;if(!Object.is(o,e)){const t=e;e=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},e,o),n.forEach((n=>n(e,t)))}},o=()=>e,i={setState:r,getState:o,getInitialState:()=>a,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=e=t(r,o,i);return i},a=t=>t?i(t):i;const{useDebugValue:s}=r,{useSyncExternalStoreWithSelector:c}=o,l=t=>t;function u(t,e=l,n){const r=c(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return s(r),r}const d=(t,e)=>{const n=a(t),r=(t,r=e)=>u(n,t,r);return Object.assign(r,n),r},f=(t,e)=>t?d(t,e):d},69242:function(t,e,n){t.exports=n(22162)},78355:function(t,e,n){n.d(e,{A:function(){return Oe}});var r=n(96540),o=n(60436),i=n(40961),a=n(46942),s=n.n(a),c=n(58168),l=n(23029),u=n(92901),d=n(9417),f=n(85501),h=n(29426),p=n(64467),m=n(89379),g=n(53986),y=n(82284),v=n(55041),w=n(10467),x=n(72065),b=n(68210),$=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",o=t.type||"",i=o.replace(/\/.*$/,"");return n.some((function(t){var e=t.trim();if(/^\*(\/\*)?$/.test(t))return!0;if("."===e.charAt(0)){var n=r.toLowerCase(),a=e.toLowerCase(),s=[a];return".jpg"!==a&&".jpeg"!==a||(s=[".jpg",".jpeg"]),s.some((function(t){return n.endsWith(t)}))}return/\/\*$/.test(e)?i===e.replace(/\/.*$/,""):o===e||!!/^\w+$/.test(e)&&((0,b.Ay)(!1,"Upload takes an invalidate 'accept' type '".concat(e,"'.Skip for check.")),!0)}))}return!0};function _(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(n){return e}}function k(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var n=new FormData;t.data&&Object.keys(t.data).forEach((function(e){var r=t.data[e];Array.isArray(r)?r.forEach((function(t){n.append("".concat(e,"[]"),t)})):n.append(e,r)})),t.file instanceof Blob?n.append(t.filename,t.file,t.file.name):n.append(t.filename,t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){return e.status<200||e.status>=300?t.onError(function(t,e){var n="cannot ".concat(t.method," ").concat(t.action," ").concat(e.status,"'"),r=new Error(n);return r.status=e.status,r.method=t.method,r.url=t.action,r}(t,e),_(e)):t.onSuccess(_(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};return null!==r["X-Requested-With"]&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach((function(t){null!==r[t]&&e.setRequestHeader(t,r[t])})),e.send(n),{abort:function(){e.abort()}}}var A=function(){var t=(0,w.A)((0,v.A)().mark((function t(e,n){var r,i,a,s,c,l,u,d;return(0,v.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l=function(){return(l=(0,w.A)((0,v.A)().mark((function t(e){return(0,v.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){e.file((function(r){n(r)?(e.fullPath&&!r.webkitRelativePath&&(Object.defineProperties(r,{webkitRelativePath:{writable:!0}}),r.webkitRelativePath=e.fullPath.replace(/^\//,""),Object.defineProperties(r,{webkitRelativePath:{writable:!1}})),t(r)):t(null)}))})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)},c=function(t){return l.apply(this,arguments)},s=function(){return(s=(0,w.A)((0,v.A)().mark((function t(e){var n,r,o,i,a;return(0,v.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.createReader(),r=[];case 2:return t.next=5,new Promise((function(t){n.readEntries(t,(function(){return t([])}))}));case 5:if(o=t.sent,i=o.length){t.next=9;break}return t.abrupt("break",12);case 9:for(a=0;a<i;a++)r.push(o[a]);t.next=2;break;case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)},a=function(t){return s.apply(this,arguments)},r=[],i=[],e.forEach((function(t){return i.push(t.webkitGetAsEntry())})),u=function(){var t=(0,w.A)((0,v.A)().mark((function t(e,n){var s,l;return(0,v.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(e.path=n||"",!e.isFile){t.next=10;break}return t.next=6,c(e);case 6:(s=t.sent)&&r.push(s),t.next=15;break;case 10:if(!e.isDirectory){t.next=15;break}return t.next=13,a(e);case 13:l=t.sent,i.push.apply(i,(0,o.A)(l));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),d=0;case 9:if(!(d<i.length)){t.next=15;break}return t.next=12,u(i[d]);case 12:d++,t.next=9;break;case 15:return t.abrupt("return",r);case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),E=A,S=+new Date,M=0;function C(){return"rc-upload-".concat(S,"-").concat(++M)}var P=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],z=function(t){(0,f.A)(n,t);var e=(0,h.A)(n);function n(){var t;(0,l.A)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i)),(0,p.A)((0,d.A)(t),"state",{uid:C()}),(0,p.A)((0,d.A)(t),"reqs",{}),(0,p.A)((0,d.A)(t),"fileInput",void 0),(0,p.A)((0,d.A)(t),"_isMounted",void 0),(0,p.A)((0,d.A)(t),"onChange",(function(e){var n=t.props,r=n.accept,i=n.directory,a=e.target.files,s=(0,o.A)(a).filter((function(t){return!i||$(t,r)}));t.uploadFiles(s),t.reset()})),(0,p.A)((0,d.A)(t),"onClick",(function(e){var n=t.fileInput;if(n){var r=e.target,o=t.props.onClick;if(r&&"BUTTON"===r.tagName)n.parentNode.focus(),r.blur();n.click(),o&&o(e)}})),(0,p.A)((0,d.A)(t),"onKeyDown",(function(e){"Enter"===e.key&&t.onClick(e)})),(0,p.A)((0,d.A)(t),"onDataTransferFiles",function(){var e=(0,w.A)((0,v.A)().mark((function e(n,r){var i,a,s,c,l,u,d;return(0,v.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.props,a=i.multiple,s=i.accept,c=i.directory,l=(0,o.A)(n.items||[]),((u=(0,o.A)(n.files||[])).length>0||l.some((function(t){return"file"===t.kind})))&&(null==r||r()),!c){e.next=11;break}return e.next=7,E(Array.prototype.slice.call(l),(function(e){return $(e,t.props.accept)}));case 7:u=e.sent,t.uploadFiles(u),e.next=14;break;case 11:d=(0,o.A)(u).filter((function(t){return $(t,s)})),!1===a&&(d=u.slice(0,1)),t.uploadFiles(d);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,p.A)((0,d.A)(t),"onFilePaste",function(){var e=(0,w.A)((0,v.A)().mark((function e(n){var r;return(0,v.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.props.pastable){e.next=3;break}return e.abrupt("return");case 3:if("paste"!==n.type){e.next=6;break}return r=n.clipboardData,e.abrupt("return",t.onDataTransferFiles(r,(function(){n.preventDefault()})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.A)((0,d.A)(t),"onFileDragOver",(function(t){t.preventDefault()})),(0,p.A)((0,d.A)(t),"onFileDrop",function(){var e=(0,w.A)((0,v.A)().mark((function e(n){var r;return(0,v.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),"drop"!==n.type){e.next=4;break}return r=n.dataTransfer,e.abrupt("return",t.onDataTransferFiles(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,p.A)((0,d.A)(t),"uploadFiles",(function(e){var n=(0,o.A)(e),r=n.map((function(e){return e.uid=C(),t.processFile(e,n)}));Promise.all(r).then((function(e){var n=t.props.onBatchStart;null==n||n(e.map((function(t){return{file:t.origin,parsedFile:t.parsedFile}}))),e.filter((function(t){return null!==t.parsedFile})).forEach((function(e){t.post(e)}))}))})),(0,p.A)((0,d.A)(t),"processFile",function(){var e=(0,w.A)((0,v.A)().mark((function e(n,r){var o,i,a,s,c,l,u,d,f;return(0,v.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.props.beforeUpload,i=n,!o){e.next=14;break}return e.prev=3,e.next=6,o(n,r);case 6:i=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),i=!1;case 12:if(!1!==i){e.next=14;break}return e.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!=typeof(a=t.props.action)){e.next=21;break}return e.next=18,a(n);case 18:s=e.sent,e.next=22;break;case 21:s=a;case 22:if("function"!=typeof(c=t.props.data)){e.next=29;break}return e.next=26,c(n);case 26:l=e.sent,e.next=30;break;case 29:l=c;case 30:return u="object"!==(0,y.A)(i)&&"string"!=typeof i||!i?n:i,d=u instanceof File?u:new File([u],n.name,{type:n.type}),(f=d).uid=n.uid,e.abrupt("return",{origin:n,data:l,parsedFile:f,action:s});case 35:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}()),(0,p.A)((0,d.A)(t),"saveFileInput",(function(e){t.fileInput=e})),t}return(0,u.A)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.props.pastable&&document.addEventListener("paste",this.onFilePaste)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort(),document.removeEventListener("paste",this.onFilePaste)}},{key:"componentDidUpdate",value:function(t){var e=this.props.pastable;e&&!t.pastable?document.addEventListener("paste",this.onFilePaste):!e&&t.pastable&&document.removeEventListener("paste",this.onFilePaste)}},{key:"post",value:function(t){var e=this,n=t.data,r=t.origin,o=t.action,i=t.parsedFile;if(this._isMounted){var a=this.props,s=a.onStart,c=a.customRequest,l=a.name,u=a.headers,d=a.withCredentials,f=a.method,h=r.uid,p=c||k,m={action:o,filename:l,data:n,file:i,headers:u,withCredentials:d,method:f||"post",onProgress:function(t){var n=e.props.onProgress;null==n||n(t,i)},onSuccess:function(t,n){var r=e.props.onSuccess;null==r||r(t,i,n),delete e.reqs[h]},onError:function(t,n){var r=e.props.onError;null==r||r(t,n,i),delete e.reqs[h]}};s(r),this.reqs[h]=p(m)}}},{key:"reset",value:function(){this.setState({uid:C()})}},{key:"abort",value:function(t){var e=this.reqs;if(t){var n=t.uid?t.uid:t;e[n]&&e[n].abort&&e[n].abort(),delete e[n]}else Object.keys(e).forEach((function(t){e[t]&&e[t].abort&&e[t].abort(),delete e[t]}))}},{key:"render",value:function(){var t=this.props,e=t.component,n=t.prefixCls,o=t.className,i=t.classNames,a=void 0===i?{}:i,l=t.disabled,u=t.id,d=t.name,f=t.style,h=t.styles,y=void 0===h?{}:h,v=t.multiple,w=t.accept,b=t.capture,$=t.children,_=t.directory,k=t.openFileDialogOnClick,A=t.onMouseEnter,E=t.onMouseLeave,S=t.hasControlInside,M=(0,g.A)(t,P),C=s()((0,p.A)((0,p.A)((0,p.A)({},n,!0),"".concat(n,"-disabled"),l),o,o)),z=_?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},O=l?{}:{onClick:k?this.onClick:function(){},onKeyDown:k?this.onKeyDown:function(){},onMouseEnter:A,onMouseLeave:E,onDrop:this.onFileDrop,onDragOver:this.onFileDragOver,tabIndex:S?void 0:"0"};return r.createElement(e,(0,c.A)({},O,{className:C,role:S?void 0:"button",style:f}),r.createElement("input",(0,c.A)({},(0,x.A)(M,{aria:!0,data:!0}),{id:u,name:d,disabled:l,type:"file",ref:this.saveFileInput,onClick:function(t){return t.stopPropagation()},key:this.state.uid,style:(0,m.A)({display:"none"},y.input),className:a.input,accept:w},z,{multiple:v,onChange:this.onChange},null!=b?{capture:b}:{})),$)}}]),n}(r.Component),O=z;function N(){}var I=function(t){(0,f.A)(n,t);var e=(0,h.A)(n);function n(){var t;(0,l.A)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,p.A)((0,d.A)(t),"uploader",void 0),(0,p.A)((0,d.A)(t),"saveUploader",(function(e){t.uploader=e})),t}return(0,u.A)(n,[{key:"abort",value:function(t){this.uploader.abort(t)}},{key:"render",value:function(){return r.createElement(O,(0,c.A)({},this.props,{ref:this.saveUploader}))}}]),n}(r.Component);(0,p.A)(I,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:N,onError:N,onSuccess:N,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});var D=I,T=n(12533),j=n(62279),R=n(98119),H=n(19155),L=n(80436),X=n(25905),F=n(60977),B=n(37358),V=n(14277),q=n(52187);var Y=t=>{const{componentCls:e,iconCls:n}=t;return{[`${e}-wrapper`]:{[`${e}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:t.colorFillAlter,border:`${(0,q.zA)(t.lineWidth)} dashed ${t.colorBorder}`,borderRadius:t.borderRadiusLG,cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,[e]:{padding:t.padding},[`${e}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:t.borderRadiusLG,"&:focus-visible":{outline:`${(0,q.zA)(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`}},[`${e}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`\n          &:not(${e}-disabled):hover,\n          &-hover:not(${e}-disabled)\n        `]:{borderColor:t.colorPrimaryHover},[`p${e}-drag-icon`]:{marginBottom:t.margin,[n]:{color:t.colorPrimary,fontSize:t.uploadThumbnailSize}},[`p${e}-text`]:{margin:`0 0 ${(0,q.zA)(t.marginXXS)}`,color:t.colorTextHeading,fontSize:t.fontSizeLG},[`p${e}-hint`]:{color:t.colorTextDescription,fontSize:t.fontSize},[`&${e}-disabled`]:{[`p${e}-drag-icon ${n},\n            p${e}-text,\n            p${e}-hint\n          `]:{color:t.colorTextDisabled}}}}}};var W=t=>{const{componentCls:e,iconCls:n,fontSize:r,lineHeight:o,calc:i}=t,a=`${e}-list-item`,s=`${a}-actions`,c=`${a}-action`;return{[`${e}-wrapper`]:{[`${e}-list`]:Object.assign(Object.assign({},(0,X.t6)()),{lineHeight:t.lineHeight,[a]:{position:"relative",height:i(t.lineHeight).mul(r).equal(),marginTop:t.marginXS,fontSize:r,display:"flex",alignItems:"center",transition:`background-color ${t.motionDurationSlow}`,borderRadius:t.borderRadiusSM,"&:hover":{backgroundColor:t.controlItemBgHover},[`${a}-name`]:Object.assign(Object.assign({},X.L9),{padding:`0 ${(0,q.zA)(t.paddingXS)}`,lineHeight:o,flex:"auto",transition:`all ${t.motionDurationSlow}`}),[s]:{whiteSpace:"nowrap",[c]:{opacity:0},[n]:{color:t.actionsColor,transition:`all ${t.motionDurationSlow}`},[`\n              ${c}:focus-visible,\n              &.picture ${c}\n            `]:{opacity:1}},[`${e}-icon ${n}`]:{color:t.colorIcon,fontSize:r},[`${a}-progress`]:{position:"absolute",bottom:t.calc(t.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:i(r).add(t.paddingXS).equal(),fontSize:r,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${a}:hover ${c}`]:{opacity:1},[`${a}-error`]:{color:t.colorError,[`${a}-name, ${e}-icon ${n}`]:{color:t.colorError},[s]:{[`${n}, ${n}:hover`]:{color:t.colorError},[c]:{opacity:1}}},[`${e}-list-item-container`]:{transition:`opacity ${t.motionDurationSlow}, height ${t.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},U=n(28680);var G=t=>{const{componentCls:e}=t,n=new q.Mo("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:t.calc(t.marginXS).div(-2).equal()}}),r=new q.Mo("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:t.calc(t.marginXS).div(-2).equal()}}),o=`${e}-animate-inline`;return[{[`${e}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:t.motionDurationSlow,animationTimingFunction:t.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:n},[`${o}-leave`]:{animationName:r}}},{[`${e}-wrapper`]:(0,U.p9)(t)},n,r]},Z=n(45748);const K=t=>{const{componentCls:e,iconCls:n,uploadThumbnailSize:r,uploadProgressOffset:o,calc:i}=t,a=`${e}-list`,s=`${a}-item`;return{[`${e}-wrapper`]:{[`\n        ${a}${a}-picture,\n        ${a}${a}-picture-card,\n        ${a}${a}-picture-circle\n      `]:{[s]:{position:"relative",height:i(r).add(i(t.lineWidth).mul(2)).add(i(t.paddingXS).mul(2)).equal(),padding:t.paddingXS,border:`${(0,q.zA)(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusLG,"&:hover":{background:"transparent"},[`${s}-thumbnail`]:Object.assign(Object.assign({},X.L9),{width:r,height:r,lineHeight:(0,q.zA)(i(r).add(t.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:t.fontSizeHeading2,color:t.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${s}-progress`]:{bottom:o,width:`calc(100% - ${(0,q.zA)(i(t.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:i(r).add(t.paddingXS).equal()}},[`${s}-error`]:{borderColor:t.colorError,[`${s}-thumbnail ${n}`]:{[`svg path[fill='${Z.z1[0]}']`]:{fill:t.colorErrorBg},[`svg path[fill='${Z.z1.primary}']`]:{fill:t.colorError}}},[`${s}-uploading`]:{borderStyle:"dashed",[`${s}-name`]:{marginBottom:o}}},[`${a}${a}-picture-circle ${s}`]:{[`&, &::before, ${s}-thumbnail`]:{borderRadius:"50%"}}}}},Q=t=>{const{componentCls:e,iconCls:n,fontSizeLG:r,colorTextLightSolid:o,calc:i}=t,a=`${e}-list`,s=`${a}-item`,c=t.uploadPicCardSize;return{[`\n      ${e}-wrapper${e}-picture-card-wrapper,\n      ${e}-wrapper${e}-picture-circle-wrapper\n    `]:Object.assign(Object.assign({},(0,X.t6)()),{display:"block",[`${e}${e}-select`]:{width:c,height:c,textAlign:"center",verticalAlign:"top",backgroundColor:t.colorFillAlter,border:`${(0,q.zA)(t.lineWidth)} dashed ${t.colorBorder}`,borderRadius:t.borderRadiusLG,cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,[`> ${e}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${e}-disabled):hover`]:{borderColor:t.colorPrimary}},[`${a}${a}-picture-card, ${a}${a}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:t.marginXS,marginInlineEnd:t.marginXS}},"@supports (gap: 1px)":{gap:t.marginXS},[`${a}-item-container`]:{display:"inline-block",width:c,height:c,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[s]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${(0,q.zA)(i(t.paddingXS).mul(2).equal())})`,height:`calc(100% - ${(0,q.zA)(i(t.paddingXS).mul(2).equal())})`,backgroundColor:t.colorBgMask,opacity:0,transition:`all ${t.motionDurationSlow}`,content:'" "'}},[`${s}:hover`]:{[`&::before, ${s}-actions`]:{opacity:1}},[`${s}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${t.motionDurationSlow}`,[`\n            ${n}-eye,\n            ${n}-download,\n            ${n}-delete\n          `]:{zIndex:10,width:r,margin:`0 ${(0,q.zA)(t.marginXXS)}`,fontSize:r,cursor:"pointer",transition:`all ${t.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${s}-thumbnail, ${s}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${s}-name`]:{display:"none",textAlign:"center"},[`${s}-file + ${s}-name`]:{position:"absolute",bottom:t.margin,display:"block",width:`calc(100% - ${(0,q.zA)(i(t.paddingXS).mul(2).equal())})`},[`${s}-uploading`]:{[`&${s}`]:{backgroundColor:t.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${s}-progress`]:{bottom:t.marginXL,width:`calc(100% - ${(0,q.zA)(i(t.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${e}-wrapper${e}-picture-circle-wrapper`]:{[`${e}${e}-select`]:{borderRadius:"50%"}}}};var J=t=>{const{componentCls:e}=t;return{[`${e}-rtl`]:{direction:"rtl"}}};const tt=t=>{const{componentCls:e,colorTextDisabled:n}=t;return{[`${e}-wrapper`]:Object.assign(Object.assign({},(0,X.dF)(t)),{[e]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${e}-select`]:{display:"inline-block"},[`${e}-hidden`]:{display:"none"},[`${e}-disabled`]:{color:n,cursor:"not-allowed"}})}};var et=(0,B.OF)("Upload",(t=>{const{fontSizeHeading3:e,fontHeight:n,lineWidth:r,controlHeightLG:o,calc:i}=t,a=(0,V.oX)(t,{uploadThumbnailSize:i(e).mul(2).equal(),uploadProgressOffset:i(i(n).div(2)).add(r).equal(),uploadPicCardSize:i(o).mul(2.55).equal()});return[tt(a),Y(a),K(a),Q(a),W(a),G(a),J(a),(0,F.A)(a)]}),(t=>({actionsColor:t.colorIcon}))),nt={icon:function(t,e){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:e}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},rt=n(87064),ot=function(t,e){return r.createElement(rt.A,(0,c.A)({},t,{ref:e,icon:nt}))};var it=r.forwardRef(ot),at=n(93567),st={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},ct=function(t,e){return r.createElement(rt.A,(0,c.A)({},t,{ref:e,icon:st}))};var lt=r.forwardRef(ct),ut={icon:function(t,e){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:e}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:e}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:e}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},dt=function(t,e){return r.createElement(rt.A,(0,c.A)({},t,{ref:e,icon:ut}))};var ft=r.forwardRef(dt),ht=n(90754),pt=n(19853),mt=n(47447),gt=n(23723),yt=n(40682),vt=n(92941);function wt(t){return Object.assign(Object.assign({},t),{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.name,size:t.size,type:t.type,uid:t.uid,percent:0,originFileObj:t})}function xt(t,e){const n=(0,o.A)(e),r=n.findIndex((({uid:e})=>e===t.uid));return-1===r?n.push(t):n[r]=t,n}function bt(t,e){const n=void 0!==t.uid?"uid":"name";return e.filter((e=>e[n]===t[n]))[0]}const $t=t=>0===t.indexOf("image/"),_t=t=>{if(t.type&&!t.thumbUrl)return $t(t.type);const e=t.thumbUrl||t.url||"",n=((t="")=>{const e=t.split("/"),n=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]})(e);return!(!/^data:image\//.test(e)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n))||!/^data:/.test(e)&&!n},kt=200;function At(t){return new Promise((e=>{if(!t.type||!$t(t.type))return void e("");const n=document.createElement("canvas");n.width=kt,n.height=kt,n.style.cssText="position: fixed; left: 0; top: 0; width: 200px; height: 200px; z-index: 9999; display: none;",document.body.appendChild(n);const r=n.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:t,height:i}=o;let a=kt,s=kt,c=0,l=0;t>i?(s=i*(kt/t),l=-(s-a)/2):(a=t*(kt/i),c=-(a-s)/2),r.drawImage(o,c,l,a,s);const u=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(o.src),e(u)},o.crossOrigin="anonymous",t.type.startsWith("image/svg+xml")){const e=new FileReader;e.onload=()=>{e.result&&"string"==typeof e.result&&(o.src=e.result)},e.readAsDataURL(t)}else if(t.type.startsWith("image/gif")){const n=new FileReader;n.onload=()=>{n.result&&e(n.result)},n.readAsDataURL(t)}else o.src=window.URL.createObjectURL(t)}))}var Et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},St=function(t,e){return r.createElement(rt.A,(0,c.A)({},t,{ref:e,icon:Et}))};var Mt=r.forwardRef(St),Ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},Pt=function(t,e){return r.createElement(rt.A,(0,c.A)({},t,{ref:e,icon:Ct}))};var zt=r.forwardRef(Pt),Ot=n(30234),Nt=n(2616),It=n(38811),Dt=n(26067),Tt=n(36029),jt=n(47852),Rt={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Ht=function(){var t=(0,r.useRef)([]),e=(0,r.useRef)(null);return(0,r.useEffect)((function(){var n=Date.now(),r=!1;t.current.forEach((function(t){if(t){r=!0;var o=t.style;o.transitionDuration=".3s, .3s, .3s, .06s",e.current&&n-e.current<100&&(o.transitionDuration="0s, 0s")}})),r&&(e.current=Date.now())})),t.current};var Lt=n(5544),Xt=n(20998),Ft=0,Bt=(0,Xt.A)();var Vt=function(t){var e=r.useState(),n=(0,Lt.A)(e,2),o=n[0],i=n[1];return r.useEffect((function(){var t;i("rc_progress_".concat((Bt?(t=Ft,Ft+=1):t="TEST_OR_SSR",t)))}),[]),t||o},qt=function(t){var e=t.bg,n=t.children;return r.createElement("div",{style:{width:"100%",height:"100%",background:e}},n)};function Yt(t,e){return Object.keys(t).map((function(n){var r=parseFloat(n),o="".concat(Math.floor(r*e),"%");return"".concat(t[n]," ").concat(o)}))}var Wt=r.forwardRef((function(t,e){var n=t.prefixCls,o=t.color,i=t.gradientId,a=t.radius,s=t.style,c=t.ptg,l=t.strokeLinecap,u=t.strokeWidth,d=t.size,f=t.gapDegree,h=o&&"object"===(0,y.A)(o),p=h?"#FFF":void 0,m=d/2,g=r.createElement("circle",{className:"".concat(n,"-circle-path"),r:a,cx:m,cy:m,stroke:p,strokeLinecap:l,strokeWidth:u,opacity:0===c?0:1,style:s,ref:e});if(!h)return g;var v="".concat(i,"-conic"),w=f?"".concat(180+f/2,"deg"):"0deg",x=Yt(o,(360-f)/360),b=Yt(o,1),$="conic-gradient(from ".concat(w,", ").concat(x.join(", "),")"),_="linear-gradient(to ".concat(f?"bottom":"top",", ").concat(b.join(", "),")");return r.createElement(r.Fragment,null,r.createElement("mask",{id:v},g),r.createElement("foreignObject",{x:0,y:0,width:d,height:d,mask:"url(#".concat(v,")")},r.createElement(qt,{bg:_},r.createElement(qt,{bg:$}))))})),Ut=100,Gt=function(t,e,n,r,o,i,a,s,c,l){var u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,d=n/100*360*((360-i)/360),f=0===i?0:{bottom:0,top:180,left:90,right:-90}[a],h=(100-r)/100*e;"round"===c&&100!==r&&(h+=l/2)>=e&&(h=e-.01);return{stroke:"string"==typeof s?s:void 0,strokeDasharray:"".concat(e,"px ").concat(t),strokeDashoffset:h+u,transform:"rotate(".concat(o+d+f,"deg)"),transformOrigin:"".concat(50,"px ").concat(50,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Zt=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Kt(t){var e=null!=t?t:[];return Array.isArray(e)?e:[e]}var Qt=function(t){var e,n,o,i=(0,m.A)((0,m.A)({},Rt),t),a=i.id,l=i.prefixCls,u=i.steps,d=i.strokeWidth,f=i.trailWidth,h=i.gapDegree,p=void 0===h?0:h,v=i.gapPosition,w=i.trailColor,x=i.strokeLinecap,b=i.style,$=i.className,_=i.strokeColor,k=i.percent,A=(0,g.A)(i,Zt),E=Vt(a),S="".concat(E,"-gradient"),M=50-d/2,C=2*Math.PI*M,P=p>0?90+p/2:-90,z=C*((360-p)/360),O="object"===(0,y.A)(u)?u:{count:u,gap:2},N=O.count,I=O.gap,D=Kt(k),T=Kt(_),j=T.find((function(t){return t&&"object"===(0,y.A)(t)})),R=j&&"object"===(0,y.A)(j)?"butt":x,H=Gt(C,z,0,100,P,p,v,w,R,d),L=Ht();return r.createElement("svg",(0,c.A)({className:s()("".concat(l,"-circle"),$),viewBox:"0 0 ".concat(Ut," ").concat(Ut),style:b,id:a,role:"presentation"},A),!N&&r.createElement("circle",{className:"".concat(l,"-circle-trail"),r:M,cx:50,cy:50,stroke:w,strokeLinecap:R,strokeWidth:f||d,style:H}),N?(e=Math.round(N*(D[0]/100)),n=100/N,o=0,new Array(N).fill(null).map((function(t,i){var a=i<=e-1?T[0]:w,s=a&&"object"===(0,y.A)(a)?"url(#".concat(S,")"):void 0,c=Gt(C,z,o,n,P,p,v,a,"butt",d,I);return o+=100*(z-c.strokeDashoffset+I)/z,r.createElement("circle",{key:i,className:"".concat(l,"-circle-path"),r:M,cx:50,cy:50,stroke:s,strokeWidth:d,opacity:1,style:c,ref:function(t){L[i]=t}})}))):function(){var t=0;return D.map((function(e,n){var o=T[n]||T[T.length-1],i=Gt(C,z,t,e,P,p,v,o,R,d);return t+=e,r.createElement(Wt,{key:n,color:o,ptg:e,radius:M,prefixCls:l,gradientId:S,style:i,strokeLinecap:R,strokeWidth:d,gapDegree:p,ref:function(t){L[n]=t},size:Ut})})).reverse()}())},Jt=n(40367);function te(t){return!t||t<0?0:t>100?100:t}function ee({success:t,successPercent:e}){let n=e;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}const ne=(t,e,n)=>{var r,o,i,a;let s=-1,c=-1;if("step"===e){const e=n.steps,r=n.strokeWidth;"string"==typeof t||void 0===t?(s="small"===t?2:14,c=null!=r?r:8):"number"==typeof t?[s,c]=[t,t]:[s=14,c=8]=Array.isArray(t)?t:[t.width,t.height],s*=e}else if("line"===e){const e=null==n?void 0:n.strokeWidth;"string"==typeof t||void 0===t?c=e||("small"===t?6:8):"number"==typeof t?[s,c]=[t,t]:[s=-1,c=8]=Array.isArray(t)?t:[t.width,t.height]}else"circle"!==e&&"dashboard"!==e||("string"==typeof t||void 0===t?[s,c]="small"===t?[60,60]:[120,120]:"number"==typeof t?[s,c]=[t,t]:Array.isArray(t)&&(s=null!==(o=null!==(r=t[0])&&void 0!==r?r:t[1])&&void 0!==o?o:120,c=null!==(a=null!==(i=t[0])&&void 0!==i?i:t[1])&&void 0!==a?a:120));return[s,c]};var re=t=>{const{prefixCls:e,trailColor:n=null,strokeLinecap:o="round",gapPosition:i,gapDegree:a,width:c=120,type:l,children:u,success:d,size:f=c,steps:h}=t,[p,m]=ne(f,"circle");let{strokeWidth:g}=t;void 0===g&&(g=Math.max((t=>3/t*100)(p),6));const y={width:p,height:m,fontSize:.15*p+6},v=r.useMemo((()=>a||0===a?a:"dashboard"===l?75:void 0),[a,l]),w=(({percent:t,success:e,successPercent:n})=>{const r=te(ee({success:e,successPercent:n}));return[r,te(te(t)-r)]})(t),x=i||"dashboard"===l&&"bottom"||void 0,b="[object Object]"===Object.prototype.toString.call(t.strokeColor),$=(({success:t={},strokeColor:e})=>{const{strokeColor:n}=t;return[n||Z.uy.green,e||null]})({success:d,strokeColor:t.strokeColor}),_=s()(`${e}-inner`,{[`${e}-circle-gradient`]:b}),k=r.createElement(Qt,{steps:h,percent:h?w[1]:w,strokeWidth:g,trailWidth:g,strokeColor:h?$[1]:$,strokeLinecap:o,trailColor:n,prefixCls:e,gapDegree:v,gapPosition:x}),A=p<=20,E=r.createElement("div",{className:_,style:y},k,!A&&u);return A?r.createElement(Jt.A,{title:u},E):E};const oe="--progress-line-stroke-color",ie="--progress-percent",ae=t=>{const e=t?"100%":"-100%";return new q.Mo(`antProgress${t?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${e}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${e}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},se=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:Object.assign(Object.assign({},(0,X.dF)(t)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:t.fontSize},[`${e}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${e}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:t.remainingColor,borderRadius:t.lineBorderRadius},[`${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.defaultColor}},[`${e}-success-bg, ${e}-bg`]:{position:"relative",background:t.defaultColor,borderRadius:t.lineBorderRadius,transition:`all ${t.motionDurationSlow} ${t.motionEaseInOutCirc}`},[`${e}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${e}-text`]:{width:"max-content",marginInlineStart:0,marginTop:t.marginXXS}},[`${e}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${oe})`]},height:"100%",width:`calc(1 / var(${ie}) * 100%)`,display:"block"},[`&${e}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${e}-text-inner`]:{color:t.colorWhite,[`&${e}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${e}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:t.colorSuccess},[`${e}-text`]:{display:"inline-block",marginInlineStart:t.marginXS,color:t.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:t.fontSize},[`&${e}-text-outer`]:{width:"max-content"},[`&${e}-text-outer${e}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:t.marginXS}},[`${e}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${(0,q.zA)(t.paddingXXS)}`,[`&${e}-text-start`]:{justifyContent:"start"},[`&${e}-text-end`]:{justifyContent:"end"}},[`&${e}-status-active`]:{[`${e}-bg::before`]:{position:"absolute",inset:0,backgroundColor:t.colorBgContainer,borderRadius:t.lineBorderRadius,opacity:0,animationName:ae(),animationDuration:t.progressActiveMotionDuration,animationTimingFunction:t.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${e}-rtl${e}-status-active`]:{[`${e}-bg::before`]:{animationName:ae(!0)}},[`&${e}-status-exception`]:{[`${e}-bg`]:{backgroundColor:t.colorError},[`${e}-text`]:{color:t.colorError}},[`&${e}-status-exception ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorError}},[`&${e}-status-success`]:{[`${e}-bg`]:{backgroundColor:t.colorSuccess},[`${e}-text`]:{color:t.colorSuccess}},[`&${e}-status-success ${e}-inner:not(${e}-circle-gradient)`]:{[`${e}-circle-path`]:{stroke:t.colorSuccess}}})}},ce=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-circle-trail`]:{stroke:t.remainingColor},[`&${e}-circle ${e}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${e}-circle ${e}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:t.circleTextColor,fontSize:t.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:t.circleIconFontSize}},[`${e}-circle&-status-exception`]:{[`${e}-text`]:{color:t.colorError}},[`${e}-circle&-status-success`]:{[`${e}-text`]:{color:t.colorSuccess}}},[`${e}-inline-circle`]:{lineHeight:1,[`${e}-inner`]:{verticalAlign:"bottom"}}}},le=t=>{const{componentCls:e}=t;return{[e]:{[`${e}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:t.progressStepMinWidth,marginInlineEnd:t.progressStepMarginInlineEnd,backgroundColor:t.remainingColor,transition:`all ${t.motionDurationSlow}`,"&-active":{backgroundColor:t.defaultColor}}}}}},ue=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{[`${e}-small&-line, ${e}-small&-line ${e}-text ${n}`]:{fontSize:t.fontSizeSM}}}};var de=(0,B.OF)("Progress",(t=>{const e=t.calc(t.marginXXS).div(2).equal(),n=(0,V.oX)(t,{progressStepMarginInlineEnd:e,progressStepMinWidth:e,progressActiveMotionDuration:"2.4s"});return[se(n),ce(n),le(n),ue(n)]}),(t=>({circleTextColor:t.colorText,defaultColor:t.colorInfo,remainingColor:t.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:t.fontSize/t.fontSizeSM+"em"}))),fe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};const he=(t,e)=>{const{from:n=Z.uy.blue,to:r=Z.uy.blue,direction:o=("rtl"===e?"to left":"to right")}=t,i=fe(t,["from","to","direction"]);if(0!==Object.keys(i).length){const t=`linear-gradient(${o}, ${(t=>{let e=[];return Object.keys(t).forEach((n=>{const r=parseFloat(n.replace(/%/g,""));Number.isNaN(r)||e.push({key:r,value:t[n]})})),e=e.sort(((t,e)=>t.key-e.key)),e.map((({key:t,value:e})=>`${e} ${t}%`)).join(", ")})(i)})`;return{background:t,[oe]:t}}const a=`linear-gradient(${o}, ${n}, ${r})`;return{background:a,[oe]:a}};var pe=t=>{const{prefixCls:e,direction:n,percent:o,size:i,strokeWidth:a,strokeColor:c,strokeLinecap:l="round",children:u,trailColor:d=null,percentPosition:f,success:h}=t,{align:p,type:m}=f,g=c&&"string"!=typeof c?he(c,n):{[oe]:c,background:c},y="square"===l||"butt"===l?0:void 0,v=null!=i?i:[-1,a||("small"===i?6:8)],[w,x]=ne(v,"line",{strokeWidth:a});const b={backgroundColor:d||void 0,borderRadius:y},$=Object.assign(Object.assign({width:`${te(o)}%`,height:x,borderRadius:y},g),{[ie]:te(o)/100}),_=ee(t),k={width:`${te(_)}%`,height:x,borderRadius:y,backgroundColor:null==h?void 0:h.strokeColor},A={width:w<0?"100%":w},E=r.createElement("div",{className:`${e}-inner`,style:b},r.createElement("div",{className:s()(`${e}-bg`,`${e}-bg-${m}`),style:$},"inner"===m&&u),void 0!==_&&r.createElement("div",{className:`${e}-success-bg`,style:k})),S="outer"===m&&"start"===p,M="outer"===m&&"end"===p;return"outer"===m&&"center"===p?r.createElement("div",{className:`${e}-layout-bottom`},E,u):r.createElement("div",{className:`${e}-outer`,style:A},S&&u,E,M&&u)};var me=t=>{const{size:e,steps:n,rounding:o=Math.round,percent:i=0,strokeWidth:a=8,strokeColor:c,trailColor:l=null,prefixCls:u,children:d}=t,f=o(n*(i/100)),h=null!=e?e:["small"===e?2:14,a],[p,m]=ne(h,"step",{steps:n,strokeWidth:a}),g=p/n,y=Array.from({length:n});for(let v=0;v<n;v++){const t=Array.isArray(c)?c[v]:c;y[v]=r.createElement("div",{key:v,className:s()(`${u}-steps-item`,{[`${u}-steps-item-active`]:v<=f-1}),style:{backgroundColor:v<=f-1?t:l,width:g,height:m}})}return r.createElement("div",{className:`${u}-steps-outer`},y,d)},ge=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};const ye=["normal","exception","active","success"],ve=r.forwardRef(((t,e)=>{const{prefixCls:n,className:o,rootClassName:i,steps:a,strokeColor:c,percent:l=0,size:u="default",showInfo:d=!0,type:f="line",status:h,format:p,style:m,percentPosition:g={}}=t,y=ge(t,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:v="end",type:w="outer"}=g,x=Array.isArray(c)?c[0]:c,b="string"==typeof c||Array.isArray(c)?c:void 0,$=r.useMemo((()=>{if(x){const t="string"==typeof x?x:Object.values(x)[0];return new Nt.Y(t).isLight()}return!1}),[c]),_=r.useMemo((()=>{var e,n;const r=ee(t);return parseInt(void 0!==r?null===(e=null!=r?r:0)||void 0===e?void 0:e.toString():null===(n=null!=l?l:0)||void 0===n?void 0:n.toString(),10)}),[l,t.success,t.successPercent]),k=r.useMemo((()=>!ye.includes(h)&&_>=100?"success":h||"normal"),[h,_]),{getPrefixCls:A,direction:E,progress:S}=r.useContext(j.QO),M=A("progress",n),[C,P,z]=de(M),O="line"===f,N=O&&!a,I=r.useMemo((()=>{if(!d)return null;const e=ee(t);let n;const o=O&&$&&"inner"===w;return"inner"===w||p||"exception"!==k&&"success"!==k?n=(p||(t=>`${t}%`))(te(l),te(e)):"exception"===k?n=O?r.createElement(Tt.A,null):r.createElement(jt.A,null):"success"===k&&(n=O?r.createElement(It.A,null):r.createElement(Dt.A,null)),r.createElement("span",{className:s()(`${M}-text`,{[`${M}-text-bright`]:o,[`${M}-text-${v}`]:N,[`${M}-text-${w}`]:N}),title:"string"==typeof n?n:void 0},n)}),[d,l,_,k,f,M,p]);let D;"line"===f?D=a?r.createElement(me,Object.assign({},t,{strokeColor:b,prefixCls:M,steps:"object"==typeof a?a.count:a}),I):r.createElement(pe,Object.assign({},t,{strokeColor:x,prefixCls:M,direction:E,percentPosition:{align:v,type:w}}),I):"circle"!==f&&"dashboard"!==f||(D=r.createElement(re,Object.assign({},t,{strokeColor:x,prefixCls:M,progressStatus:k}),I));const T=s()(M,`${M}-status-${k}`,{[`${M}-${"dashboard"===f?"circle":f}`]:"line"!==f,[`${M}-inline-circle`]:"circle"===f&&ne(u,"circle")[0]<=20,[`${M}-line`]:N,[`${M}-line-align-${v}`]:N,[`${M}-line-position-${w}`]:N,[`${M}-steps`]:a,[`${M}-show-info`]:d,[`${M}-${u}`]:"string"==typeof u,[`${M}-rtl`]:"rtl"===E},null==S?void 0:S.className,o,i,P,z);return C(r.createElement("div",Object.assign({ref:e,style:Object.assign(Object.assign({},null==S?void 0:S.style),m),className:T,role:"progressbar","aria-valuenow":_,"aria-valuemin":0,"aria-valuemax":100},(0,pt.A)(y,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),D))}));var we=ve;const xe=r.forwardRef((({prefixCls:t,className:e,style:n,locale:o,listType:i,file:a,items:c,progress:l,iconRender:u,actionIconRender:d,itemRender:f,isImgUrl:h,showPreviewIcon:p,showRemoveIcon:m,showDownloadIcon:g,previewIcon:y,removeIcon:v,downloadIcon:w,extra:x,onPreview:b,onDownload:$,onClose:_},k)=>{var A,E;const{status:S}=a,[M,C]=r.useState(S);r.useEffect((()=>{"removed"!==S&&C(S)}),[S]);const[P,z]=r.useState(!1);r.useEffect((()=>{const t=setTimeout((()=>{z(!0)}),300);return()=>{clearTimeout(t)}}),[]);const O=u(a);let N=r.createElement("div",{className:`${t}-icon`},O);if("picture"===i||"picture-card"===i||"picture-circle"===i)if("uploading"===M||!a.thumbUrl&&!a.url){const e=s()(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:"uploading"!==M});N=r.createElement("div",{className:e},O)}else{const e=(null==h?void 0:h(a))?r.createElement("img",{src:a.thumbUrl||a.url,alt:a.name,className:`${t}-list-item-image`,crossOrigin:a.crossOrigin}):O,n=s()(`${t}-list-item-thumbnail`,{[`${t}-list-item-file`]:h&&!h(a)});N=r.createElement("a",{className:n,onClick:t=>b(a,t),href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer"},e)}const I=s()(`${t}-list-item`,`${t}-list-item-${M}`),D="string"==typeof a.linkProps?JSON.parse(a.linkProps):a.linkProps,T=("function"==typeof m?m(a):m)?d(("function"==typeof v?v(a):v)||r.createElement(Mt,null),(()=>_(a)),t,o.removeFile,!0):null,R=("function"==typeof g?g(a):g)&&"done"===M?d(("function"==typeof w?w(a):w)||r.createElement(zt,null),(()=>$(a)),t,o.downloadFile):null,H="picture-card"!==i&&"picture-circle"!==i&&r.createElement("span",{key:"download-delete",className:s()(`${t}-list-item-actions`,{picture:"picture"===i})},R,T),L="function"==typeof x?x(a):x,X=L&&r.createElement("span",{className:`${t}-list-item-extra`},L),F=s()(`${t}-list-item-name`),B=a.url?r.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:F,title:a.name},D,{href:a.url,onClick:t=>b(a,t)}),a.name,X):r.createElement("span",{key:"view",className:F,onClick:t=>b(a,t),title:a.name},a.name,X),V=("function"==typeof p?p(a):p)&&(a.url||a.thumbUrl)?r.createElement("a",{href:a.url||a.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:t=>b(a,t),title:o.previewFile},"function"==typeof y?y(a):y||r.createElement(Ot.A,null)):null,q=("picture-card"===i||"picture-circle"===i)&&"uploading"!==M&&r.createElement("span",{className:`${t}-list-item-actions`},V,"done"===M&&R,T),{getPrefixCls:Y}=r.useContext(j.QO),W=Y(),U=r.createElement("div",{className:I},N,B,H,q,P&&r.createElement(ht.Ay,{motionName:`${W}-fade`,visible:"uploading"===M,motionDeadline:2e3},(({className:e})=>{const n="percent"in a?r.createElement(we,Object.assign({type:"line",percent:a.percent,"aria-label":a["aria-label"],"aria-labelledby":a["aria-labelledby"]},l)):null;return r.createElement("div",{className:s()(`${t}-list-item-progress`,e)},n)}))),G=a.response&&"string"==typeof a.response?a.response:(null===(A=a.error)||void 0===A?void 0:A.statusText)||(null===(E=a.error)||void 0===E?void 0:E.message)||o.uploadError,Z="error"===M?r.createElement(Jt.A,{title:G,getPopupContainer:t=>t.parentNode},U):U;return r.createElement("div",{className:s()(`${t}-list-item-container`,e),style:n,ref:k},f?f(Z,a,c,{download:$.bind(null,a),preview:b.bind(null,a),remove:_.bind(null,a)}):Z)}));var be=xe;const $e=(t,e)=>{const{listType:n="text",previewFile:i=At,onPreview:a,onDownload:c,onRemove:l,locale:u,iconRender:d,isImageUrl:f=_t,prefixCls:h,items:p=[],showPreviewIcon:m=!0,showRemoveIcon:g=!0,showDownloadIcon:y=!1,removeIcon:v,previewIcon:w,downloadIcon:x,extra:b,progress:$={size:[-1,2],showInfo:!1},appendAction:_,appendActionVisible:k=!0,itemRender:A,disabled:E}=t,S=(0,mt.A)(),[M,C]=r.useState(!1),P=["picture-card","picture-circle"].includes(n);r.useEffect((()=>{n.startsWith("picture")&&(p||[]).forEach((t=>{(t.originFileObj instanceof File||t.originFileObj instanceof Blob)&&void 0===t.thumbUrl&&(t.thumbUrl="",null==i||i(t.originFileObj).then((e=>{t.thumbUrl=e||"",S()})))}))}),[n,p,i]),r.useEffect((()=>{C(!0)}),[]);const z=(t,e)=>{if(a)return null==e||e.preventDefault(),a(t)},O=t=>{"function"==typeof c?c(t):t.url&&window.open(t.url)},N=t=>{null==l||l(t)},I=t=>{if(d)return d(t,n);const e="uploading"===t.status;if(n.startsWith("picture")){const o="picture"===n?r.createElement(at.A,null):u.uploading,i=(null==f?void 0:f(t))?r.createElement(ft,null):r.createElement(it,null);return e?o:i}return e?r.createElement(at.A,null):r.createElement(lt,null)},D=(t,e,n,o,i)=>{const a={type:"text",size:"small",title:o,onClick:n=>{var o,i;e(),r.isValidElement(t)&&(null===(i=(o=t.props).onClick)||void 0===i||i.call(o,n))},className:`${n}-list-item-action`,disabled:!!i&&E};return r.isValidElement(t)?r.createElement(vt.Ay,Object.assign({},a,{icon:(0,yt.Ob)(t,Object.assign(Object.assign({},t.props),{onClick:()=>{}}))})):r.createElement(vt.Ay,Object.assign({},a),r.createElement("span",null,t))};r.useImperativeHandle(e,(()=>({handlePreview:z,handleDownload:O})));const{getPrefixCls:T}=r.useContext(j.QO),R=T("upload",h),H=T(),L=s()(`${R}-list`,`${R}-list-${n}`),X=r.useMemo((()=>(0,pt.A)((0,gt.A)(H),["onAppearEnd","onEnterEnd","onLeaveEnd"])),[H]),F=Object.assign(Object.assign({},P?{}:X),{motionDeadline:2e3,motionName:`${R}-${P?"animate-inline":"animate"}`,keys:(0,o.A)(p.map((t=>({key:t.uid,file:t})))),motionAppear:M});return r.createElement("div",{className:L},r.createElement(ht.aF,Object.assign({},F,{component:!1}),(({key:t,file:e,className:o,style:i})=>r.createElement(be,{key:t,locale:u,prefixCls:R,className:o,style:i,file:e,items:p,progress:$,listType:n,isImgUrl:f,showPreviewIcon:m,showRemoveIcon:g,showDownloadIcon:y,removeIcon:v,previewIcon:w,downloadIcon:x,extra:b,iconRender:I,actionIconRender:D,itemRender:A,onPreview:z,onDownload:O,onClose:N}))),_&&r.createElement(ht.Ay,Object.assign({},F,{visible:k,forceRender:!0}),(({className:t,style:e})=>(0,yt.Ob)(_,(n=>({className:s()(n.className,t),style:Object.assign(Object.assign(Object.assign({},e),{pointerEvents:t?"none":void 0}),n.style)}))))))};var _e=r.forwardRef($e),ke=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(e){i(e)}}function s(t){try{c(r.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};const Ae=`__LIST_IGNORE_${Date.now()}__`,Ee=(t,e)=>{const{fileList:n,defaultFileList:a,onRemove:c,showUploadList:l=!0,listType:u="text",onPreview:d,onDownload:f,onChange:h,onDrop:p,previewFile:m,disabled:g,locale:y,iconRender:v,isImageUrl:w,progress:x,prefixCls:b,className:$,type:_="select",children:k,style:A,itemRender:E,maxCount:S,data:M={},multiple:C=!1,hasControlInside:P=!0,action:z="",accept:O="",supportServerRender:N=!0,rootClassName:I}=t,X=r.useContext(R.A),F=null!=g?g:X,[B,V]=(0,T.A)(a||[],{value:n,postState:t=>null!=t?t:[]}),[q,Y]=r.useState("drop"),W=r.useRef(null),U=r.useRef(null);r.useMemo((()=>{const t=Date.now();(n||[]).forEach(((e,n)=>{e.uid||Object.isFrozen(e)||(e.uid=`__AUTO__${t}_${n}__`)}))}),[n]);const G=(t,e,n)=>{let r=(0,o.A)(e),a=!1;1===S?r=r.slice(-1):S&&(a=r.length>S,r=r.slice(0,S)),(0,i.flushSync)((()=>{V(r)}));const s={file:t,fileList:r};n&&(s.event=n),a&&"removed"!==t.status&&!r.some((e=>e.uid===t.uid))||(0,i.flushSync)((()=>{null==h||h(s)}))},Z=t=>{const e=t.filter((t=>!t.file[Ae]));if(!e.length)return;const n=e.map((t=>wt(t.file)));let r=(0,o.A)(B);n.forEach((t=>{r=xt(t,r)})),n.forEach(((t,n)=>{let o=t;if(e[n].parsedFile)t.status="uploading";else{const{originFileObj:e}=t;let n;try{n=new File([e],e.name,{type:e.type})}catch(i){n=new Blob([e],{type:e.type}),n.name=e.name,n.lastModifiedDate=new Date,n.lastModified=(new Date).getTime()}n.uid=t.uid,o=n}G(o,r)}))},K=(t,e,n)=>{try{"string"==typeof t&&(t=JSON.parse(t))}catch(i){}if(!bt(e,B))return;const r=wt(e);r.status="done",r.percent=100,r.response=t,r.xhr=n;const o=xt(r,B);G(r,o)},Q=(t,e)=>{if(!bt(e,B))return;const n=wt(e);n.status="uploading",n.percent=t.percent;const r=xt(n,B);G(n,r,t)},J=(t,e,n)=>{if(!bt(n,B))return;const r=wt(n);r.error=t,r.response=e,r.status="error";const o=xt(r,B);G(r,o)},tt=t=>{let e;Promise.resolve("function"==typeof c?c(t):c).then((n=>{var r;if(!1===n)return;const o=function(t,e){const n=void 0!==t.uid?"uid":"name",r=e.filter((e=>e[n]!==t[n]));return r.length===e.length?null:r}(t,B);o&&(e=Object.assign(Object.assign({},t),{status:"removed"}),null==B||B.forEach((t=>{const n=void 0!==e.uid?"uid":"name";t[n]!==e[n]||Object.isFrozen(t)||(t.status="removed")})),null===(r=W.current)||void 0===r||r.abort(e),G(e,o))}))},nt=t=>{Y(t.type),"drop"===t.type&&(null==p||p(t))};r.useImperativeHandle(e,(()=>({onBatchStart:Z,onSuccess:K,onProgress:Q,onError:J,fileList:B,upload:W.current,nativeElement:U.current})));const{getPrefixCls:rt,direction:ot,upload:it}=r.useContext(j.QO),at=rt("upload",b),st=Object.assign(Object.assign({onBatchStart:Z,onError:J,onProgress:Q,onSuccess:K},t),{data:M,multiple:C,action:z,accept:O,supportServerRender:N,prefixCls:at,disabled:F,beforeUpload:(e,n)=>ke(void 0,void 0,void 0,(function*(){const{beforeUpload:r,transformFile:o}=t;let i=e;if(r){const t=yield r(e,n);if(!1===t)return!1;if(delete e[Ae],t===Ae)return Object.defineProperty(e,Ae,{value:!0,configurable:!0}),!1;"object"==typeof t&&t&&(i=t)}return o&&(i=yield o(i)),i})),onChange:void 0,hasControlInside:P});delete st.className,delete st.style,k&&!F||delete st.id;const ct=`${at}-wrapper`,[lt,ut,dt]=et(at,ct),[ft]=(0,H.A)("Upload",L.A.Upload),{showRemoveIcon:ht,showPreviewIcon:pt,showDownloadIcon:mt,removeIcon:gt,previewIcon:yt,downloadIcon:vt,extra:$t}="boolean"==typeof l?{}:l,_t=void 0===ht?!F:ht,kt=(t,e)=>l?r.createElement(_e,{prefixCls:at,listType:u,items:B,previewFile:m,onPreview:d,onDownload:f,onRemove:tt,showRemoveIcon:_t,showPreviewIcon:pt,showDownloadIcon:mt,removeIcon:gt,previewIcon:yt,downloadIcon:vt,iconRender:v,extra:$t,locale:Object.assign(Object.assign({},ft),y),isImageUrl:w,progress:x,appendAction:t,appendActionVisible:e,itemRender:E,disabled:F}):t,At=s()(ct,$,I,ut,dt,null==it?void 0:it.className,{[`${at}-rtl`]:"rtl"===ot,[`${at}-picture-card-wrapper`]:"picture-card"===u,[`${at}-picture-circle-wrapper`]:"picture-circle"===u}),Et=Object.assign(Object.assign({},null==it?void 0:it.style),A);if("drag"===_){const t=s()(ut,at,`${at}-drag`,{[`${at}-drag-uploading`]:B.some((t=>"uploading"===t.status)),[`${at}-drag-hover`]:"dragover"===q,[`${at}-disabled`]:F,[`${at}-rtl`]:"rtl"===ot});return lt(r.createElement("span",{className:At,ref:U},r.createElement("div",{className:t,style:Et,onDrop:nt,onDragOver:nt,onDragLeave:nt},r.createElement(D,Object.assign({},st,{ref:W,className:`${at}-btn`}),r.createElement("div",{className:`${at}-drag-container`},k))),kt()))}const St=s()(at,`${at}-select`,{[`${at}-disabled`]:F,[`${at}-hidden`]:!k}),Mt=r.createElement("div",{className:St,style:Et},r.createElement(D,Object.assign({},st,{ref:W})));return lt("picture-card"===u||"picture-circle"===u?r.createElement("span",{className:At,ref:U},kt(Mt,!!k)):r.createElement("span",{className:At,ref:U},Mt,kt()))};var Se=r.forwardRef(Ee),Me=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};const Ce=r.forwardRef(((t,e)=>{var{style:n,height:o,hasControlInside:i=!1}=t,a=Me(t,["style","height","hasControlInside"]);return r.createElement(Se,Object.assign({ref:e,hasControlInside:i},a,{type:"drag",style:Object.assign(Object.assign({},n),{height:o})}))}));var Pe=Ce;const ze=Se;ze.Dragger=Pe,ze.LIST_IGNORE=Ae;var Oe=ze},80697:function(t,e,n){n.d(e,{A:function(){return r}});const r=(0,n(9407).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},86100:function(t,e,n){function r(t){if("string"==typeof t||"number"==typeof t)return""+t;let e="";if(Array.isArray(t))for(let n,o=0;o<t.length;o++)""!==(n=r(t[o]))&&(e+=(e&&" ")+n);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}n.d(e,{A:function(){return r}})},94796:function(t,e,n){n.d(e,{A:function(){return r}});const r=(0,n(9407).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},96813:function(t,e,n){n.d(e,{A:function(){return r}});const r=(0,n(9407).A)("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]])},98188:function(t,e,n){n.d(e,{A:function(){return r}});const r=(0,n(9407).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])}}]);
//# sourceMappingURL=aedc38774473df331eb6dcbf7c0cc919f6d02efc-3aca8c95e6da8497a568.js.map