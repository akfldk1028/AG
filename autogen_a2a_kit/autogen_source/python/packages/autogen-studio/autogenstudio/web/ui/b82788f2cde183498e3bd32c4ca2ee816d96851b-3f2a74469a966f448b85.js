/*! For license information please see b82788f2cde183498e3bd32c4ca2ee816d96851b-3f2a74469a966f448b85.js.LICENSE.txt */
(self.webpackChunkautogentstudio=self.webpackChunkautogentstudio||[]).push([[339],{41:function(e,t,n){"use strict";let a=n(4570),r=n(4809).uniqueId;e.exports={run:function(e){("greedy"===e.graph().acyclicer?a(e,function(e){return t=>e.edge(t).weight}(e)):function(e){let t=[],n={},a={};function r(o){Object.hasOwn(a,o)||(a[o]=!0,n[o]=!0,e.outEdges(o).forEach((e=>{Object.hasOwn(n,e.w)?t.push(e):r(e.w)})),delete n[o])}return e.nodes().forEach(r),t}(e)).forEach((t=>{let n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r("rev"))}))},undo:function(e){e.edges().forEach((t=>{let n=e.edge(t);if(n.reversed){e.removeEdge(t);let a=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,a)}}))}}},85:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});const a=(0,n(1788).A)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},258:function(e,t,n){"use strict";let a=n(4809);e.exports={run:function(e){e.graph().dummyChains=[],e.edges().forEach((t=>function(e,t){let n,r,o,s=t.v,i=e.node(s).rank,l=t.w,c=e.node(l).rank,d=t.name,u=e.edge(t),m=u.labelRank;if(c===i+1)return;for(e.removeEdge(t),o=0,++i;i<c;++o,++i)u.points=[],r={width:0,height:0,edgeLabel:u,edgeObj:t,rank:i},n=a.addDummyNode(e,"edge",r,"_d"),i===m&&(r.width=u.width,r.height=u.height,r.dummy="edge-label",r.labelpos=u.labelpos),e.setEdge(s,n,{weight:u.weight},d),0===o&&e.graph().dummyChains.push(n),s=n;e.setEdge(s,l,{weight:u.weight},d)}(e,t)))},undo:function(e){e.graph().dummyChains.forEach((t=>{let n,a=e.node(t),r=a.edgeLabel;for(e.setEdge(a.edgeObj,r);a.dummy;)n=e.successors(t)[0],e.removeNode(t),r.points.push({x:a.x,y:a.y}),"edge-label"===a.dummy&&(r.x=a.x,r.y=a.y,r.width=a.width,r.height=a.height),t=n,a=e.node(t)}))}}},334:function(e,t,n){let a=n(4809),r=n(6743).Graph;e.exports={debugOrdering:function(e){let t=a.buildLayerMatrix(e),n=new r({compound:!0,multigraph:!0}).setGraph({});return e.nodes().forEach((t=>{n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),e.edges().forEach((e=>n.setEdge(e.v,e.w,{},e.name))),t.forEach(((e,t)=>{let a="layer"+t;n.setNode(a,{rank:"same"}),e.reduce(((e,t)=>(n.setEdge(e,t,{style:"invis"}),t)))})),n}}},468:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});const a=(0,n(1788).A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},477:function(e){e.exports=function(e,t,n){let a,r={};n.forEach((n=>{let o,s,i=e.parent(n);for(;i;){if(o=e.parent(i),o?(s=r[o],r[o]=i):(s=a,a=i),s&&s!==i)return void t.setEdge(s,i);i=o}}))}},860:function(e,t,n){"use strict";var a=n(9294).longestPath,r=n(3776),o=n(3061);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:i(e);break;case"tight-tree":!function(e){a(e),r(e)}(e);break;case"longest-path":s(e)}};var s=a;function i(e){o(e)}},942:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});const a=(0,n(1788).A)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},1236:function(e,t,n){let a=n(4809);function r(e,t,n,r,o,s){let i={width:0,height:0,rank:s,borderType:t},l=o[t][s-1],c=a.addDummyNode(e,"border",i,n);o[t][s]=c,e.setParent(c,r),l&&e.setEdge(l,c,{weight:1})}e.exports=function(e){e.children().forEach((function t(n){let a=e.children(n),o=e.node(n);if(a.length&&a.forEach(t),Object.hasOwn(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(let t=o.minRank,a=o.maxRank+1;t<a;++t)r(e,"borderLeft","_bl",n,o,t),r(e,"borderRight","_br",n,o,t)}}))}},1325:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var a=n(1511),r=n(7134),o=n(1806);const s={show_llm_call_events:!1,expanded_messages_by_default:!1,show_agent_flow_by_default:!1,human_input_timeout_minutes:3},i=(0,a.v)()((0,r.Zr)(((e,t)=>({serverSettings:null,isLoading:!1,error:null,uiSettings:s,initializeSettings:async n=>{if(!t().isLoading)try{e({isLoading:!0,error:null});const t=await o.Y.getSettings(n),a=(e=>e&&e.config&&e.config.ui?e.config.ui:s)(t);e({serverSettings:t,uiSettings:a,isLoading:!1})}catch(a){console.error("Failed to load settings:",a),e({error:"Failed to load settings",isLoading:!1,uiSettings:s})}},updateUISettings:n=>{const{uiSettings:a}=t(),r={...a,...n};e({uiSettings:r})},resetUISettings:async()=>(e({uiSettings:s}),Promise.resolve())})),{name:"ags-app-settings-0",partialize:e=>({uiSettings:e.uiSettings})}))},1806:function(e,t,n){"use strict";n.d(t,{Y:function(){return o}});var a=n(7387);let r=function(e){function t(){return e.apply(this,arguments)||this}(0,a.A)(t,e);var n=t.prototype;return n.getSettings=async function(e){const t=await fetch(`${this.getBaseUrl()}/settings/?user_id=${e}`,{headers:this.getHeaders()}),n=await t.json();if(!n.status)throw new Error(n.message||"Failed to fetch settings");return n.data},n.updateSettings=async function(e,t){const n={...e,user_id:e.user_id||t};console.log("settingsData",n);const a=await fetch(`${this.getBaseUrl()}/settings/`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(n)}),r=await a.json();if(!r.status)throw new Error(r.message||"Failed to update settings");return r.data},t}(n(3838).y);const o=new r},2377:function(e,t,n){var a=n(6239);function r(e){return e.nodes().map((function(t){var n=e.node(t),a=e.parent(t),r={v:t};return void 0!==n&&(r.value=n),void 0!==a&&(r.parent=a),r}))}function o(e){return e.edges().map((function(t){var n=e.edge(t),a={v:t.v,w:t.w};return void 0!==t.name&&(a.name=t.name),void 0!==n&&(a.value=n),a}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:r(e),edges:o(e)};void 0!==e.graph()&&(t.value=structuredClone(e.graph()));return t},read:function(e){var t=new a(e.options).setGraph(e.value);return e.nodes.forEach((function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),e.edges.forEach((function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},2667:function(e,t,n){"use strict";let a=n(4809);e.exports=function(e){let t={},n=e.nodes().filter((t=>!e.children(t).length)),r=n.map((t=>e.node(t).rank)),o=a.applyWithChunking(Math.max,r),s=a.range(o+1).map((()=>[]));return n.sort(((t,n)=>e.node(t).rank-e.node(n).rank)).forEach((function n(a){if(t[a])return;t[a]=!0;let r=e.node(a);s[r.rank].push(a),e.successors(a).forEach(n)})),s}},2806:function(e,t,n){"use strict";let a=n(6743).Graph,r=n(4809);function o(e,t){let n={};return t.length&&t.reduce((function(t,a){let r=0,o=0,s=t.length,l=a[a.length-1];return a.forEach(((t,c)=>{let d=function(e,t){if(e.node(t).dummy)return e.predecessors(t).find((t=>e.node(t).dummy))}(e,t),u=d?e.node(d).order:s;(d||t===l)&&(a.slice(o,c+1).forEach((t=>{e.predecessors(t).forEach((a=>{let o=e.node(a),s=o.order;!(s<r||u<s)||o.dummy&&e.node(t).dummy||i(n,a,t)}))})),o=c+1,r=u)})),a})),n}function s(e,t){let n={};function a(t,a,o,s,l){let c;r.range(a,o).forEach((a=>{c=t[a],e.node(c).dummy&&e.predecessors(c).forEach((t=>{let a=e.node(t);a.dummy&&(a.order<s||a.order>l)&&i(n,t,c)}))}))}return t.length&&t.reduce((function(t,n){let r,o=-1,s=0;return n.forEach(((i,l)=>{if("border"===e.node(i).dummy){let t=e.predecessors(i);t.length&&(r=e.node(t[0]).order,a(n,s,l,o,r),s=l,o=r)}a(n,s,n.length,r,t.length)})),n})),n}function i(e,t,n){if(t>n){let e=t;t=n,n=e}let a=e[t];a||(e[t]=a={}),a[n]=!0}function l(e,t,n){if(t>n){let e=t;t=n,n=e}return!!e[t]&&Object.hasOwn(e[t],n)}function c(e,t,n,a){let r={},o={},s={};return t.forEach((e=>{e.forEach(((e,t)=>{r[e]=e,o[e]=e,s[e]=t}))})),t.forEach((e=>{let t=-1;e.forEach((e=>{let i=a(e);if(i.length){i=i.sort(((e,t)=>s[e]-s[t]));let a=(i.length-1)/2;for(let c=Math.floor(a),d=Math.ceil(a);c<=d;++c){let a=i[c];o[e]===e&&t<s[a]&&!l(n,e,a)&&(o[a]=e,o[e]=r[e]=r[a],t=s[a])}}}))})),{root:r,align:o}}function d(e,t,n,r,o){let s={},i=function(e,t,n,r){let o=new a,s=e.graph(),i=function(e,t,n){return(a,r,o)=>{let s,i=a.node(r),l=a.node(o),c=0;if(c+=i.width/2,Object.hasOwn(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":s=-i.width/2;break;case"r":s=i.width/2}if(s&&(c+=n?s:-s),s=0,c+=(i.dummy?t:e)/2,c+=(l.dummy?t:e)/2,c+=l.width/2,Object.hasOwn(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=l.width/2;break;case"r":s=-l.width/2}return s&&(c+=n?s:-s),s=0,c}}(s.nodesep,s.edgesep,r);return t.forEach((t=>{let a;t.forEach((t=>{let r=n[t];if(o.setNode(r),a){var s=n[a],l=o.edge(s,r);o.setEdge(s,r,Math.max(i(e,t,a),l||0))}a=t}))})),o}(e,t,n,o),l=o?"borderLeft":"borderRight";function c(e,t){let n=i.nodes(),a=n.pop(),r={};for(;a;)r[a]?e(a):(r[a]=!0,n.push(a),n=n.concat(t(a))),a=n.pop()}return c((function(e){s[e]=i.inEdges(e).reduce(((e,t)=>Math.max(e,s[t.v]+i.edge(t))),0)}),i.predecessors.bind(i)),c((function(t){let n=i.outEdges(t).reduce(((e,t)=>Math.min(e,s[t.w]-i.edge(t))),Number.POSITIVE_INFINITY),a=e.node(t);n!==Number.POSITIVE_INFINITY&&a.borderType!==l&&(s[t]=Math.max(s[t],n))}),i.successors.bind(i)),Object.keys(r).forEach((e=>s[e]=s[n[e]])),s}function u(e,t){return Object.values(t).reduce(((t,n)=>{let a=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;Object.entries(n).forEach((([t,n])=>{let o=function(e,t){return e.node(t).width}(e,t)/2;a=Math.max(n+o,a),r=Math.min(n-o,r)}));const o=a-r;return o<t[0]&&(t=[o,n]),t}),[Number.POSITIVE_INFINITY,null])[1]}function m(e,t){let n=Object.values(t),a=r.applyWithChunking(Math.min,n),o=r.applyWithChunking(Math.max,n);["u","d"].forEach((n=>{["l","r"].forEach((s=>{let i=n+s,l=e[i];if(l===t)return;let c=Object.values(l),d=a-r.applyWithChunking(Math.min,c);"l"!==s&&(d=o-r.applyWithChunking(Math.max,c)),d&&(e[i]=r.mapValues(l,(e=>e+d)))}))}))}function p(e,t){return r.mapValues(e.ul,((n,a)=>{if(t)return e[t.toLowerCase()][a];{let t=Object.values(e).map((e=>e[a])).sort(((e,t)=>e-t));return(t[1]+t[2])/2}}))}e.exports={positionX:function(e){let t,n=r.buildLayerMatrix(e),a=Object.assign(o(e,n),s(e,n)),i={};["u","d"].forEach((o=>{t="u"===o?n:Object.values(n).reverse(),["l","r"].forEach((n=>{"r"===n&&(t=t.map((e=>Object.values(e).reverse())));let s=("u"===o?e.predecessors:e.successors).bind(e),l=c(e,t,a,s),u=d(e,t,l.root,l.align,"r"===n);"r"===n&&(u=r.mapValues(u,(e=>-e))),i[o+n]=u}))}));let l=u(e,i);return m(i,l),p(i,e.graph().align)},findType1Conflicts:o,findType2Conflicts:s,addConflict:i,hasConflict:l,verticalAlignment:c,horizontalCompaction:d,alignCoordinates:m,findSmallestWidthAlignment:u,balance:p}},2839:function(e,t,n){var a=n(4168);e.exports=function(e){return a(e).filter((function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},3061:function(e,t,n){"use strict";var a=n(3776),r=n(9294).slack,o=n(9294).longestPath,s=n(6743).alg.preorder,i=n(6743).alg.postorder,l=n(4809).simplify;function c(e){e=l(e),o(e);var t,n=a(e);for(m(n),d(n,e);t=g(n);)f(n,e,t,h(n,e,t))}function d(e,t){var n=i(e,e.nodes());(n=n.slice(0,n.length-1)).forEach((n=>function(e,t,n){var a=e.node(n),r=a.parent;e.edge(n,r).cutvalue=u(e,t,n)}(e,t,n)))}function u(e,t,n){var a=e.node(n).parent,r=!0,o=t.edge(n,a),s=0;return o||(r=!1,o=t.edge(a,n)),s=o.weight,t.nodeEdges(n).forEach((o=>{var i,l,c=o.v===n,d=c?o.w:o.v;if(d!==a){var u=c===r,m=t.edge(o).weight;if(s+=u?m:-m,i=n,l=d,e.hasEdge(i,l)){var p=e.edge(n,d).cutvalue;s+=u?-p:p}}})),s}function m(e,t){arguments.length<2&&(t=e.nodes()[0]),p(e,{},1,t)}function p(e,t,n,a,r){var o=n,s=e.node(a);return t[a]=!0,e.neighbors(a).forEach((r=>{Object.hasOwn(t,r)||(n=p(e,t,n,r,a))})),s.low=o,s.lim=n++,r?s.parent=r:delete s.parent,n}function g(e){return e.edges().find((t=>e.edge(t).cutvalue<0))}function h(e,t,n){var a=n.v,o=n.w;t.hasEdge(a,o)||(a=n.w,o=n.v);var s=e.node(a),i=e.node(o),l=s,c=!1;s.lim>i.lim&&(l=i,c=!0);var d=t.edges().filter((t=>c===v(e,e.node(t.v),l)&&c!==v(e,e.node(t.w),l)));return d.reduce(((e,n)=>r(t,n)<r(t,e)?n:e))}function f(e,t,n,a){var r=n.v,o=n.w;e.removeEdge(r,o),e.setEdge(a.v,a.w,{}),m(e),d(e,t),function(e,t){var n=e.nodes().find((e=>!t.node(e).parent)),a=s(e,n);(a=a.slice(1)).forEach((n=>{var a=e.node(n).parent,r=t.edge(n,a),o=!1;r||(r=t.edge(a,n),o=!0),t.node(n).rank=t.node(a).rank+(o?r.minlen:-r.minlen)}))}(e,t)}function v(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=c,c.initLowLimValues=m,c.initCutValues=d,c.calcCutValue=u,c.leaveEdge=g,c.enterEdge=h,c.exchangeEdges=f},3535:function(e,t,n){let a=n(6361),r=n(3900),o=n(7204);e.exports=function e(t,n,s,i){let l=t.children(n),c=t.node(n),d=c?c.borderLeft:void 0,u=c?c.borderRight:void 0,m={};d&&(l=l.filter((e=>e!==d&&e!==u)));let p=a(t,l);p.forEach((n=>{if(t.children(n.v).length){let o=e(t,n.v,s,i);m[n.v]=o,Object.hasOwn(o,"barycenter")&&(r=o,void 0!==(a=n).barycenter?(a.barycenter=(a.barycenter*a.weight+r.barycenter*r.weight)/(a.weight+r.weight),a.weight+=r.weight):(a.barycenter=r.barycenter,a.weight=r.weight))}var a,r}));let g=r(p,s);!function(e,t){e.forEach((e=>{e.vs=e.vs.flatMap((e=>t[e]?t[e].vs:e))}))}(g,m);let h=o(g,i);if(d&&(h.vs=[d,h.vs,u].flat(!0),t.predecessors(d).length)){let e=t.node(t.predecessors(d)[0]),n=t.node(t.predecessors(u)[0]);Object.hasOwn(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+e.order+n.order)/(h.weight+2),h.weight+=2}return h}},3776:function(e,t,n){"use strict";var a=n(6743).Graph,r=n(9294).slack;function o(e,t){return e.nodes().forEach((function n(a){t.nodeEdges(a).forEach((o=>{var s=o.v,i=a===s?o.w:s;e.hasNode(i)||r(t,o)||(e.setNode(i,{}),e.setEdge(a,i,{}),n(i))}))})),e.nodeCount()}function s(e,t){return t.edges().reduce(((n,a)=>{let o=Number.POSITIVE_INFINITY;return e.hasNode(a.v)!==e.hasNode(a.w)&&(o=r(t,a)),o<n[0]?[o,a]:n}),[Number.POSITIVE_INFINITY,null])[1]}function i(e,t,n){e.nodes().forEach((e=>t.node(e).rank+=n))}e.exports=function(e){var t,n,l=new a({directed:!1}),c=e.nodes()[0],d=e.nodeCount();l.setNode(c,{});for(;o(l,e)<d;)t=s(l,e),n=l.hasNode(t.v)?r(e,t):-r(e,t),i(l,e,n);return l}},3843:function(e,t,n){let a=n(6743).Graph,r=n(4809);e.exports=function(e,t,n){let o=function(e){var t;for(;e.hasNode(t=r.uniqueId("_root")););return t}(e),s=new a({compound:!0}).setGraph({root:o}).setDefaultNodeLabel((t=>e.node(t)));return e.nodes().forEach((a=>{let r=e.node(a),i=e.parent(a);(r.rank===t||r.minRank<=t&&t<=r.maxRank)&&(s.setNode(a),s.setParent(a,i||o),e[n](a).forEach((t=>{let n=t.v===a?t.w:t.v,r=s.edge(n,a),o=void 0!==r?r.weight:0;s.setEdge(n,a,{weight:e.edge(t).weight+o})})),Object.hasOwn(r,"minRank")&&s.setNode(a,{borderLeft:r.borderLeft[t],borderRight:r.borderRight[t]}))})),s}},3900:function(e,t,n){"use strict";let a=n(4809);e.exports=function(e,t){let n={};return e.forEach(((e,t)=>{let a=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};void 0!==e.barycenter&&(a.barycenter=e.barycenter,a.weight=e.weight)})),t.edges().forEach((e=>{let t=n[e.v],a=n[e.w];void 0!==t&&void 0!==a&&(a.indegree++,t.out.push(n[e.w]))})),function(e){let t=[];function n(e){return t=>{t.merged||(void 0===t.barycenter||void 0===e.barycenter||t.barycenter>=e.barycenter)&&function(e,t){let n=0,a=0;e.weight&&(n+=e.barycenter*e.weight,a+=e.weight);t.weight&&(n+=t.barycenter*t.weight,a+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/a,e.weight=a,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return n=>{n.in.push(t),0===--n.indegree&&e.push(n)}}for(;e.length;){let a=e.pop();t.push(a),a.in.reverse().forEach(n(a)),a.out.forEach(r(a))}return t.filter((e=>!e.merged)).map((e=>a.pick(e,["vs","i","barycenter","weight"])))}(Object.values(n).filter((e=>!e.indegree)))}},3933:function(e){function t(e,t,n,r){for(var o=[[e,!1]];o.length>0;){var s=o.pop();s[1]?r.push(s[0]):Object.hasOwn(n,s[0])||(n[s[0]]=!0,o.push([s[0],!0]),a(t(s[0]),(e=>o.push([e,!1]))))}}function n(e,t,n,r){for(var o=[e];o.length>0;){var s=o.pop();Object.hasOwn(n,s)||(n[s]=!0,r.push(s),a(t(s),(e=>o.push(e))))}}function a(e,t){for(var n=e.length;n--;)t(e[n],n,e);return e}e.exports=function(e,a,r){Array.isArray(a)||(a=[a]);var o=e.isDirected()?t=>e.successors(t):t=>e.neighbors(t),s="post"===r?t:n,i=[],l={};return a.forEach((t=>{if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);s(t,o,l,i)})),i}},3958:function(e,t,n){"use strict";n.d(t,{A:function(){return Kn}});var a=n(436),r=n(6540),o=n(9036),s=n(367),i=n(8603),l=n(2941),c=n(180),d=n(2744);function u({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}var m=r.forwardRef(u);function p({title:e,titleId:t,...n},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}var g=r.forwardRef(p),h=n(6156),f=n(1240),v=n(2279),y=n(867),b=n(4642),E=n(8811),w=n(6029),x=n(7852),_=n(7541),k=n(7850),N=n(3567),C=n(6942),A=n.n(C),S=n(2370),M=n(934),O=n(2187),$=n(275),T=n(5905),I=n(4277),j=n(7358);var R=e=>{const{componentCls:t,notificationMarginEdge:n,animationMaxHeight:a}=e,r=`${t}-notice`,o=new O.Mo("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),s=new O.Mo("antNotificationTopFadeIn",{"0%":{top:-a,opacity:0},"100%":{top:0,opacity:1}}),i=new O.Mo("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(a).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),l=new O.Mo("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[r]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:s}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:i}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:o}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[r]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:l}}}}};const L=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],P={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},z=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t[`&:nth-last-child(${n+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},F=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t[`&:nth-last-child(${n+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)};var D=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`transform ${e.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},z(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},F(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},L.map((t=>((e,t)=>{const{componentCls:n}=e;return{[`${n}-${t}`]:{[`&${n}-stack > ${n}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[P[t]]:{value:0,_skip_check_:!0}}}}})(e,t))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{}))};const W=e=>{const{iconCls:t,componentCls:n,boxShadow:a,fontSizeLG:r,notificationMarginBottom:o,borderRadiusLG:s,colorSuccess:i,colorInfo:l,colorWarning:c,colorError:d,colorTextHeading:u,notificationBg:m,notificationPadding:p,notificationMarginEdge:g,notificationProgressBg:h,notificationProgressHeight:f,fontSize:v,lineHeight:y,width:b,notificationIconSize:E,colorText:w}=e,x=`${n}-notice`;return{position:"relative",marginBottom:o,marginInlineStart:"auto",background:m,borderRadius:s,boxShadow:a,[x]:{padding:p,width:b,maxWidth:`calc(100vw - ${(0,O.zA)(e.calc(g).mul(2).equal())})`,overflow:"hidden",lineHeight:y,wordWrap:"break-word"},[`${x}-message`]:{marginBottom:e.marginXS,color:u,fontSize:r,lineHeight:e.lineHeightLG},[`${x}-description`]:{fontSize:v,color:w},[`${x}-closable ${x}-message`]:{paddingInlineEnd:e.paddingLG},[`${x}-with-icon ${x}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(E).equal(),fontSize:r},[`${x}-with-icon ${x}-description`]:{marginInlineStart:e.calc(e.marginSM).add(E).equal(),fontSize:v},[`${x}-icon`]:{position:"absolute",fontSize:E,lineHeight:1,[`&-success${t}`]:{color:i},[`&-info${t}`]:{color:l},[`&-warning${t}`]:{color:c},[`&-error${t}`]:{color:d}},[`${x}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,T.K8)(e)),[`${x}-progress`]:{position:"absolute",display:"block",appearance:"none",inlineSize:`calc(100% - ${(0,O.zA)(s)} * 2)`,left:{_skip_check_:!0,value:s},right:{_skip_check_:!0,value:s},bottom:0,blockSize:f,border:0,"&, &::-webkit-progress-bar":{borderRadius:s,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:h},"&::-webkit-progress-value":{borderRadius:s,background:h}},[`${x}-actions`]:{float:"right",marginTop:e.marginSM}}},G=e=>{const{componentCls:t,notificationMarginBottom:n,notificationMarginEdge:a,motionDurationMid:r,motionEaseInOut:o}=e,s=`${t}-notice`,i=new O.Mo("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},(0,T.dF)(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:a,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:o,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:o,animationFillMode:"both",animationDuration:r,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:i,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${s}-actions`]:{float:"left"}}})},{[t]:{[`${s}-wrapper`]:Object.assign({},W(e))}}]},B=e=>({zIndexPopup:e.zIndexPopupBase+$.jH+50,width:384}),q=e=>{const t=e.paddingMD,n=e.paddingLG;return(0,I.oX)(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:n,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${(0,O.zA)(e.paddingMD)} ${(0,O.zA)(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})};var H=(0,j.OF)("Notification",(e=>{const t=q(e);return[G(t),R(t),D(t)]}),B),Y=(0,j.bf)(["Notification","PurePanel"],(e=>{const t=`${e.componentCls}-notice`,n=q(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},W(n)),{width:n.width,maxWidth:`calc(100vw - ${(0,O.zA)(e.calc(n.notificationMarginEdge).mul(2).equal())})`,margin:0})}}),B),V=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};k.A,E.A,w.A,_.A,N.A;function U(e,t){return null===t||!1===t?null:t||r.createElement(x.A,{className:`${e}-close-icon`})}const J={success:E.A,info:k.A,error:w.A,warning:_.A},X=e=>{const{prefixCls:t,icon:n,type:a,message:o,description:s,actions:i,role:l="alert"}=e;let c=null;return n?c=r.createElement("span",{className:`${t}-icon`},n):a&&(c=r.createElement(J[a]||null,{className:A()(`${t}-icon`,`${t}-icon-${a}`)})),r.createElement("div",{className:A()({[`${t}-with-icon`]:c}),role:l},c,r.createElement("div",{className:`${t}-message`},o),r.createElement("div",{className:`${t}-description`},s),i&&r.createElement("div",{className:`${t}-actions`},i))};var K=e=>{const{prefixCls:t,className:n,icon:a,type:o,message:s,description:i,btn:l,actions:c,closable:d=!0,closeIcon:u,className:m}=e,p=V(e,["prefixCls","className","icon","type","message","description","btn","actions","closable","closeIcon","className"]),{getPrefixCls:g}=r.useContext(v.QO),h=null!=c?c:l;const f=t||g("notification"),y=`${f}-notice`,b=(0,M.A)(f),[E,w,x]=H(f,b);return E(r.createElement("div",{className:A()(`${y}-pure-panel`,w,n,x,b)},r.createElement(Y,{prefixCls:f}),r.createElement(S.$T,Object.assign({},p,{prefixCls:f,eventKey:"pure",duration:null,closable:d,className:A()({notificationClassName:m}),closeIcon:U(f,u),content:r.createElement(X,{prefixCls:y,icon:a,type:o,message:s,description:i,actions:h})}))))},Z=n(8877),Q=n(1320);var ee=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const te=({children:e,prefixCls:t})=>{const n=(0,M.A)(t),[a,o,s]=H(t,n);return a(r.createElement(S.ph,{classNames:{list:A()(o,s,n)}},e))},ne=(e,{prefixCls:t,key:n})=>r.createElement(te,{prefixCls:t,key:n},e),ae=r.forwardRef(((e,t)=>{const{top:n,bottom:a,prefixCls:o,getContainer:s,maxCount:i,rtl:l,onAllRemoved:c,stack:d,duration:u,pauseOnHover:m=!0,showProgress:p}=e,{getPrefixCls:g,getPopupContainer:h,notification:f,direction:y}=(0,r.useContext)(v.QO),[,b]=(0,Q.Ay)(),E=o||g("notification"),[w,x]=(0,S.hN)({prefixCls:E,style:e=>function(e,t,n){let a;switch(e){case"top":a={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":a={left:0,top:t,bottom:"auto"};break;case"topRight":a={right:0,top:t,bottom:"auto"};break;case"bottom":a={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":a={left:0,top:"auto",bottom:n};break;default:a={right:0,top:"auto",bottom:n}}return a}(e,null!=n?n:24,null!=a?a:24),className:()=>A()({[`${E}-rtl`]:null!=l?l:"rtl"===y}),motion:()=>function(e){return{motionName:`${e}-fade`}}(E),closable:!0,closeIcon:U(E),duration:null!=u?u:4.5,getContainer:()=>(null==s?void 0:s())||(null==h?void 0:h())||document.body,maxCount:i,pauseOnHover:m,showProgress:p,onAllRemoved:c,renderNotifications:ne,stack:!1!==d&&{threshold:"object"==typeof d?null==d?void 0:d.threshold:void 0,offset:8,gap:b.margin}});return r.useImperativeHandle(t,(()=>Object.assign(Object.assign({},w),{prefixCls:E,notification:f}))),x}));function re(e){const t=r.useRef(null),n=((0,Z.rJ)("Notification"),r.useMemo((()=>{const n=n=>{var a;if(!t.current)return;const{open:o,prefixCls:s,notification:i}=t.current,l=`${s}-notice`,{message:c,description:d,icon:u,type:m,btn:p,actions:g,className:h,style:f,role:v="alert",closeIcon:y,closable:b}=n,E=ee(n,["message","description","icon","type","btn","actions","className","style","role","closeIcon","closable"]);const w=null!=g?g:p,x=U(l,function(e,t,n){return void 0!==e?e:void 0!==(null==t?void 0:t.closeIcon)?t.closeIcon:null==n?void 0:n.closeIcon}(y,e,i));return o(Object.assign(Object.assign({placement:null!==(a=null==e?void 0:e.placement)&&void 0!==a?a:"topRight"},E),{content:r.createElement(X,{prefixCls:l,icon:u,type:m,message:c,description:d,actions:w,role:v}),className:A()(m&&`${l}-${m}`,h,null==i?void 0:i.className),style:Object.assign(Object.assign({},null==i?void 0:i.style),f),closeIcon:x,closable:null!=b?b:!!x}))},a={open:n,destroy:e=>{var n,a;void 0!==e?null===(n=t.current)||void 0===n||n.close(e):null===(a=t.current)||void 0===a||a.destroy()}};return["success","info","warning","error"].forEach((e=>{a[e]=t=>n(Object.assign(Object.assign({},t),{type:e}))})),a}),[]));return[n,r.createElement(ae,Object.assign({key:"notification-holder"},e,{ref:t}))]}let oe=null,se=e=>e(),ie=[],le={};function ce(){const{getContainer:e,rtl:t,maxCount:n,top:a,bottom:r,showProgress:o,pauseOnHover:s}=le,i=(null==e?void 0:e())||document.body;return{getContainer:()=>i,rtl:t,maxCount:n,top:a,bottom:r,showProgress:o,pauseOnHover:s}}const de=r.forwardRef(((e,t)=>{const{notificationConfig:n,sync:a}=e,{getPrefixCls:o}=(0,r.useContext)(v.QO),s=le.prefixCls||o("notification"),i=(0,r.useContext)(f.B),[l,c]=re(Object.assign(Object.assign(Object.assign({},n),{prefixCls:s}),i.notification));return r.useEffect(a,[]),r.useImperativeHandle(t,(()=>{const e=Object.assign({},l);return Object.keys(e).forEach((t=>{e[t]=(...e)=>(a(),l[t].apply(l,e))})),{instance:e,sync:a}})),c})),ue=r.forwardRef(((e,t)=>{const[n,a]=r.useState(ce),o=()=>{a(ce)};r.useEffect(o,[]);const s=(0,y.cr)(),i=s.getRootPrefixCls(),l=s.getIconPrefixCls(),c=s.getTheme(),d=r.createElement(de,{ref:t,sync:o,notificationConfig:n});return r.createElement(y.Ay,{prefixCls:i,iconPrefixCls:l,theme:c},s.holderRender?s.holderRender(d):d)}));function me(){if(!oe){const e=document.createDocumentFragment(),t={fragment:e};return oe=t,void se((()=>{(0,b.L)()(r.createElement(ue,{ref:e=>{const{instance:n,sync:a}=e||{};Promise.resolve().then((()=>{!t.instance&&n&&(t.instance=n,t.sync=a,me())}))}}),e)}))}oe.instance&&(ie.forEach((e=>{switch(e.type){case"open":se((()=>{oe.instance.open(Object.assign(Object.assign({},le),e.config))}));break;case"destroy":se((()=>{null==oe||oe.instance.destroy(e.key)}))}})),ie=[])}function pe(e){(0,y.cr)();ie.push({type:"open",config:e}),me()}const ge={open:pe,destroy:e=>{ie.push({type:"destroy",key:e}),me()},config:function(e){le=Object.assign(Object.assign({},le),e),se((()=>{var e;null===(e=null==oe?void 0:oe.sync)||void 0===e||e.call(oe)}))},useNotification:function(e){return re(e)},_InternalPanelDoNotUseOrYouWillBeFired:K};["success","info","warning","error"].forEach((e=>{ge[e]=t=>pe(Object.assign(Object.assign({},t),{type:e}))}));var he=ge,fe=n(8355),ve=n(9612),ye=n(827),be=n(8697),Ee=n(4796);const we=5242880,xe=["text/plain","image/jpeg","image/png","image/gif","image/svg+xml"],_e=1500;function ke(e){let{onSubmit:t,loading:n,error:i,disabled:d=!1}=e;const u=r.useRef(null),[p,f]=r.useState(n),[v,y]=r.useState("What is the capital of France?"),[b,E]=r.useState([]),[w,x]=r.useState(!1),[_,k]=he.useNotification(),N=d||n;r.useEffect((()=>{if(u.current){u.current.style.height="auto";const e=u.current.scrollHeight;u.current.style.height=`${e}px`}}),[v]),r.useEffect((()=>{!p||n||i||C(),f(n)}),[n,i,p]),r.useEffect((()=>{const e=e=>{var t;if(!N&&null!==(t=e.clipboardData)&&void 0!==t&&t.items){let t=!1;for(let n=0;n<e.clipboardData.items.length;n++){const s=e.clipboardData.items[n];if(0===s.type.indexOf("image/")){t=!0;const n=s.getAsFile();if(n&&n.size<=we){e.preventDefault();const t=`pasted-image-${(new Date).getTime()}.png`,r=new File([n],t,{type:n.type}),s={uid:`paste-${Date.now()}`,name:t,status:"done",size:r.size,type:r.type,originFileObj:r};E((e=>[].concat((0,a.A)(e),[s]))),o.Ay.success("Image pasted successfully")}else n&&n.size>we&&o.Ay.error("Pasted image is too large. Maximum size is 5MB.")}"text/plain"!==s.type||t||s.getAsString((t=>{if(t.length>_e){setTimeout((()=>{if(u.current){const e=u.current.value,n=u.current.selectionStart||0,a=u.current.selectionEnd||0,r=e.substring(0,n-t.length)+e.substring(a);u.current.value=r,y(r)}}),0),e.preventDefault();const n=new Blob([t],{type:"text/plain"}),o=new File([n],`pasted-text-${(new Date).getTime()}.txt`,{type:"text/plain"}),s={uid:`paste-${Date.now()}`,name:o.name,status:"done",size:o.size,type:o.type,originFileObj:o};E((e=>[].concat((0,a.A)(e),[s]))),_.info({message:r.createElement("span",{className:"text-sm"},"Large Text Converted to File"),description:r.createElement("span",{className:"text-sm text-secondary"},"Your pasted text has been attached as a file."),duration:3})}}))}}};return document.addEventListener("paste",e),()=>{document.removeEventListener("paste",e)}}),[N,_]);const C=()=>{u.current&&(u.current.value="",u.current.style.height="64px",y(""),E([]))},A=()=>{var e;if((null!==(e=u.current)&&void 0!==e&&e.value||b.length>0)&&!N){var n;const e=(null===(n=u.current)||void 0===n?void 0:n.value)||"",a=b.filter((e=>e.originFileObj)).map((e=>e.originFileObj));t(e,a)}},S={name:"file",multiple:!0,fileList:b,beforeUpload:e=>{if(e.size>we)return o.Ay.error(`${e.name} is too large. Maximum size is 5MB.`),fe.A.LIST_IGNORE;if(!xe.includes(e.type))return _.warning({message:r.createElement("span",{className:"text-sm"},"Unsupported File Type"),description:r.createElement("span",{className:"text-sm text-secondary"},"Please upload only text (.txt) or images (.jpg, .png, .gif, .svg) files."),showProgress:!0,duration:8.5}),fe.A.LIST_IGNORE;const t={uid:e.uid,name:e.name,status:"done",size:e.size,type:e.type,originFileObj:e};return E((e=>[].concat((0,a.A)(e),[t]))),!1},onRemove:e=>{E(b.filter((t=>t.uid!==e.uid)))},showUploadList:!1,customRequest:e=>{let{onSuccess:t}=e;t&&t("ok")}};return r.createElement("div",{className:"mt-2 w-full"},k,b.length>0&&r.createElement("div",{className:"-mb-2 mx-1 bg-tertiary rounded-t border-b-0 p-2 flex bodrder flex-wrap gap-2"},b.map((e=>r.createElement("div",{key:e.uid,className:"flex items-center gap-1 bg-secondary rounded px-2 py-1 text-xs"},(e=>(e.type||"").startsWith("image/")?r.createElement(ve.A,{className:"w-4 h-4"}):r.createElement(ye.A,{className:"w-4 h-4"}))(e),r.createElement("span",{className:"truncate max-w-[150px]"},(0,c.EJ)(e.name,20)),r.createElement(l.Ay,{type:"text",size:"small",className:"p-0 ml-1 flex items-center justify-center",onClick:()=>E((t=>t.filter((t=>t.uid!==e.uid)))),icon:r.createElement(be.A,{className:"w-3 h-3"})}))))),r.createElement("div",{className:`mt-2 rounded shadow-sm flex mb-1 transition-all duration-200 ${w?"ring-2 ring-blue-400":""} ${N?"opacity-50":""}`,onDragOver:e=>{e.preventDefault(),e.stopPropagation(),N||x(!0)},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),x(!1)},onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),x(!1),N)return;Array.from(e.dataTransfer.files).forEach((e=>{if(e.size>we)return void o.Ay.error(`${e.name} is too large. Maximum size is 5MB.`);if(!xe.includes(e.type))return void _.warning({message:r.createElement("span",{className:"text-sm"},"Unsupported File Type"),description:r.createElement("span",{className:"text-sm text-secondary"},"Please upload only text (.txt) or images (.jpg, .png, .gif, .svg) files."),showProgress:!0,duration:8.5});const t={uid:`file-${Date.now()}-${e.name}`,name:e.name,status:"done",size:e.size,type:e.type,originFileObj:e};E((e=>[].concat((0,a.A)(e),[t])))}))}},r.createElement("form",{className:"flex-1 relative",onSubmit:e=>{e.preventDefault(),A()}},w&&r.createElement("div",{className:"absolute inset-0 bg-blue-100 bg-opacity-60 flex items-center justify-center rounded z-10 pointer-events-none"},r.createElement("div",{className:"text-accent tex-xs   items-center"},r.createElement(Ee.A,{className:"h-4 w-4 mr-2  inline-block"}),r.createElement("span",{className:"text-xs  inline-block"},"Drop files here"))),r.createElement("textarea",{id:"queryInput",name:"queryInput",ref:u,value:v,onChange:e=>{y(e.target.value)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),A())},className:`flex items-center w-full resize-none text-gray-600 rounded ${w?"border-2 border-blue-500 bg-blue-50":"border border-accent bg-white"} p-2 pl-5 pr-16 ${N?"cursor-not-allowed":""}`,style:{maxHeight:"120px",overflowY:"auto",minHeight:"50px",transition:"all 0.2s ease-in-out"},placeholder:w?"Drop files here...":"Type your message here...",disabled:N}),r.createElement("div",{className:"absolute right-3 bottom-2 flex gap-2"},r.createElement("div",{className:"   "+(d||N?"  opacity-50 pointer-events-none ":"")}," ",r.createElement(fe.A,Object.assign({className:"zero-padding-upload  "},S),r.createElement(s.A,{title:r.createElement("span",{className:"text-sm"},"Upload File"," ",r.createElement("span",{className:"text-secondary text-xs"},"(max 5mb)")),placement:"top"},r.createElement(l.Ay,{type:"text",disabled:N,className:" "},r.createElement(Ee.A,{strokeWidth:2,size:26,className:"p-1 inline-block w-8 text-accent"}))))),r.createElement("button",{type:"button",onClick:A,disabled:N||""===v.trim()&&0===b.length,className:"bg-accent transition duration-300 rounded flex justify-center items-center w-11 h-9 "+(N||""===v.trim()&&0===b.length?"cursor-not-allowed opacity-50":"hover:brightness-75")},n?r.createElement(m,{className:"text-white animate-spin rounded-full h-6 w-6"}):r.createElement(g,{className:"h-6 w-6 text-white"}))))),i&&!i.status&&r.createElement("div",{className:"p-2 border rounded mt-4 text-orange-500 text-sm"},r.createElement(h.A,{className:"h-5 text-orange-500 inline-block mr-2"}),i.message))}var Ne=n(2197),Ce=n(9850),Ae=n(2640),Se=n(5731),Me=n(8723),Oe=n(7504),$e=n(4471),Te=n(418),Ie=n(1788);const je=(0,Ie.A)("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);var Re=n(5107);const Le=(0,Ie.A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);var Pe=n(9492),ze=n(2102);const Fe=(0,Ie.A)("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]),De=(0,Ie.A)("PanelRightClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]]);var We=n(1133),Ge=n(8057),Be=n.n(Ge),qe=(n(8280),n(5154));const He=(0,Ie.A)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Ye=(0,Ie.A)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);var Ve=function(e){let{data:t,isConnectable:n}=e;const a=(0,r.useCallback)((()=>{"end"!==t.type&&console.log(`${t.type} ${t.label} clicked`)}),[t.type,t.label]),o=(()=>{const e=t.isActive?"ring-2 ring-accent/50 ":"  ";return"end"===t.type?{wrapper:`relative min-w-[180px] shadow rounded-lg overflow-hidden  ${e}`,border:"complete"===t.status?"var(--accent)":"error"===t.status?"rgb(239 68 68)":"var(--secondary)"}:{wrapper:`min-w-[180px] rounded-lg shadow overflow-hidden ${e}`,border:void 0}})();return r.createElement("div",{className:o.wrapper,onClick:a,style:o.border?{borderColor:o.border}:void 0},r.createElement(We.h7,{type:"target",position:qe.yX.Top,style:{background:"#555"},isConnectable:n,id:"target"}),r.createElement("div",{className:"flex agent-draghandle items-center gap-2 px-3 py-2 bg-secondary border-b border-border"},(()=>{switch(t.type){case"user":return r.createElement(He,{className:"text-primary",size:20});case"agent":return r.createElement(Ae.A,{className:"text-primary",size:20});case"end":return r.createElement(Ye,{className:"text-primary",size:20})}})(),r.createElement("span",{className:"text-sm font-medium text-primary truncate"},t.label)),r.createElement("div",{className:"bg-tertiary px-3 py-2"},"end"===t.type?r.createElement(r.Fragment,null,r.createElement("div",{className:"flex items-center justify-center gap-2"},(()=>{if("end"!==t.type||!t.status)return null;switch(t.status){case"complete":return r.createElement($e.A,{className:"text-accent",size:24});case"error":return r.createElement(Te.A,{className:"text-red-500",size:24});case"stopped":return r.createElement(je,{className:"text-red-500",size:24});default:return null}})(),r.createElement("span",{className:"text-primary text-sm font-medium"},t.status&&t.status.charAt(0).toUpperCase()+t.status.slice(1))),t.reason&&r.createElement("div",{className:"mt-1 text-xs text-secondary max-w-[200px] text-center"},t.reason.length>100?`${t.reason.substring(0,97)}...`:t.reason)):r.createElement(r.Fragment,null,t.agentType&&r.createElement("div",{className:"text-sm text-secondary"},t.agentType),t.description&&r.createElement("div",{className:"text-xs text-secondary mt-1 truncate max-w-[200px]"},t.description))),"end"!==t.type&&r.createElement(We.h7,{type:"source",position:qe.yX.Bottom,id:"source",style:{background:"#555"},isConnectable:n}))};var Ue=n(5625),Je=n(468),Xe=n(73),Ke=n(6043),Ze=n(942),Qe=n(3324);const et=(0,Ie.A)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var tt=n(8635);const nt=(0,Ie.A)("MessageSquareOff",[["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M3.6 3.6c-.4.3-.6.8-.6 1.4v16l4-4h10",key:"pwpm4a"}]]);var at=n(4718);const rt=e=>{let{isFullscreen:t,onToggleFullscreen:n,onResetView:a}=e;const{agentFlow:o,setAgentFlowSettings:c}=(0,Ue.J)(),d=e=>()=>{c({[e]:!o[e]})},u=[{key:"grid",label:"Show Grid",icon:r.createElement(Je.A,{size:16}),onClick:d("showGrid")},{key:"tokens",label:"Show Tokens",icon:r.createElement(Xe.A,{size:16}),onClick:d("showTokens")},{key:"miniMap",label:"Mini Map",icon:r.createElement(Ke.A,{size:16}),onClick:d("showMiniMap")},{type:"divider"},{key:"reset",label:"Reset View",icon:r.createElement(Pe.A,{size:16}),onClick:a,disabled:!a}];return r.createElement("div",{className:"absolute top-2 right-2 bg-secondary bg-opacity-70 hover:bg-secondary rounded backdrop-blur-sm z-50"},r.createElement("div",{className:"p-1 flex items-center gap-1"},r.createElement(s.A,{title:t?"Exit Fullscreen":"Enter Fullscreen"},r.createElement(l.Ay,{type:"text",icon:t?r.createElement(Ze.A,{size:18}):r.createElement(Qe.A,{size:18}),className:"p-1.5 hover:bg-primary/10 rounded-md text-primary/75 hover:text-primary",onClick:n})),r.createElement(s.A,{title:`Switch to ${"TB"===o.direction?"Horizontal":"Vertical"} Layout`},r.createElement(l.Ay,{type:"text",icon:"TB"===o.direction?r.createElement(et,{size:18}):r.createElement(tt.A,{size:18}),className:"p-1.5 hover:bg-primary/10 rounded-md text-primary/75 hover:text-primary",onClick:()=>c({direction:"TB"===o.direction?"LR":"TB"})})),r.createElement(s.A,{title:o.showLabels?"Hide Labels":"Show Labels"},r.createElement(l.Ay,{type:"text",icon:o.showLabels?r.createElement(Oe.A,{size:18}):r.createElement(nt,{size:18}),className:"p-1.5 hover:bg-primary/10 rounded-md text-primary/75 hover:text-primary",onClick:d("showLabels")})),r.createElement(i.A,{menu:{items:u},trigger:["click"],getPopupContainer:e=>e.parentNode,overlayStyle:{zIndex:1e3}},r.createElement(l.Ay,{type:"text",icon:r.createElement(at.A,{size:18}),className:"p-1.5 hover:bg-primary/10 rounded-md text-primary/75 hover:text-primary",title:"More Options"}))))};var ot=n(9957),st=n(6108);const it=(0,Ie.A)("DraftingCompass",[["path",{d:"m12.99 6.74 1.93 3.44",key:"iwagvd"}],["path",{d:"M19.136 12a10 10 0 0 1-14.271 0",key:"ppmlo4"}],["path",{d:"m21 21-2.16-3.84",key:"vylbct"}],["path",{d:"m3 21 8.02-14.26",key:"1ssaw4"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}]]);var lt=n(8686);const ct=(0,Ie.A)("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);var dt=n(8249),ut=n(6813);const mt=e=>e>=1e3?`${(e/1e3).toFixed(1)}k`:e,pt=e=>{var t,n;let{event:a,onClose:o}=e;return r.createElement("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center transition-opacity duration-300",onClick:o},r.createElement("div",{className:"relative bg-primary w-full h-full md:w-4/5 md:h-4/5 md:rounded-lg p-8 overflow-auto",style:{opacity:.95},onClick:e=>e.stopPropagation()},r.createElement(s.A,{title:"Close"},r.createElement("button",{onClick:o,className:"absolute top-4 right-4 p-2 rounded-full bg-tertiary hover:bg-secondary text-primary transition-colors"},r.createElement(be.A,{size:24}))),r.createElement("div",{className:"space-y-4"},r.createElement("div",{className:"flex items-center gap-2 mb-4"},r.createElement(ut.A,{size:20,className:"text-accent"}),r.createElement("h3",{className:"text-lg font-medium"},"LLM Call Details"),r.createElement("h4",{className:"text-sm text-secondary"},a.agent_id.split("/")[0]," • ",a.response.model," •"," ",mt(a.response.usage.total_tokens)," tokens")),r.createElement("div",{className:"space-y-2"},r.createElement("h4",{className:"text-sm font-medium"},"Messages"),a.messages.map(((e,t)=>r.createElement("div",{key:t,className:"p-4 bg-tertiary rounded-lg"},r.createElement("div",{className:"flex justify-between mb-2"},r.createElement("span",{className:"text-xs font-medium uppercase text-secondary"},e.name&&`${e.name}`||e.role," ")),Array.isArray(e.content)?e.content.map(((e,t)=>r.createElement("div",{key:t,className:"text-sm text-secondary"},r.createElement(dt.PA,{content:e,showFullscreen:!1})))):r.createElement(dt.PA,{content:e.content,showFullscreen:!1}))))),a.response.choices&&r.createElement("div",{className:"space-y-2"},r.createElement("h4",{className:"text-sm font-medium"},"Response"),r.createElement("div",{className:"p-4 bg-tertiary rounded-lg"},r.createElement(dt.PA,{content:null===(t=a.response)||void 0===t||null===(n=t.choices[0])||void 0===n?void 0:n.message.content,textThreshold:1e3}))),r.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4"},r.createElement("div",{className:"p-3 bg-tertiary rounded-lg"},r.createElement("div",{className:"text-xs text-secondary mb-1"},"Model"),r.createElement("div",{className:"font-medium"},a.response.model)),r.createElement("div",{className:"p-3 bg-tertiary rounded-lg"},r.createElement("div",{className:"text-xs text-secondary mb-1"},"Prompt Tokens"),r.createElement("div",{className:"font-medium"},a.response.usage.prompt_tokens)),r.createElement("div",{className:"p-3 bg-tertiary rounded-lg"},r.createElement("div",{className:"text-xs text-secondary mb-1"},"Completion Tokens"),r.createElement("div",{className:"font-medium"},a.response.usage.completion_tokens)),r.createElement("div",{className:"p-3 bg-tertiary rounded-lg"},r.createElement("div",{className:"text-xs text-secondary mb-1"},"Total Tokens"),r.createElement("div",{className:"font-medium"},a.response.usage.total_tokens))))))};var gt=e=>{var t;let{content:n}=e;const{0:a,1:o}=(0,r.useState)(!1),i=(0,r.useMemo)((()=>{try{return JSON.parse(n)}catch(e){return console.error("Failed to parse LLM log content:",e),null}}),[n]);if(!i)return r.createElement("div",{className:"flex items-center gap-2 text-red-500 p-2 bg-red-500/10 rounded"},r.createElement(ut.A,{size:16}),r.createElement("span",null,"Invalid log format"));const{messages:l,response:c,agent_id:d}=i,u=(null===(t=l[0])||void 0===t||t.name,c.usage.total_tokens),m=d?`${d.split("/")[0]}`:"";return r.createElement(r.Fragment,null,r.createElement("div",{className:"flex items-center gap-2 py-2   bg-secondary/20 rounded-lg text-sm text-secondary hover:text-primary transition-colors group"},r.createElement(ut.A,{size:14,className:"text-accent"}),r.createElement("span",{className:"flex-1"},m?`${m}`:""," • ",c.model," •"," ",mt(u)," tokens"),r.createElement(s.A,{title:"View details"},r.createElement("button",{onClick:()=>o(!0),className:"p-1 mr-1 hover:bg-secondary rounded-md transition-colors"},r.createElement(Qe.A,{size:14,className:"group-hover:text-accent"})))),a&&r.createElement(pt,{event:i,onClose:()=>o(!1)}))};const ht=e=>{var t,n,a;let{content:o,thumbnail:s=!1}=e;const i=o.filter((e=>"string"==typeof e)),l=o.filter((e=>"object"==typeof e&&null!==e)),c=Math.max(i.length,l.length),{0:d,1:u}=(0,r.useState)(0),m=null!==(t=null!==(n=i[d])&&void 0!==n?n:i[0])&&void 0!==t?t:"",p=null!==(a=l[d])&&void 0!==a?a:l[0];return r.createElement("div",{className:"flex gap-4 items-stretch relative"},r.createElement("div",{className:"flex-1 min-w-0 flex items-start"},m&&r.createElement(dt.PA,{content:m.slice(0,500),className:"break-all"})),r.createElement("div",{className:"flex-1 flex justify-center items-center relative"},p&&r.createElement(dt.wx,{src:(g=p,g.url?g.url:g.data?`data:image/png;base64,${g.data}`:"/api/placeholder/400/320"),alt:p.alt||"Image",className:"rounded border border-secondary max-h-96 w-auto max-w-full object-contain "+(s?"w-24 h-24":"")}),c>1&&r.createElement("div",{className:"absolute bottom-2 right-2 flex gap-2 z-10"},r.createElement("button",{onClick:()=>u((e=>Math.max(0,e-1))),disabled:0===d,className:"bg-white/80 hover:bg-white text-black rounded-full px-2 py-1 shadow","aria-label":"Previous"},"◀"),r.createElement("button",{onClick:()=>u((e=>Math.min(c-1,e+1))),disabled:d>=c-1,className:"bg-white/80 hover:bg-white text-black rounded-full px-2 py-1 shadow","aria-label":"Next"},"▶"))));var g},ft=e=>{let{content:t}=e;const{0:n,1:a}=(0,r.useState)(new Set);return r.createElement("div",{className:"space-y-1"},t.map((e=>{const t=n.has(e.id);return r.createElement("div",{key:e.id,className:"border mt-1 border-secondary bg-secondary rounded hover:bg-tertiary transition-colors"},r.createElement("button",{onClick:()=>{return t=e.id,void a((e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n}));var t},className:"w-full flex items-center gap-2 p-2 text-left hover:bg-secondary/50 transition-colors"},r.createElement(it,{className:"w-4 h-4 text-accent flex-shrink-0"}),r.createElement("span",{className:"font-base text-sm"},"Calling ",e.name," tool"),r.createElement("div",{className:"ml-auto transition-transform duration-200 "+(t?"rotate-180":"rotate-0")},r.createElement(Re.A,{className:"w-4 h-4"}))),t&&r.createElement("div",{className:"border-t border-secondary p-2"},r.createElement(dt.PA,{content:JSON.stringify(e.arguments,null,2),isJson:!0,className:"text-sm bg-secondary p-2 rounded"})))})))},vt=e=>{let{content:t}=e;const{0:n,1:a}=(0,r.useState)(new Set);return r.createElement("div",{className:"space-y-1"},t.map((e=>{const t=n.has(e.call_id);return r.createElement("div",{key:e.call_id,className:"border mt-1 border-secondary bg-secondary rounded hover:bg-tertiary transition-colors"},r.createElement("button",{onClick:()=>{return t=e.call_id,void a((e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n}));var t},className:"w-full flex items-center gap-2 p-2 text-left hover:bg-secondary/50 transition-colors"},r.createElement(it,{className:"w-4 h-4 text-accent flex-shrink-0"}),r.createElement("span",{className:"font-medium text-sm"},"Tool result (ID: ",e.call_id.slice(-8),")"),r.createElement("div",{className:"ml-auto transition-transform duration-200 "+(t?"rotate-180":"rotate-0")},r.createElement(Re.A,{className:"w-4 h-4"}))),t&&r.createElement("div",{className:"border-t border-secondary p-2"},r.createElement(dt.PA,{content:e.content,className:"text-sm bg-secondary p-2 border border-secondary rounded scroll overflow-x-scroll"})))})))},yt={isToolCallContent(e){return!!Array.isArray(e)&&e.every((e=>"object"==typeof e&&null!==e&&"id"in e&&"arguments"in e&&"name"in e))},isNestedMessageContent(e){return!!Array.isArray(e)&&e.every((e=>"object"==typeof e&&null!==e&&"source"in e&&"content"in e&&"type"in e))},isMultiModalContent(e){return!!Array.isArray(e)&&e.every((e=>"string"==typeof e||"object"==typeof e&&null!==e&&("url"in e||"data"in e)))},isFunctionExecutionResult(e){return!!Array.isArray(e)&&e.every((e=>"object"==typeof e&&null!==e&&"call_id"in e&&"content"in e))},isUser(e){return"user"===e},isMessageArray(e){return Array.isArray(e)}},bt=e=>{let{content:t}=e;return r.createElement("div",{className:"space-y-4"},t.map(((e,t)=>r.createElement("div",{key:t,className:""+(t>0?"bordper border-secondary rounded   bg-secondary/30":"")},"string"==typeof e.content?r.createElement(dt.PA,{content:e.content,className:"break-all "+(0===t?"text-base":"text-sm")}):yt.isMultiModalContent(e.content)?r.createElement(ht,{content:e.content,thumbnail:!0}):r.createElement("pre",{className:"text-xs whitespace-pre-wrap overflow-x-auto"},JSON.stringify(e.content,null,2))))))},Et=e=>{let{message:t,isLast:n=!1,className:a=""}=e;if(!t)return null;if(yt.isMessageArray(t))return t.length>0?r.createElement(Et,{message:t[0],isLast:n,className:a}):null;const o=yt.isUser(t.source),s=t.content,i="llm_call_event"===t.source;return r.createElement("div",{className:`relative group ${n?"":"mb-2"} ${a} ${i?"border-accent":""}`},r.createElement("div",{className:`\n        flex items-start gap-2 p-2 rounded\n        ${o?"bg-secondary":"bg-tertiary"}\n        border border-secondary\n        transition-all duration-200\n      `},r.createElement("div",{className:`\n          p-1.5 rounded bg-light \n          ${o?"text-accent":"text-primary"}\n        `},o?r.createElement(lt.A,{size:14}):"llm_call_event"==t.source?r.createElement(ct,{size:14}):r.createElement(Ae.A,{size:14})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center justify-between gap-2"},r.createElement("span",{className:"text-sm font-semibold text-primary truncate flex-1 min-w-0"},t.source),t.models_usage&&r.createElement("span",{className:"text-xs text-secondary flex-shrink-0"},"Tokens:"," ",(t.models_usage.prompt_tokens||0)+(t.models_usage.completion_tokens||0))),r.createElement("div",{className:"text-sm text-secondary"},yt.isToolCallContent(s)?r.createElement(ft,{content:s}):yt.isMultiModalContent(s)?r.createElement(ht,{content:s,thumbnail:!1}):yt.isNestedMessageContent(s)?r.createElement(bt,{content:s}):yt.isFunctionExecutionResult(s)?r.createElement(vt,{content:s}):"llm_call_event"===t.source?r.createElement(gt,{content:String(s)}):r.createElement(dt.PA,{content:String(s),className:"break-all"})))))},{Search:wt}=ot.A,xt=e=>{var t,n;let{open:a,onClose:o,edge:s}=e;const{0:i,1:l}=(0,r.useState)(""),c=(0,r.useMemo)((()=>{var e;return null!=s&&null!==(e=s.data)&&void 0!==e&&e.messages?s.data.messages.reduce(((e,t)=>{var n,a;return e+((null===(n=t.models_usage)||void 0===n?void 0:n.prompt_tokens)||0)+((null===(a=t.models_usage)||void 0===a?void 0:a.completion_tokens)||0)}),0):0}),[null==s||null===(t=s.data)||void 0===t?void 0:t.messages]),d=(0,r.useMemo)((()=>{var e;return null!=s&&null!==(e=s.data)&&void 0!==e&&e.messages?i?s.data.messages.filter((e=>"string"==typeof e.content&&e.content.toLowerCase().includes(i.toLowerCase()))):s.data.messages:[]}),[null==s||null===(n=s.data)||void 0===n?void 0:n.messages,i]);return s?r.createElement(st.A,{title:r.createElement("div",{className:"space-y-2"},r.createElement("div",{className:"font-medium"},s.source," → ",s.target),r.createElement("div",{className:"text-sm text-secondary flex justify-between"},s.data&&r.createElement("span",null,s.data.messages.length," message",""+(s.data.messages.length>1?"s":"")),r.createElement("span",null,c.toLocaleString()," tokens")),s.data&&s.data.messages.length>0&&r.createElement("div",{className:"text-xs py-2 font-normal"}," ","The above represents the number of times the ",`${s.target}`," ","node sent a message"," ",r.createElement("span",{className:"font-semibold underline text-accent"},"after")," ","the ",`${s.source}`," node."," ")),open:a,onCancel:o,width:800,footer:null},r.createElement("div",{className:"max-h-[70vh] overflow-y-auto space-y-4 scroll pr-2"},r.createElement(wt,{placeholder:"Search message content...",value:i,onChange:e=>l(e.target.value),allowClear:!0,className:"sticky top-0 z-10"}),r.createElement("div",{className:"space-y-4 "},d.map(((e,t)=>r.createElement(Et,{key:t,message:e,isLast:t===d.length-1}))),0===d.length&&r.createElement("div",{className:"text-center text-secondary py-8"},"No messages found")))):null},_t={default:{width:170,height:100},end:{width:170,height:80},task:{width:170,height:100}},kt=(e,t,n,a,r,o,s)=>({id:e,type:"agentNode",position:r,data:{type:"agent",label:t,agentType:n,description:a,isActive:o,status:"",reason:"",draggable:!s}}),Nt=(e,t,n)=>({id:"user",type:"agentNode",position:e,data:{type:"user",label:"User",agentType:"user",description:"Human user",isActive:t,status:"",reason:"",draggable:!n}}),Ct=(e,t)=>({id:"end",type:"agentNode",position:e,data:{type:"end",label:"End",status:null==t?void 0:t.status,reason:(null==t?void 0:t.error_message)||"",agentType:"",description:"",isActive:!1,draggable:!1}}),At=function(e,t,n,a){return void 0===a&&(a={}),{id:e,source:t,target:n,type:"custom",animated:a.animated||!1,data:{label:a.label||"",messages:[],routingType:a.routingType},style:{stroke:a.stroke||"#2563eb",strokeWidth:a.strokeWidth||1,strokeDasharray:a.strokeDasharray,opacity:a.opacity||1}}},St=(e,t,n)=>{var a;const r=(null===(a=e.config)||void 0===a?void 0:a.participants)||[],o=[],s=[],i="active"===(null==n?void 0:n.status)||"awaiting_input"===(null==n?void 0:n.status),l=["complete","error","stopped"].includes((null==n?void 0:n.status)||"");if(o.push(Nt({x:0,y:0},t.has("user"),i)),r.forEach(((e,n)=>{var a;const r=(null===(a=e.config)||void 0===a?void 0:a.name)||`agent-${n}`,s=200*(n+1);o.push(kt(r,r,e.label||"",e.description||"",{x:s,y:0},t.has(r),i))})),r.length>0){var c,d;const e=(null===(c=r[0])||void 0===c||null===(d=c.config)||void 0===d?void 0:d.name)||"agent-0";s.push(At("user-to-first","user",e,{animated:t.has(e),stroke:t.has(e)?"#22c55e":"#6b7280",strokeWidth:t.has(e)?2:1,opacity:t.has(e)?1:.5}))}for(let w=0;w<r.length-1;w++){var u,m,p,g;const e=(null===(u=r[w])||void 0===u||null===(m=u.config)||void 0===m?void 0:m.name)||`agent-${w}`,n=(null===(p=r[w+1])||void 0===p||null===(g=p.config)||void 0===g?void 0:g.name)||`agent-${w+1}`,a=t.has(e)&&t.has(n);s.push(At(`${e}-to-${n}`,e,n,{animated:a,stroke:a?"#22c55e":"#6b7280",strokeWidth:a?2:1,opacity:a?1:.5}))}if(r.length>1){var h,f,v,y;const e=(null===(h=r[r.length-1])||void 0===h||null===(f=h.config)||void 0===f?void 0:f.name)||"agent-"+(r.length-1),t=(null===(v=r[0])||void 0===v||null===(y=v.config)||void 0===y?void 0:y.name)||"agent-0";s.push(At(`${e}-loop-to-${t}`,e,t,{stroke:"#6b7280",strokeWidth:1,strokeDasharray:"5,5",opacity:.3,label:"loop"}))}if(l&&r.length>0){var b,E;const e=(null===(b=r[r.length-1])||void 0===b||null===(E=b.config)||void 0===E?void 0:E.name)||"agent-"+(r.length-1),t=200*(r.length+1);o.push(Ct({x:t,y:0},n)),s.push(At(`${e}-to-end`,e,"end",{stroke:"complete"===(null==n?void 0:n.status)?"#22c55e":"#ef4444",strokeWidth:2,label:"ended"}))}return{nodes:o,edges:s}},Mt=350,Ot=150,$t=(e,t,n)=>{var r;const o=(null===(r=e.config)||void 0===r?void 0:r.participants)||[],s=[],i=[],l="active"===(null==n?void 0:n.status)||"awaiting_input"===(null==n?void 0:n.status),c=["complete","error","stopped"].includes((null==n?void 0:n.status)||"");if(s.push(Nt({x:50,y:Ot-_t.default.height/2},t.has("user"),l)),s.push(kt("selector-hub","Selector","Router","Selects best agent for task",{x:Mt-_t.default.width/2,y:Ot-_t.default.height/2},!0,l)),i.push(At("user-to-selector","user","selector-hub",{stroke:"#2563eb",strokeWidth:2,animated:t.size>0})),o.forEach(((e,n)=>{var a;const r=(null===(a=e.config)||void 0===a?void 0:a.name)||`agent-${n}`,c=-Math.PI/3,d=(Math.PI/3-c)/Math.max(1,o.length-1),u=1===o.length?0:c+n*d,m=Mt+200*Math.cos(u),p=Ot+200*Math.sin(u);s.push(kt(r,r,e.label||"",e.description||"",{x:m-_t.default.width/2,y:p-_t.default.height/2},t.has(r),l));const g=t.has(r);i.push(At(`selector-to-${r}`,"selector-hub",r,{animated:g,stroke:g?"#22c55e":"#6b7280",strokeWidth:g?2:1,opacity:g?1:.4})),i.push(At(`${r}-to-selector`,r,"selector-hub",{stroke:g?"#f59e0b":"#6b7280",strokeWidth:1,strokeDasharray:"5,5",opacity:g?.7:.2,routingType:"secondary"}))})),c){s.push(Ct({x:650,y:Ot-_t.end.height/2},n));const e=(0,a.A)(t).filter((e=>"user"!==e&&"selector-hub"!==e)).pop();e?i.push(At(`${e}-to-end`,e,"end",{stroke:"complete"===(null==n?void 0:n.status)?"#22c55e":"#ef4444",strokeWidth:2,label:"ended"})):i.push(At("selector-to-end","selector-hub","end",{stroke:"complete"===(null==n?void 0:n.status)?"#22c55e":"#ef4444",strokeWidth:2,label:"ended"}))}return{nodes:s,edges:i}},Tt=350,It=150,jt=(e,t,n)=>{var r,o;const s=(null===(r=e.config)||void 0===r?void 0:r.participants)||[],i=[],l=[],c="active"===(null==n?void 0:n.status)||"awaiting_input"===(null==n?void 0:n.status),d=["complete","error","stopped"].includes((null==n?void 0:n.status)||""),u=s.findIndex((e=>{var t,n;return null===(t=e.config)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes("triage")})),m=u>=0?u:0,p=s[m],g=(null==p||null===(o=p.config)||void 0===o?void 0:o.name)||"triage",h=s.filter(((e,t)=>t!==m));if(i.push(Nt({x:50,y:It-_t.default.height/2},t.has("user"),c)),i.push(kt(g,g,(null==p?void 0:p.label)||"Triage",(null==p?void 0:p.description)||"Routes tasks to specialists",{x:Tt-_t.default.width/2,y:It-_t.default.height/2},t.has(g),c)),l.push(At("user-to-triage","user",g,{stroke:"#2563eb",strokeWidth:2,animated:t.has(g)})),h.forEach(((e,n)=>{var a;const r=(null===(a=e.config)||void 0===a?void 0:a.name)||`agent-${n}`,o=-Math.PI/3,s=Math.PI/3,d=1===h.length?0:(s-o)/(h.length-1),u=1===h.length?0:o+n*d,m=Tt+200*Math.cos(u),p=It+200*Math.sin(u);i.push(kt(r,r,e.label||"",e.description||"",{x:m-_t.default.width/2,y:p-_t.default.height/2},t.has(r),c));const f=t.has(r);l.push(At(`${g}-to-${r}`,g,r,{animated:f,stroke:f?"#22c55e":"#6b7280",strokeWidth:f?2:1,opacity:f?1:.4,label:f?"handoff":""})),l.push(At(`${r}-to-${g}`,r,g,{stroke:f?"#f59e0b":"#6b7280",strokeWidth:1,strokeDasharray:"5,5",opacity:f?.8:.2,routingType:"secondary",label:f?"return":""}))})),h.length>1&&h.forEach(((e,n)=>{h.forEach(((a,r)=>{if(n!==r){var o,s;const i=(null===(o=e.config)||void 0===o?void 0:o.name)||`agent-${n}`,c=(null===(s=a.config)||void 0===s?void 0:s.name)||`agent-${r}`;t.has(i)&&t.has(c)&&l.push(At(`${i}-cross-to-${c}`,i,c,{stroke:"#8b5cf6",strokeWidth:1,strokeDasharray:"3,3",opacity:.5}))}}))})),d){i.push(Ct({x:650,y:It-_t.end.height/2},n));const e=(0,a.A)(t).filter((e=>"user"!==e)).pop();e&&l.push(At(`${e}-to-end`,e,"end",{stroke:"complete"===(null==n?void 0:n.status)?"#22c55e":"#ef4444",strokeWidth:2,label:"ended"}))}return{nodes:i,edges:l}};var Rt=JSON.parse('{"_README":"새 AutoGen provider 추가 시 이 파일만 수정. TypeScript 코드 수정 불필요.","RoundRobinGroupChat":{"full":"autogen_agentchat.teams.RoundRobinGroupChat","category":"sequential","layout":"chain","icon":"ArrowRight","colors":{"primary":"#3b82f6","secondary":"#93c5fd"},"communicationStyle":"turn-based","connections":[{"type":"sequential","from":"agent[i]","to":"agent[i+1]"}],"requiresModelClient":false,"defaultParticipants":{"en":[{"name":"Analyst","description":"Analyzes tasks","systemMessage":"You are an analyst. Break down tasks and create plans."},{"name":"Executor","description":"Executes tasks","systemMessage":"You are an executor. Execute the plan."},{"name":"Reviewer","description":"Reviews results","systemMessage":"You are a reviewer. Review results and say TERMINATE when done."}],"ko":[{"name":"Analyst","description":"작업 분석 담당","systemMessage":"당신은 분석가입니다. 작업을 분석하고 계획을 세우세요."},{"name":"Executor","description":"실행 담당","systemMessage":"당신은 실행자입니다. 계획을 실행하세요."},{"name":"Reviewer","description":"검토 담당","systemMessage":"당신은 검토자입니다. 결과를 검토하고 완료되면 TERMINATE라고 하세요."}]}},"SelectorGroupChat":{"full":"autogen_agentchat.teams.SelectorGroupChat","category":"dynamic","layout":"hub-spoke","icon":"GitBranch","colors":{"primary":"#8b5cf6","secondary":"#c4b5fd"},"communicationStyle":"request-response","connections":[{"type":"selective","from":"selector","to":"all"},{"type":"return","from":"all","to":"selector"}],"requiresModelClient":true,"defaultParticipants":{"en":[{"name":"Coordinator","description":"Coordinates tasks","systemMessage":"You are a coordinator. Answer general questions and coordinate."},{"name":"Specialist_A","description":"Specialist A","systemMessage":"You are Specialist A. Answer questions in your domain."},{"name":"Specialist_B","description":"Specialist B","systemMessage":"You are Specialist B. Answer questions in your domain."}],"ko":[{"name":"Coordinator","description":"조율 담당","systemMessage":"당신은 코디네이터입니다. 일반적인 질문에 답하고 대화를 조율하세요."},{"name":"Specialist_A","description":"전문가 A","systemMessage":"당신은 전문가 A입니다. 전문 분야에 대해 답하세요."},{"name":"Specialist_B","description":"전문가 B","systemMessage":"당신은 전문가 B입니다. 전문 분야에 대해 답하세요."}]}},"Swarm":{"full":"autogen_agentchat.teams.Swarm","category":"dynamic","layout":"mesh","icon":"Share2","colors":{"primary":"#f59e0b","secondary":"#fcd34d"},"communicationStyle":"event-driven","connections":[{"type":"handoff","from":"all","to":"all"}],"requiresModelClient":false,"defaultParticipants":{"en":[{"name":"Triage","description":"Initial triage","systemMessage":"You are the triage agent. Route requests to appropriate specialists."},{"name":"Worker_A","description":"Worker A","systemMessage":"You are Worker A. Complete assigned tasks."},{"name":"Worker_B","description":"Worker B","systemMessage":"You are Worker B. Complete assigned tasks."}],"ko":[{"name":"Triage","description":"초기 분류 담당","systemMessage":"당신은 트리아지 에이전트입니다. 요청을 분석하고 적절한 에이전트에게 전달하세요."},{"name":"Worker_A","description":"작업자 A","systemMessage":"당신은 작업자 A입니다. 할당된 작업을 수행하세요."},{"name":"Worker_B","description":"작업자 B","systemMessage":"당신은 작업자 B입니다. 할당된 작업을 수행하세요."}]}},"MagenticOneGroupChat":{"full":"autogen_ext.teams.MagenticOneGroupChat","category":"hierarchical","layout":"tree","icon":"GitMerge","colors":{"primary":"#14b8a6","secondary":"#5eead4"},"communicationStyle":"broadcast","connections":[{"type":"broadcast","from":"orchestrator","to":"all"},{"type":"return","from":"all","to":"orchestrator"}],"requiresModelClient":true,"defaultParticipants":{"en":[{"name":"Orchestrator","description":"Task orchestrator","systemMessage":"You are the orchestrator. Analyze tasks and delegate to appropriate agents."},{"name":"WebSurfer","description":"Web browsing agent","systemMessage":"You are a web surfer. Search and browse the web for information."},{"name":"FileSurfer","description":"File navigation agent","systemMessage":"You are a file surfer. Navigate and read file systems."},{"name":"Coder","description":"Code writing agent","systemMessage":"You are a coder. Write and analyze code."}],"ko":[{"name":"Orchestrator","description":"작업 오케스트레이터","systemMessage":"당신은 오케스트레이터입니다. 작업을 분석하고 적절한 에이전트에게 위임하세요."},{"name":"WebSurfer","description":"웹 검색 담당","systemMessage":"당신은 웹 서퍼입니다. 웹에서 정보를 검색하세요."},{"name":"FileSurfer","description":"파일 탐색 담당","systemMessage":"당신은 파일 서퍼입니다. 파일 시스템을 탐색하세요."},{"name":"Coder","description":"코드 작성 담당","systemMessage":"당신은 코더입니다. 코드를 작성하고 분석하세요."}]}}}'),Lt=JSON.parse('{"id":"sequential","name":{"en":"Sequential Orchestration","ko":"순차적 오케스트레이션"},"description":{"en":"Chains AI agents in a predefined, linear order. Each agent processes the output from the previous agent, creating a pipeline of specialized transformations.","ko":"에이전트를 미리 정의된 선형 순서로 연결합니다. 각 에이전트는 이전 에이전트의 출력을 처리하여 전문화된 변환 파이프라인을 만듭니다."},"diagram":"Agent A → Agent B → Agent C → Result","complexity":"low","when_to_use":["명확한 선형 의존성이 있는 다단계 프로세스","각 단계가 이전 단계를 기반으로 하는 데이터 변환 파이프라인","병렬화할 수 없는 워크플로우 단계","점진적 개선 (초안 → 검토 → 수정)"],"when_to_avoid":["병렬로 실행 가능한 독립적인 단계가 있을 때","한 에이전트가 처리할 수 있는 단계가 적을 때","역추적이나 반복이 필요한 워크플로우","중간 결과에 따른 동적 라우팅이 필요할 때"],"pros":["구현이 간단하고 이해하기 쉬움","디버깅과 모니터링이 용이","예측 가능한 실행 흐름","컨텍스트 전달이 명확"],"cons":["병목 현상 발생 가능","한 에이전트 실패 시 전체 파이프라인 중단","유연성이 낮음","복잡한 분기 로직 구현 어려움"],"example_use_cases":[{"name":"법률 계약서 생성","flow":"템플릿 선택 → 조항 커스터마이징 → 규정 준수 검토 → 위험 평가"},{"name":"콘텐츠 작성","flow":"리서치 → 초안 작성 → 편집 → 최종 검토"},{"name":"데이터 분석","flow":"데이터 수집 → 전처리 → 분석 → 시각화"}],"autogen_implementation":{"provider":"autogen_agentchat.teams.RoundRobinGroupChat","label":"Sequential Team (순차적 협업)","team_config":{"participants":[{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"researcher","description":"리서치 담당 - 정보 수집 및 조사","system_message":"당신은 리서처입니다. 주어진 주제에 대해 조사하고 핵심 정보를 수집하세요."}},{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"writer","description":"작가 담당 - 콘텐츠 작성","system_message":"당신은 작가입니다. 리서처가 수집한 정보를 바탕으로 글을 작성하세요."}},{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"reviewer","description":"리뷰어 담당 - 검토 및 피드백","system_message":"당신은 리뷰어입니다. 작성된 글을 검토하세요. 완료되면 TERMINATE라고 말하세요."}}],"termination_condition":{"provider":"autogen_agentchat.conditions.MaxMessageTermination","component_type":"termination","config":{"max_messages":10}}}},"references":[{"title":"Microsoft AI Agent Design Patterns","url":"https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/ai-agent-design-patterns"}]}'),Pt=JSON.parse('{"id":"concurrent","name":{"en":"Concurrent Orchestration","ko":"병렬 오케스트레이션"},"description":{"en":"Runs multiple AI agents simultaneously on the same task. Each agent provides independent analysis from its unique perspective or specialization.","ko":"동일한 작업에 대해 여러 AI 에이전트를 동시에 실행합니다. 각 에이전트는 고유한 관점이나 전문성에서 독립적인 분석을 제공합니다."},"diagram":"        ┌→ Agent A ─┐\\nInput ──┼→ Agent B ─┼→ Aggregator → Result\\n        └→ Agent C ─┘","complexity":"medium","when_to_use":["고정/동적 에이전트 선택으로 병렬 실행 가능한 작업","여러 관점이 필요한 문제 (기술적, 비즈니스, 창의적)","병렬 처리로 지연 시간을 줄여야 하는 시간 민감한 시나리오","앙상블 추론, 브레인스토밍, 투표 기반 결정"],"when_to_avoid":["에이전트가 특정 순서로 누적 컨텍스트가 필요할 때","결정론적, 재현 가능한 결과가 필요할 때","리소스 제약으로 병렬 처리가 비효율적일 때","상충되는 결과에 대한 충돌 해결 전략이 없을 때"],"pros":["처리 시간 단축","다양한 관점 확보","단일 에이전트 실패에 강건함","앙상블 효과로 정확도 향상"],"cons":["리소스 소비 증가","결과 통합 로직 필요","상충되는 의견 해결 메커니즘 필요","동기화 오버헤드"],"example_use_cases":[{"name":"주식 평가","agents":["기본적 분석","기술적 분석","감성 분석","ESG 분석"],"aggregation":"종합 투자 추천"},{"name":"제품 리뷰 분석","agents":["품질 분석","가격 분석","사용성 분석"],"aggregation":"종합 평가"}],"autogen_implementation":{"provider":"custom_parallel_executor","note":"AutoGen에서는 asyncio를 사용한 커스텀 구현 필요","config_template":{"agents":["analyst_1","analyst_2","analyst_3"],"aggregator":"aggregator_agent","aggregation_strategy":"weighted_voting"}},"aggregation_strategies":[{"name":"majority_voting","description":"다수결로 최종 결과 결정"},{"name":"weighted_average","description":"가중 평균으로 결과 통합"},{"name":"llm_synthesis","description":"LLM이 모든 결과를 종합하여 최종 답변 생성"}],"visual_override":{"layout":"fork-join","category":"parallel","icon":"Split","primaryColor":"#22c55e","secondaryColor":"#86efac","edgeStyle":"solid"},"references":[{"title":"Microsoft AI Agent Design Patterns","url":"https://learn.microsoft.com/en-us/azure/architecture/ai-ml/guide/ai-agent-design-patterns"}]}'),zt=JSON.parse('{"id":"selector","name":{"en":"Selector/Router Orchestration","ko":"선택자/라우터 오케스트레이션"},"description":{"en":"A central selector agent analyzes the task and routes it to the most appropriate specialist agent. The selector uses context and agent descriptions to make routing decisions.","ko":"중앙 선택자 에이전트가 작업을 분석하고 가장 적합한 전문 에이전트에게 라우팅합니다. 선택자는 컨텍스트와 에이전트 설명을 사용하여 라우팅 결정을 내립니다."},"diagram":"              ┌→ Expert A\\nInput → Selector ┼→ Expert B → Result\\n              └→ Expert C","complexity":"medium","when_to_use":["다양한 전문 분야의 에이전트가 있을 때","작업 유형에 따라 다른 에이전트가 필요할 때","동적 라우팅이 필요할 때","사용자 질문의 의도를 파악해야 할 때"],"when_to_avoid":["모든 작업이 동일한 에이전트로 처리될 때","라우팅 로직이 단순하고 규칙 기반일 때","선택자의 오판이 심각한 결과를 초래할 때"],"pros":["효율적인 리소스 사용","전문성에 기반한 작업 분배","확장성 (새 에이전트 추가 용이)","유연한 워크플로우"],"cons":["선택자의 정확도에 의존","선택자 자체가 병목이 될 수 있음","잘못된 라우팅 시 성능 저하","selector_prompt 설계가 중요"],"example_use_cases":[{"name":"고객 서비스 봇","selector":"의도 분류기","experts":["결제 문의","기술 지원","제품 정보","불만 처리"]},{"name":"연구 어시스턴트","selector":"주제 분류기","experts":["역사 전문가","과학 전문가","문학 전문가","수학 전문가"]}],"autogen_implementation":{"provider":"autogen_agentchat.teams.SelectorGroupChat","label":"Selector Team (전문가 라우팅)","team_config":{"participants":[{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"coordinator","description":"일반적인 질문 및 조율 담당","system_message":"당신은 코디네이터입니다. 전문가가 없는 일반적인 질문에 답하고, 대화를 조율하세요."}},{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"history_expert","description":"역사 관련 질문 전문가","system_message":"당신은 역사 전문가입니다. 역사 관련 질문에 정확하고 상세하게 답변하세요."}},{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"science_expert","description":"과학 관련 질문 전문가","system_message":"당신은 과학 전문가입니다. 과학 관련 질문에 정확하고 상세하게 답변하세요."}},{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"math_expert","description":"수학 문제 해결 전문가","system_message":"당신은 수학 전문가입니다. 수학 문제를 단계별로 풀어서 설명하세요."}}],"selector_prompt":"다음 역할들이 있습니다: {roles}\\n\\n대화 내용을 읽고 다음 발언에 가장 적합한 역할을 선택하세요:\\n- 역사 관련: history_expert\\n- 과학 관련: science_expert\\n- 수학 관련: math_expert\\n- 기타: coordinator\\n\\n{history}\\n\\n역할 이름만 반환하세요."}},"best_practices":["selector_prompt에 각 에이전트의 역할을 명확히 기술","에이전트 description을 상세하게 작성","폴백 에이전트 지정","선택 로그 기록으로 성능 모니터링"],"visual_override":{"layout":"hub-spoke","category":"dynamic","icon":"Share2","primaryColor":"#8b5cf6","secondaryColor":"#c4b5fd","centerNodeType":"selector","edgeStyle":"dashed"},"references":[{"title":"AutoGen SelectorGroupChat","url":"https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/selector-group-chat.html"}]}'),Ft=JSON.parse('{"id":"group_chat","name":{"en":"Group Chat Orchestration","ko":"그룹 채팅 오케스트레이션"},"description":{"en":"Multiple agents engage in a free-form discussion, building on each other\'s contributions. A manager or model decides who speaks next based on conversation context.","ko":"여러 에이전트가 자유 형식의 토론에 참여하여 서로의 기여를 바탕으로 발전시킵니다. 관리자 또는 모델이 대화 컨텍스트를 기반으로 다음 발언자를 결정합니다."},"diagram":"           ┌─────────────────────┐\\n           │   Group Manager     │\\n           │  (Speaker Selection)│\\n           └──────────┬──────────┘\\n                      │\\n    ┌─────────────────┼─────────────────┐\\n    │                 │                 │\\n Agent A ←───────→ Agent B ←───────→ Agent C\\n    │                 │                 │\\n    └─────────────────┴─────────────────┘","complexity":"high","when_to_use":["복잡한 문제에 대한 다각도 토론이 필요할 때","브레인스토밍과 아이디어 발전이 필요할 때","여러 전문가의 의견 교환이 필요할 때","합의 도출이 필요한 의사결정","창의적 문제 해결"],"when_to_avoid":["명확한 단계별 처리가 필요할 때","빠른 응답이 필요한 실시간 시스템","대화 비용을 최소화해야 할 때","결과의 일관성이 중요할 때"],"pros":["풍부한 다각도 분석","창의적 솔루션 도출","전문가 간 시너지 효과","복잡한 문제에 대한 깊은 탐구"],"cons":["토큰 소비량이 많음","수렴하지 않을 수 있음","실행 시간이 길어질 수 있음","관리 로직이 복잡함"],"example_use_cases":[{"name":"제품 기획 회의","agents":["PM","디자이너","개발자","마케터"],"goal":"신제품 기능 정의 및 우선순위 결정"},{"name":"연구 논문 검토","agents":["방법론 전문가","도메인 전문가","통계 전문가"],"goal":"논문의 장단점 분석 및 개선점 도출"}],"autogen_implementation":{"provider":"autogen_agentchat.teams.SelectorGroupChat","config_template":{"participants":[{"name":"pm_agent","type":"AssistantAgent","description":"제품 관리 및 요구사항 정의 전문가"},{"name":"developer_agent","type":"AssistantAgent","description":"기술 구현 및 아키텍처 전문가"},{"name":"designer_agent","type":"AssistantAgent","description":"UX/UI 디자인 전문가"}],"model_client":{"model":"gpt-4o"},"selector_prompt":"다음 참가자들이 토론 중입니다: {roles}\\n\\n대화 기록:\\n{history}\\n\\n다음으로 발언할 가장 적합한 참가자를 선택하세요. 이전 발언에 대해 전문적 관점을 추가할 수 있는 사람을 우선하세요.","allow_repeated_speaker":true,"max_turns":10}},"speaker_selection_methods":[{"name":"auto","description":"LLM이 자동으로 다음 발언자 선택"},{"name":"round_robin","description":"순차적으로 발언 기회 부여"},{"name":"random","description":"무작위로 발언자 선택"},{"name":"manual","description":"사용자가 직접 발언자 지정"}],"best_practices":["max_turns 또는 종료 조건 설정으로 무한 루프 방지","각 에이전트의 역할과 전문성 명확히 정의","토론 목표와 결론 도출 방법 사전 정의","필요시 중재자/정리자 에이전트 추가"],"references":[{"title":"AutoGen GroupChat Documentation","url":"https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/selector-group-chat.html"}]}'),Dt=JSON.parse('{"id":"handoff","name":{"en":"Handoff Orchestration","ko":"핸드오프 오케스트레이션"},"description":{"en":"Agents dynamically transfer control to other agents based on task requirements. Each agent decides when and to whom to delegate, enabling flexible workflow transitions.","ko":"에이전트가 작업 요구사항에 따라 다른 에이전트에게 동적으로 제어권을 이전합니다. 각 에이전트가 언제, 누구에게 위임할지 결정하여 유연한 워크플로우 전환을 가능하게 합니다."},"diagram":"User ──→ Triage Agent ──┬──→ Sales Agent\\n                        ├──→ Support Agent ──→ Refund Agent\\n                        └──→ FAQ Agent","complexity":"medium-high","when_to_use":["작업 흐름이 동적으로 결정되어야 할 때","에이전트가 자율적으로 위임 결정을 내려야 할 때","고객 서비스와 같은 복잡한 라우팅이 필요할 때","에스컬레이션 패턴이 필요할 때","작업 완료 후 원래 에이전트로 돌아가야 할 때"],"when_to_avoid":["고정된 순서의 워크플로우","핸드오프 결정이 복잡하고 오류 가능성이 높을 때","에이전트 간 의존성이 명확하지 않을 때"],"pros":["높은 유연성과 적응성","복잡한 워크플로우 처리 가능","에이전트별 전문성 활용","동적 에스컬레이션 지원"],"cons":["핸드오프 로직 설계가 복잡","무한 루프 발생 가능성","디버깅이 어려울 수 있음","컨텍스트 손실 위험"],"example_use_cases":[{"name":"고객 서비스 센터","flow":"접수 → 분류 → 전문 상담원 → 필요시 관리자 에스컬레이션"},{"name":"기술 지원","flow":"기본 진단 → 레벨1 지원 → 레벨2 지원 → 개발팀 에스컬레이션"},{"name":"여행 예약","flow":"접수 → 항공 에이전트 → 호텔 에이전트 → 결제 에이전트"}],"autogen_implementation":{"provider":"autogen_agentchat.teams.Swarm","label":"Handoff Team (고객 서비스)","team_config":{"participants":[{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"triage_agent","description":"고객 문의 분류","system_message":"당신은 고객 문의 분류 담당입니다. 문의 유형을 파악하고 적절한 담당자에게 전달하세요.","handoffs":["support_agent","sales_agent","refund_agent"]}},{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"support_agent","description":"기술 지원","system_message":"당신은 기술 지원 담당입니다. 기술적인 문제를 해결하세요.","handoffs":["triage_agent"]}},{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"sales_agent","description":"영업 담당","system_message":"당신은 영업 담당입니다. 제품 문의와 구매 관련 질문에 답하세요.","handoffs":["triage_agent"]}},{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"refund_agent","description":"환불 담당","system_message":"당신은 환불 담당입니다. 환불 요청을 처리하세요.","handoffs":["triage_agent"]}}]}},"handoff_patterns":[{"name":"explicit_handoff","description":"에이전트가 명시적으로 다른 에이전트를 호출"},{"name":"conditional_handoff","description":"조건에 따라 자동 핸드오프"},{"name":"return_handoff","description":"작업 완료 후 원래 에이전트로 복귀"}],"best_practices":["핸드오프 가능한 에이전트 목록 명확히 정의","무한 루프 방지를 위한 최대 핸드오프 횟수 설정","컨텍스트 전달 시 필수 정보 명시","핸드오프 로깅으로 추적 가능성 확보"],"visual_override":{"layout":"mesh","category":"dynamic","icon":"GitBranch","primaryColor":"#10b981","secondaryColor":"#6ee7b7","centerNodeType":"triage","bidirectional":true,"edgeStyle":"animated"},"references":[{"title":"AutoGen Swarm Documentation","url":"https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/swarm.html"},{"title":"OpenAI Swarm Framework","url":"https://github.com/openai/swarm"}]}'),Wt=JSON.parse('{"id":"magentic","name":{"en":"Magentic-One (Dynamic Task Ledger)","ko":"마제닉원 (동적 작업 원장)"},"description":{"en":"A sophisticated multi-agent system with a central Orchestrator that maintains a dynamic task ledger. The orchestrator plans, delegates to specialized agents, tracks progress, and adapts the plan based on results.","ko":"중앙 오케스트레이터가 동적 작업 원장을 유지하는 정교한 멀티 에이전트 시스템입니다. 오케스트레이터가 계획을 세우고, 전문 에이전트에게 위임하며, 진행 상황을 추적하고, 결과에 따라 계획을 조정합니다."},"diagram":"                    ┌─────────────────────┐\\n                    │    Orchestrator     │\\n                    │  ┌───────────────┐  │\\n                    │  │ Task Ledger   │  │\\n                    │  │ - Plan        │  │\\n                    │  │ - Progress    │  │\\n                    │  │ - Facts       │  │\\n                    │  └───────────────┘  │\\n                    └──────────┬──────────┘\\n           ┌───────────────────┼───────────────────┐\\n           │                   │                   │\\n    ┌──────┴──────┐     ┌──────┴──────┐     ┌──────┴──────┐\\n    │ WebSurfer   │     │   Coder     │     │ FileSurfer  │\\n    └─────────────┘     └─────────────┘     └─────────────┘","complexity":"very-high","when_to_use":["복잡한 다단계 작업 해결","웹 브라우징, 코딩, 파일 처리 등 다양한 능력이 필요할 때","작업 진행 중 계획 수정이 필요할 때","자율적 문제 해결이 필요한 벤치마크","복잡한 연구나 분석 작업"],"when_to_avoid":["단순하고 명확한 작업","실시간 응답이 필요한 경우","리소스 제약이 있는 환경","높은 정확도가 필요한 규제 환경"],"pros":["복잡한 작업의 자율적 수행","동적 계획 조정 능력","다양한 도구와 능력 통합","진행 상황 추적 및 오류 복구"],"cons":["높은 토큰 비용","복잡한 구현","예측 불가능한 실행 경로","디버깅 어려움"],"core_components":{"orchestrator":{"role":"작업 계획 수립, 에이전트 조율, 진행 추적","maintains":["task_ledger","progress_ledger","facts_ledger"]},"specialized_agents":[{"name":"WebSurfer","capability":"웹 브라우징 및 정보 검색"},{"name":"Coder","capability":"코드 작성 및 실행"},{"name":"FileSurfer","capability":"파일 시스템 탐색 및 처리"},{"name":"ComputerTerminal","capability":"터미널 명령 실행"}]},"task_ledger_structure":{"plan":"현재 작업 계획 및 단계","progress":"완료된 작업 및 현재 상태","facts":"수집된 정보 및 발견 사항","next_action":"다음 수행할 작업"},"example_use_cases":[{"name":"시장 조사 보고서 작성","steps":["웹 검색","데이터 수집","분석","보고서 작성"]},{"name":"소프트웨어 버그 수정","steps":["코드 분석","버그 식별","수정 코드 작성","테스트"]}],"autogen_implementation":{"provider":"autogen_ext.teams.MagenticOneGroupChat","note":"AutoGen 확장 패키지에서 제공","config_template":{"participants":["orchestrator","web_surfer","coder","file_surfer"],"model_client":{"model":"gpt-4o"},"max_rounds":30}},"best_practices":["명확한 최종 목표 설정","각 전문 에이전트의 능력 범위 정의","최대 라운드 수 제한으로 비용 관리","중간 결과 로깅"],"visual_override":{"layout":"tree","category":"hierarchical","icon":"Network","primaryColor":"#ec4899","secondaryColor":"#f9a8d4","centerNodeType":"supervisor","edgeStyle":"solid"},"references":[{"title":"Magentic-One: A Generalist Multi-Agent System","url":"https://www.microsoft.com/en-us/research/articles/magentic-one-a-generalist-multi-agent-system-for-solving-complex-tasks/"},{"title":"Microsoft Research Paper","url":"https://arxiv.org/abs/2411.04468"}]}'),Gt=JSON.parse('{"id":"debate","name":{"en":"Multi-Agent Debate","ko":"멀티 에이전트 토론"},"description":{"en":"Multiple agents with different perspectives or roles engage in structured debate. They challenge each other\'s reasoning, leading to more robust conclusions through adversarial collaboration.","ko":"서로 다른 관점이나 역할을 가진 여러 에이전트가 구조화된 토론에 참여합니다. 서로의 추론에 도전하여 적대적 협력을 통해 더 강건한 결론에 도달합니다."},"diagram":"Round 1:  Agent A ←──debate──→ Agent B\\n              ↓                    ↓\\nRound 2:  Agent A ←──debate──→ Agent B\\n              ↓                    ↓\\nRound N:       └────→ Judge ←────┘\\n                        ↓\\n                   Final Verdict","complexity":"high","when_to_use":["복잡한 결정에 대한 다각도 검토가 필요할 때","편향을 줄이고 균형 잡힌 분석이 필요할 때","찬반 논증이 필요한 의사결정","창의적 아이디어의 강도를 테스트할 때","정책 분석이나 윤리적 판단"],"when_to_avoid":["명확한 정답이 있는 문제","빠른 응답이 필요할 때","토론이 수렴하지 않을 수 있는 주관적 주제","비용 민감한 애플리케이션"],"pros":["다양한 관점 고려","약점과 반론 식별","더 강건한 결론 도출","편향 감소"],"cons":["높은 토큰 비용","수렴하지 않을 수 있음","시간 소요가 큼","토론 품질이 프롬프트에 의존"],"debate_formats":[{"name":"adversarial","description":"찬성/반대 입장으로 나뉘어 토론","use_case":"정책 분석, 투자 결정"},{"name":"socratic","description":"질문을 통해 논리적 결함 탐색","use_case":"아이디어 검증, 가설 테스트"},{"name":"multi_perspective","description":"여러 이해관계자 관점에서 분석","use_case":"제품 기획, 정책 영향 분석"}],"example_use_cases":[{"name":"투자 결정","agents":{"bull":"긍정적 전망 분석","bear":"부정적 리스크 분석","judge":"최종 투자 추천"}},{"name":"기술 도입 검토","agents":{"advocate":"새 기술의 장점 주장","skeptic":"리스크와 비용 분석","cto":"최종 결정"}}],"autogen_implementation":{"provider":"autogen_agentchat.teams.SelectorGroupChat","label":"Debate Team (찬반 토론)","requiredConfig":{"allow_repeated_speaker":false},"team_config":{"participants":[{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"advocate","description":"제안을 지지하고 장점을 강조","system_message":"당신은 제안의 지지자입니다. 장점과 기회를 강조하고, 반대 의견에 논리적으로 반박하세요."}},{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"critic","description":"비판적 분석과 리스크 지적","system_message":"당신은 비평가입니다. 약점, 리스크, 잠재적 문제를 지적하고, 지지자의 주장에 도전하세요."}},{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"judge","description":"중립적 심판 및 최종 결정","system_message":"당신은 중립적 심판입니다. 양측의 논증을 평가하고 균형 잡힌 최종 판단을 내리세요. 결론이 나면 TERMINATE라고 말하세요."}}],"selector_prompt":"토론 참가자: {roles}\\n\\n토론 규칙:\\n1. advocate와 critic이 번갈아 발언\\n2. 충분한 토론 후 judge가 결론\\n\\n{history}\\n\\n역할 이름만 반환하세요."}},"termination_strategies":[{"name":"round_limit","description":"고정된 라운드 수 후 종료"},{"name":"consensus","description":"합의에 도달하면 종료"},{"name":"judge_decision","description":"심판이 결론을 내리면 종료"}],"best_practices":["각 에이전트에게 명확한 역할과 입장 부여","토론 규칙과 형식 사전 정의","최대 라운드 수 제한","중립적 심판 또는 합의 메커니즘 포함"],"visual_override":{"layout":"ring","category":"dynamic","icon":"RefreshCw","primaryColor":"#f59e0b","secondaryColor":"#fcd34d","showCrossConnections":true,"edgeStyle":"animated"},"references":[{"title":"Improving Factuality and Reasoning in Language Models through Multiagent Debate","url":"https://arxiv.org/abs/2305.14325"},{"title":"Multi-Agent Collaboration Mechanisms Survey","url":"https://arxiv.org/abs/2501.06322"}]}'),Bt=JSON.parse('{"id":"reflection","name":{"en":"Reflection Pattern","ko":"반성/성찰 패턴"},"description":{"en":"An agent generates output, then a critic agent (or the same agent in reflection mode) reviews and provides feedback. The original agent iteratively improves based on the critique.","ko":"에이전트가 출력을 생성한 후, 비평 에이전트(또는 반성 모드의 동일 에이전트)가 검토하고 피드백을 제공합니다. 원래 에이전트는 비평을 바탕으로 반복적으로 개선합니다."},"diagram":"           ┌──────────────────────┐\\n           ↓                      │\\n        Generator ───→ Output ───→ Critic\\n           ↑                      │\\n           └──── Feedback ────────┘\\n                      ↓\\n              (Iterate until satisfied)\\n                      ↓\\n                Final Output","complexity":"medium","when_to_use":["출력 품질을 높여야 할 때","코드 리뷰, 글쓰기 개선 등 반복적 개선이 필요할 때","자기 수정(self-correction) 능력이 필요할 때","오류 검출 및 수정","복잡한 추론의 검증"],"when_to_avoid":["첫 번째 출력이 충분히 좋을 때","반복 비용이 품질 향상보다 클 때","실시간 응답이 필요한 경우","명확한 개선 기준이 없을 때"],"pros":["출력 품질 향상","오류 자동 수정","자기 개선 능력","다양한 관점에서 검토"],"cons":["추가적인 API 호출 비용","수렴하지 않을 수 있음","응답 시간 증가","과도한 수정으로 원래 의도 왜곡 가능"],"reflection_types":[{"name":"self_reflection","description":"동일 에이전트가 자신의 출력을 검토","pros":"단순함, 컨텍스트 유지","cons":"자기 편향 가능"},{"name":"critic_based","description":"별도의 비평 에이전트가 검토","pros":"객관적 피드백","cons":"추가 에이전트 필요"},{"name":"tool_based","description":"외부 도구로 검증 (테스트 실행, 린터 등)","pros":"객관적, 자동화 가능","cons":"도구 의존적"}],"example_use_cases":[{"name":"코드 생성 및 리뷰","flow":"코드 생성 → 린터/테스트 실행 → 오류 수정 → 재검증"},{"name":"에세이 작성","flow":"초안 작성 → 문법/논리 검토 → 수정 → 최종 검토"},{"name":"수학 문제 풀이","flow":"풀이 생성 → 단계별 검증 → 오류 수정"}],"autogen_implementation":{"provider":"autogen_agentchat.teams.RoundRobinGroupChat","label":"Reflection Team (품질 개선)","team_config":{"participants":[{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"generator","description":"콘텐츠 생성 담당","system_message":"주어진 작업을 수행하고 결과를 생성하세요. 비평을 받으면 피드백을 반영하여 개선된 버전을 제공하세요."}},{"provider":"autogen_agentchat.agents.AssistantAgent","component_type":"agent","config":{"name":"critic","description":"품질 검토 및 피드백","system_message":"생성된 결과를 검토하고 구체적인 개선점을 제시하세요. 문제가 없으면 \'APPROVED\'라고 말하세요."}}],"termination_condition":{"provider":"autogen_agentchat.conditions.OrTermination","component_type":"termination","config":{"conditions":[{"provider":"autogen_agentchat.conditions.TextMentionTermination","config":{"text":"APPROVED"}},{"provider":"autogen_agentchat.conditions.MaxMessageTermination","config":{"max_messages":6}}]}}}},"convergence_strategies":[{"name":"approval_signal","description":"비평 에이전트가 승인 신호를 보내면 종료"},{"name":"max_iterations","description":"최대 반복 횟수 후 종료"},{"name":"quality_threshold","description":"품질 점수가 임계값에 도달하면 종료"}],"best_practices":["명확한 종료 조건 설정","구체적인 피드백 요청","최대 반복 횟수 제한","개선 기준 명시"],"visual_override":{"layout":"chain","category":"sequential","icon":"RotateCcw","primaryColor":"#06b6d4","secondaryColor":"#67e8f9","bidirectional":true,"edgeStyle":"animated"},"references":[{"title":"Self-Refine: Iterative Refinement with Self-Feedback","url":"https://arxiv.org/abs/2303.17651"},{"title":"Reflexion: Language Agents with Verbal Reinforcement Learning","url":"https://arxiv.org/abs/2303.11366"}]}'),qt=JSON.parse('{"id":"hierarchical","name":{"en":"Hierarchical Orchestration","ko":"계층적 오케스트레이션"},"description":{"en":"A manager agent coordinates multiple worker agents in a tree-like structure. The manager decomposes complex tasks, delegates to appropriate workers, and synthesizes their outputs.","ko":"관리자 에이전트가 트리 구조로 여러 작업자 에이전트를 조율합니다. 관리자가 복잡한 작업을 분해하고, 적절한 작업자에게 위임하며, 결과를 종합합니다."},"diagram":"                    ┌───────────────┐\\n                    │   CEO Agent   │\\n                    └───────┬───────┘\\n              ┌─────────────┼─────────────┐\\n              ↓             ↓             ↓\\n        ┌─────────┐   ┌─────────┐   ┌─────────┐\\n        │ Manager │   │ Manager │   │ Manager │\\n        │    A    │   │    B    │   │    C    │\\n        └────┬────┘   └────┬────┘   └────┬────┘\\n          ┌──┴──┐       ┌──┴──┐       ┌──┴──┐\\n          ↓     ↓       ↓     ↓       ↓     ↓\\n       Worker Worker Worker Worker Worker Worker","complexity":"high","when_to_use":["대규모 복잡한 프로젝트","명확한 책임 분리가 필요할 때","조직 구조를 모방해야 할 때","작업 분해 및 병렬 처리가 필요할 때","여러 레벨의 추상화가 필요할 때"],"when_to_avoid":["단순하고 작은 작업","평면적 협업이 더 효율적일 때","계층 간 통신 오버헤드가 문제될 때","동적 팀 구성이 필요할 때"],"pros":["명확한 책임 분리","확장성","복잡성 관리","병렬 처리 가능"],"cons":["통신 오버헤드","관리자 병목 가능","설계 복잡성","유연성 제한"],"hierarchy_levels":[{"level":"Strategic","role":"CEO/Executive Agent","responsibility":"전체 목표 설정, 고수준 계획, 최종 결정"},{"level":"Tactical","role":"Manager Agents","responsibility":"하위 작업 분해, 작업자 조율, 중간 결과 통합"},{"level":"Operational","role":"Worker Agents","responsibility":"구체적 작업 수행, 전문 기능 제공"}],"example_use_cases":[{"name":"소프트웨어 개발 프로젝트","structure":{"project_manager":["frontend_lead","backend_lead","qa_lead"],"frontend_lead":["react_dev","css_dev"],"backend_lead":["api_dev","db_dev"],"qa_lead":["tester_1","tester_2"]}},{"name":"연구 프로젝트","structure":{"lead_researcher":["literature_team","experiment_team","analysis_team"]}}],"autogen_implementation":{"provider":"custom_hierarchical_team","note":"AutoGen에서는 중첩된 팀으로 구현","config_template":{"ceo_team":{"provider":"autogen_agentchat.teams.SelectorGroupChat","participants":["ceo","manager_a","manager_b"]},"sub_team_a":{"provider":"autogen_agentchat.teams.RoundRobinGroupChat","participants":["manager_a","worker_a1","worker_a2"]},"sub_team_b":{"provider":"autogen_agentchat.teams.RoundRobinGroupChat","participants":["manager_b","worker_b1","worker_b2"]}}},"communication_patterns":[{"name":"top_down","description":"상위에서 하위로 작업 위임"},{"name":"bottom_up","description":"하위에서 상위로 결과 보고"},{"name":"lateral","description":"동일 레벨 간 협업 (선택적)"}],"best_practices":["각 레벨의 책임 범위 명확히 정의","관리자의 작업 분해 능력 중요","결과 통합 전략 사전 정의","계층 깊이 최소화"],"visual_override":{"layout":"tree","category":"hierarchical","icon":"GitMerge","primaryColor":"#6366f1","secondaryColor":"#a5b4fc","edgeStyle":"solid"},"references":[{"title":"MetaGPT: Meta Programming for Multi-Agent Collaborative Framework","url":"https://arxiv.org/abs/2308.00352"},{"title":"ChatDev: Communicative Agents for Software Development","url":"https://arxiv.org/abs/2307.07924"}]}');const{_README:Ht,...Yt}=Rt,Vt=Yt;function Ut(e){const t=e.split(".");return t[t.length-1]}const Jt=[Lt,Pt,zt,Ft,Dt,Wt,Gt,Bt,qt];function Xt(e,t){if("SelectorGroupChat"===e||"MagenticOneGroupChat"===e){var n;return{...{model_client:{provider:"autogen_ext.models.openai.OpenAIChatCompletionClient",config:{model:"gpt-4o-mini"}},allow_repeated_speaker:!0},...null===(n=t.autogen_implementation)||void 0===n?void 0:n.requiredConfig}}}function Kt(e){var t;const n=null===(t=e.autogen_implementation.team_config)||void 0===t?void 0:t.selector_prompt;return n?{selector:n}:void 0}const Zt=Jt.map((function(e){var t,n,a,r;const o=e.autogen_implementation.provider,s=Ut(o),i=function(e){const t=Ut(e);return Vt[t]}(o),l=(null==i?void 0:i.category)||"sequential",c=(null==i?void 0:i.layout)||"chain",d=(null==i?void 0:i.icon)||"ArrowRight",u=(null==i?void 0:i.colors)||{primary:"#3b82f6",secondary:"#93c5fd"},m=(null==i?void 0:i.communicationStyle)||"turn-based",p=(null==i?void 0:i.connections)||[{type:"sequential",from:"agent[i]",to:"agent[i+1]"}],g=null!==(t=null==i?void 0:i.requiresModelClient)&&void 0!==t&&t,h=e.visual_override||{},f={layout:h.layout||c,centerNodeType:h.centerNodeType,edgeStyle:h.edgeStyle||"solid",bidirectional:null!==(n=h.bidirectional)&&void 0!==n&&n,showCrossConnections:null!==(a=h.showCrossConnections)&&void 0!==a&&a,primaryColor:h.primaryColor||u.primary,secondaryColor:h.secondaryColor||u.secondary,icon:h.icon||d},v=null===(r=e.autogen_implementation.team_config)||void 0===r?void 0:r.participants,y=v?Math.max(2,v.length):2,b=(null==v?void 0:v.map((e=>e.config.name)))||[];return{id:e.id,name:e.name.en,category:h.category||l,description:e.description.en,useCases:e.when_to_use.slice(0,3),structure:{requiresCoordinator:g||"Swarm"===s,coordinatorRole:{SelectorGroupChat:"LLM Selector",Swarm:"Triage Agent",MagenticOneGroupChat:"Orchestrator"}[s],minAgents:y,maxAgents:void 0,agentRoles:b},communication:{style:m,connections:p},visual:f,autogenProvider:s,autogenProviderFull:o,requiredConfig:Xt(s,e),prompts:Kt(e)}})).sort(((e,t)=>e.id.localeCompare(t.id))),Qt={provider:"autogen_ext.models.openai.OpenAIChatCompletionClient",component_type:"model",config:{model:"gpt-4o-mini",temperature:.7}},en={provider:"autogen_agentchat.conditions.TextMentionTermination",component_type:"termination",config:{text:"TERMINATE"}};const tn={};Jt.forEach((e=>{tn[e.id]=function(e){var t;const n=e.autogen_implementation.provider,a=Ut(n),r=e.autogen_implementation.team_config,o={participants:(null==r||null===(t=r.participants)||void 0===t?void 0:t.map((e=>({provider:e.provider,component_type:"agent",config:{name:e.config.name,description:e.config.description,system_message:e.config.system_message,model_client:Qt,...e.config.handoffs?{handoffs:e.config.handoffs}:{}}}))))||[{provider:"autogen_agentchat.agents.AssistantAgent",component_type:"agent",config:{name:"Agent_1",description:"First agent",system_message:"You are a helpful assistant.",model_client:Qt}},{provider:"autogen_agentchat.agents.AssistantAgent",component_type:"agent",config:{name:"Agent_2",description:"Second agent",system_message:"You are a helpful assistant. Say TERMINATE when done.",model_client:Qt}}],termination_condition:en};return"SelectorGroupChat"!==a&&"MagenticOneGroupChat"!==a||(o.model_client=Qt,o.allow_repeated_speaker=!0),null!=r&&r.selector_prompt&&(o.selector_prompt=r.selector_prompt),{provider:n,component_type:"team",config:o}}(e)}));const nn=e=>tn[e];const an={provider:"autogen_agentchat.conditions.MaxMessageTermination",component_type:"termination",config:{max_messages:20}},rn={provider:"autogen_agentchat.conditions.CombinedTermination",component_type:"termination",config:{conditions:[{provider:"autogen_agentchat.conditions.TextMentionTermination",component_type:"termination",config:{text:"TERMINATE"}},an]}},on=function(e,t,n,a){return void 0===a&&(a=Qt),{provider:"autogen_agentchat.agents.AssistantAgent",component_type:"agent",config:{name:e,description:t,system_message:n||`You are ${e}. ${t}`,model_client:a}}},sn=e=>JSON.parse(JSON.stringify(e));const ln=e=>Zt.find((t=>t.id===e)),cn=e=>Zt.find((t=>e.toLowerCase().includes(t.autogenProvider.toLowerCase()))),dn=450,un=280,mn=280,pn=240,gn=(e,t,n,a,r,o,s)=>{const i={selector:{label:"LLM Selector",icon:"🎯"},supervisor:{label:"Supervisor",icon:"👔"},aggregator:{label:"Aggregator",icon:"📊"},triage:{label:"Triage",icon:"🔀"}}[n];return{id:e,type:"agentNode",position:r,data:{label:t||i.label,agentType:i.label,description:`${i.icon} ${i.label}`,isActive:o,isProcessing:s,isHub:!0,hubType:n,color:a.primaryColor}}},hn=(e,t,n,a,r,o)=>{const s=[],i=[],l=un-_t.default.height/2;if(s.push(Nt({x:50,y:l},n.has("user"),a)),e.forEach(((r,o)=>{var c,d;const u=(null===(c=r.config)||void 0===c?void 0:c.name)||`agent-${o}`,m=50+(o+1)*pn;s.push(kt(u,u,r.label||"",r.description||"",{x:m,y:l},n.has(u),a));const p=0===o?"user":(null===(d=e[o-1].config)||void 0===d?void 0:d.name)||"agent-"+(o-1),g=n.has(u);var h;(i.push(At(`${p}-to-${u}`,p,u,{stroke:g?t.primaryColor:"#6b7280",strokeWidth:g?2:1,animated:g&&a})),t.bidirectional&&o===e.length-1&&2===e.length)&&i.push(At(`${u}-loop`,u,(null===(h=e[0].config)||void 0===h?void 0:h.name)||"agent-0",{stroke:t.secondaryColor,strokeWidth:1,strokeDasharray:"5,5",label:"revise",routingType:"secondary"}))})),r){var c;const t=e[e.length-1],n=(null==t||null===(c=t.config)||void 0===c?void 0:c.name)||"agent-"+(e.length-1),a=50+(e.length+1)*pn;s.push(Ct({x:a,y:l},o)),i.push(At(`${n}-to-end`,n,"end",{stroke:"complete"===(null==o?void 0:o.status)?"#22c55e":"#ef4444",strokeWidth:2}))}return{nodes:s,edges:i}},fn=(e,t,n,r)=>{var o;const s=(null===(o=t.config)||void 0===o?void 0:o.participants)||[],i="active"===(null==r?void 0:r.status)||"awaiting_input"===(null==r?void 0:r.status),l=["complete","error","stopped"].includes((null==r?void 0:r.status)||""),c={chain:()=>hn(s,e.visual,n,i,l,r),"hub-spoke":()=>((e,t,n,a,r,o)=>{const s=[],i=[];s.push(Nt({x:dn-300,y:un-_t.default.height/2},n.has("user"),a));const l=t.centerNodeType||"hub";s.push(gn(l,"",t.centerNodeType||"selector",t,{x:dn-_t.default.width/2,y:un-_t.default.height/2},!0,a)),i.push(At("user-to-hub","user",l,{stroke:"#2563eb",strokeWidth:2,animated:n.size>0}));const c=-Math.PI/2.5,d=Math.PI/2.5,u=e.length>1?(d-c)/(e.length-1):0;return e.forEach(((r,o)=>{var d;const m=(null===(d=r.config)||void 0===d?void 0:d.name)||`agent-${o}`,p=1===e.length?0:c+o*u,g=dn+mn*Math.cos(p),h=un+mn*Math.sin(p);s.push(kt(m,m,r.label||"",r.description||"",{x:g-_t.default.width/2,y:h-_t.default.height/2},n.has(m),a));const f=n.has(m);i.push(At(`hub-to-${m}`,l,m,{animated:f&&a,stroke:f?t.primaryColor:"#6b7280",strokeWidth:f?2:1,opacity:f?1:.4,label:f&&"selector"===t.centerNodeType?"selected":""})),t.bidirectional&&i.push(At(`${m}-to-hub`,m,l,{stroke:f?t.secondaryColor:"#6b7280",strokeWidth:1,strokeDasharray:"5,5",opacity:f?.7:.2,routingType:"secondary"}))})),r&&(s.push(Ct({x:dn+mn+100,y:un-_t.end.height/2},o)),i.push(At("hub-to-end",l,"end",{stroke:"complete"===(null==o?void 0:o.status)?"#22c55e":"#ef4444",strokeWidth:2}))),{nodes:s,edges:i}})(s,e.visual,n,i,l,r),mesh:()=>((e,t,n,r,o,s)=>{var i;const l=[],c=[];l.push(Nt({x:dn-350,y:un-_t.default.height/2},n.has("user"),r));const d=e[0],u=(null==d||null===(i=d.config)||void 0===i?void 0:i.name)||"triage",m=e.slice(1);l.push(gn(u,u,"triage",t,{x:dn-_t.default.width/2,y:un-_t.default.height/2},n.has(u),r)),c.push(At("user-to-triage","user",u,{stroke:"#2563eb",strokeWidth:2,animated:n.has(u)}));const p=2*Math.PI/Math.max(1,m.length),g=-Math.PI/2;if(m.forEach(((e,a)=>{var o;const s=(null===(o=e.config)||void 0===o?void 0:o.name)||`agent-${a+1}`,i=g+a*p,d=dn+mn*Math.cos(i),m=un+mn*Math.sin(i);l.push(kt(s,s,e.label||"",e.description||"",{x:d-_t.default.width/2,y:m-_t.default.height/2},n.has(s),r));const h=n.has(s);c.push(At(`${u}-to-${s}`,u,s,{animated:h&&r,stroke:h?t.primaryColor:"#6b7280",strokeWidth:h?2:1,strokeDasharray:"dashed"===t.edgeStyle?"8,4":void 0,opacity:h?1:.4,label:h?"handoff":""})),c.push(At(`${s}-to-${u}`,s,u,{stroke:h?t.secondaryColor:"#6b7280",strokeWidth:1,strokeDasharray:"5,5",opacity:h?.8:.2,routingType:"secondary"}))})),t.showCrossConnections&&m.length>1&&m.forEach(((e,t)=>{m.forEach(((a,r)=>{if(t<r){var o,s;const i=(null===(o=e.config)||void 0===o?void 0:o.name)||`agent-${t+1}`,l=(null===(s=a.config)||void 0===s?void 0:s.name)||`agent-${r+1}`;n.has(i)&&n.has(l)&&c.push(At(`${i}-mesh-${l}`,i,l,{stroke:"#a855f7",strokeWidth:1,strokeDasharray:"3,3",opacity:.5,label:"↔"}))}}))})),o){l.push(Ct({x:dn+mn+100,y:un-_t.end.height/2},s));const e=(0,a.A)(n).filter((e=>"user"!==e)).pop();e&&c.push(At(`${e}-to-end`,e,"end",{stroke:"complete"===(null==s?void 0:s.status)?"#22c55e":"#ef4444",strokeWidth:2}))}return{nodes:l,edges:c}})(s,e.visual,n,i,l,r),"fork-join":()=>((e,t,n,a,r,o)=>{const s=[],i=[],l=dn,c=dn+mn+50;s.push(Nt({x:50,y:un-_t.default.height/2},n.has("user"),a)),s.push(gn("aggregator-in","Distribute","aggregator",t,{x:230,y:un-_t.default.height/2},!0,a)),i.push(At("user-to-agg","user","aggregator-in",{stroke:"#2563eb",strokeWidth:2,animated:a}));const d=un-140*(e.length-1)/2;return e.forEach(((e,r)=>{var o;const c=(null===(o=e.config)||void 0===o?void 0:o.name)||`agent-${r}`,u=d+140*r;s.push(kt(c,c,e.label||"",e.description||"",{x:l,y:u-_t.default.height/2},n.has(c),a));const m=n.has(c);i.push(At(`agg-to-${c}`,"aggregator-in",c,{stroke:m?t.primaryColor:"#6b7280",strokeWidth:m?2:1,animated:m&&a,label:m?"task":""})),i.push(At(`${c}-to-agg-out`,c,"aggregator-out",{stroke:m?t.secondaryColor:"#6b7280",strokeWidth:m?2:1,animated:m&&a,label:m?"result":""}))})),s.push(gn("aggregator-out","Aggregate","aggregator",t,{x:c,y:un-_t.default.height/2},n.size>1,a)),r&&(s.push(Ct({x:c+180,y:un-_t.end.height/2},o)),i.push(At("agg-out-to-end","aggregator-out","end",{stroke:"complete"===(null==o?void 0:o.status)?"#22c55e":"#ef4444",strokeWidth:2}))),{nodes:s,edges:i}})(s,e.visual,n,i,l,r),tree:()=>((e,t,n,a,r,o)=>{var s;const i=[],l=[],c=e[0],d=(null==c||null===(s=c.config)||void 0===s?void 0:s.name)||"leader",u=e.slice(1);i.push(Nt({x:50,y:50},n.has("user"),a)),i.push(gn(d,d,"supervisor",t,{x:250,y:50},n.has(d),a)),l.push(At("user-to-leader","user",d,{stroke:"#2563eb",strokeWidth:2,animated:n.has(d)}));const m=dn-250*(u.length-1)/2;return u.forEach(((e,r)=>{var o;const s=(null===(o=e.config)||void 0===o?void 0:o.name)||`worker-${r}`,c=m+250*r;i.push(kt(s,s,e.label||"",e.description||"",{x:c,y:320},n.has(s),a));const u=n.has(s);l.push(At(`${d}-to-${s}`,d,s,{stroke:u?t.primaryColor:"#6b7280",strokeWidth:u?2:1,animated:u&&a})),t.bidirectional&&l.push(At(`${s}-to-${d}`,s,d,{stroke:u?t.secondaryColor:"#6b7280",strokeWidth:1,strokeDasharray:"5,5",opacity:u?.7:.3,routingType:"secondary"}))})),r&&(i.push(Ct({x:500,y:50},o)),l.push(At("leader-to-end",d,"end",{stroke:"complete"===(null==o?void 0:o.status)?"#22c55e":"#ef4444",strokeWidth:2}))),{nodes:i,edges:l}})(s,e.visual,n,i,l,r),ring:()=>((e,t,n,r,o,s)=>{var i,l;const c=[],d=[];c.push(Nt({x:dn-350,y:un-_t.default.height/2},n.has("user"),r));const u=2*Math.PI/e.length,m=-Math.PI/2;e.forEach(((e,t)=>{var a;const o=(null===(a=e.config)||void 0===a?void 0:a.name)||`agent-${t}`,s=m+t*u,i=dn+.8*mn*Math.cos(s),l=un+.8*mn*Math.sin(s);c.push(kt(o,o,e.label||"",e.description||"",{x:i-_t.default.width/2,y:l-_t.default.height/2},n.has(o),r))}));const p=(null===(i=e[0])||void 0===i||null===(l=i.config)||void 0===l?void 0:l.name)||"agent-0";if(d.push(At("user-to-first","user",p,{stroke:"#2563eb",strokeWidth:2,animated:n.has(p)})),t.showCrossConnections&&e.forEach(((a,r)=>{e.forEach(((e,o)=>{if(r<o){var s,i;const l=(null===(s=a.config)||void 0===s?void 0:s.name)||`agent-${r}`,c=(null===(i=e.config)||void 0===i?void 0:i.name)||`agent-${o}`,u=n.has(l)&&n.has(c);d.push(At(`${l}-debate-${c}`,l,c,{stroke:u?t.primaryColor:"#6b7280",strokeWidth:u?2:1,strokeDasharray:"4,4",opacity:u?.8:.3,label:u?"💬":""}))}}))})),o){c.push(Ct({x:dn+mn+100,y:un-_t.end.height/2},s));const e=(0,a.A)(n).filter((e=>"user"!==e)).pop();e&&d.push(At(`${e}-to-end`,e,"end",{stroke:"complete"===(null==s?void 0:s.status)?"#22c55e":"#ef4444",strokeWidth:2,label:"verdict"}))}return{nodes:c,edges:d}})(s,e.visual,n,i,l,r)},d=c[e.visual.layout];return d?d():hn(s,e.visual,n,i,l,r)},vn=e=>{var t;const n=e.provider||"",a=(null===(t=e.config)||void 0===t?void 0:t.participants)||[];if(n.includes("Swarm"))return"handoff";if(n.includes("SelectorGroupChat")){return a.map((e=>{var t,n;return(null===(t=e.config)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase())||""})).some((e=>e.includes("advocate")||e.includes("judge")||e.includes("critic")))?"debate":"selector"}if(n.includes("RoundRobinGroupChat")){const e=a.map((e=>{var t,n;return(null===(t=e.config)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase())||""}));return 2===a.length&&e.some((e=>e.includes("generator")||e.includes("writer")))&&e.some((e=>e.includes("critic")||e.includes("reviewer")))?"reflection":"sequential"}return"unknown"},yn=e=>{switch(e){case"sequential":case"reflection":default:return St;case"selector":case"debate":return $t;case"handoff":return jt}},bn=function(e,t,n,a,r){void 0===a&&(a=!1);const o="active"===(null==r?void 0:r.status)||"awaiting_input"===(null==r?void 0:r.status);return"user"===t?{id:e,type:"agentNode",position:{x:0,y:0},data:{type:"user",label:"User",agentType:"user",description:"Human user",isActive:a,status:"",reason:"",draggable:!o}}:"end"===t?{id:e,type:"agentNode",position:{x:0,y:0},data:{type:"end",label:"End",status:null==r?void 0:r.status,reason:(null==r?void 0:r.error_message)||"",agentType:"",description:"",isActive:!1,draggable:!1}}:{id:e,type:"agentNode",position:{x:0,y:0},data:{type:"agent",label:e,agentType:(null==n?void 0:n.label)||"",description:(null==n?void 0:n.description)||"",isActive:a,status:"",reason:"",draggable:!o}}},En={agentNode:Ve},wn={custom:e=>{var t;let{id:n,sourceX:a,sourceY:o,targetX:s,targetY:i,source:l,target:c,data:d,style:u={},markerEnd:m}=e;const p=l===c,g=u.strokeWidth||1,h=(null===(t=d.messages)||void 0===t?void 0:t.length)||0,f=p?Math.max(g,2):Math.min(Math.max(h,1),5)*g;let v="",y=0,b=0;if("secondary"===d.routingType||p){const e=140;v=`\n      M ${a},${o}\n      L ${a},${o+10}\n      L ${a+e},${o+10}\n      L ${a+e},${i-10}\n      L ${s},${i-10}\n      L ${s},${i}\n    `,y=a+e,b=(o+i)/2}else[v,y,b]=(0,qe.oN)({sourceX:a,sourceY:o,targetX:s,targetY:i});const E=((e,t)=>{if(!d.routingType||p)return{x:e,y:t};d.routingType;const n="secondary"===d.routingType?-25:25,r=s-a,l=i-o;return{x:Math.abs(r)>Math.abs(l)?e:e+n,y:t+("secondary"===d.routingType?-20:20)}})(y,b);return r.createElement(r.Fragment,null,r.createElement("path",{id:n,className:"react-flow__edge-path",d:v,style:{...u,strokeWidth:f,stroke:"secondary"===d.routingType?"#0891b2":u.stroke},markerEnd:m}),(null==d?void 0:d.label)&&r.createElement(We.rV,null,r.createElement("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${E.x}px,${E.y}px)`,pointerEvents:"all",transition:"all 0.2s ease-in-out"},onClick:d.onClick},r.createElement("div",{className:"px-2 py-1 rounded bg-secondary hover:bg-tertiary text-primary  \r cursor-pointer transform hover:scale-110 transition-all\r flex items-center gap-1",style:{whiteSpace:"nowrap"}},h>0&&r.createElement("span",{className:"text-xs text-secondary"},"(",h,")"),r.createElement("span",{className:"text-sm"},d.label)))))}},xn=e=>{let{teamConfig:t,run:n,viewMode:a="pattern",selectedPatternId:o}=e;const{fitView:s}=(0,We.VH)(),{0:i,1:l}=(0,r.useState)([]),{0:c,1:d}=(0,r.useState)([]),{0:u,1:m}=(0,r.useState)(!1),{0:p,1:g}=(0,r.useState)(!1),{agentFlow:h}=(0,Ue.J)(),{0:f,1:v}=(0,r.useState)(!1),{0:y,1:b}=(0,r.useState)(null),E=(0,r.useCallback)((e=>{var t;null!==(t=e.data)&&void 0!==t&&t.messages&&(b(e),v(!0))}),[]),w=(0,r.useCallback)((e=>{l((t=>(0,We._0)(e,t)))}),[]),x=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(u){const e=setTimeout((()=>{s({padding:.2,duration:200}),m(!1)}),100);return()=>clearTimeout(e)}}),[u,s]);const _=(0,r.useCallback)((e=>{if(!n.task)return{nodes:[],edges:[]};const a=new Map,r=new Map,o=new Map;if(e.length>0){var s,i,l;const r=t.config.participants.find((t=>{var n;return t.config.name===(null===(n=e[0])||void 0===n?void 0:n.source)}));a.set(null===(s=e[0])||void 0===s?void 0:s.source,bn(null===(i=e[0])||void 0===i?void 0:i.source,"user"===(null===(l=e[0])||void 0===l?void 0:l.source)?"user":"agent",r,!1,n))}for(let h=0;h<e.length-1;h++){const o=e[h],s=e[h+1],i=`${null==o?void 0:o.source}->${null==s?void 0:s.source}`;if(r.has(i)){var c,d;const e=r.get(i);e.count++,e.totalTokens+=((null==o||null===(c=o.models_usage)||void 0===c?void 0:c.prompt_tokens)||0)+((null==o||null===(d=o.models_usage)||void 0===d?void 0:d.completion_tokens)||0),e.messages.push(o)}else{var u,m;r.set(i,{source:null==o?void 0:o.source,target:null==s?void 0:s.source,count:1,totalTokens:((null==o||null===(u=o.models_usage)||void 0===u?void 0:u.prompt_tokens)||0)+((null==o||null===(m=o.models_usage)||void 0===m?void 0:m.completion_tokens)||0),messages:[o]})}if(!a.has(null==s?void 0:s.source)){const e=t.config.participants.find((e=>e.config.name===s.source));a.set(s.source,bn(s.source,"user"===s.source?"user":"agent",e,!1,n))}}r.forEach(((e,t)=>{const[n,a]=t.split("->"),s=`${a}->${n}`,i=r.get(s);if(i&&!o.has(t)){const t=[n,a].sort().join("->");o.set(t,{forward:e,reverse:i})}}));const p=[],g=new Set,f=e=>h.showLabels&&e.totalTokens>0?`${e.count>1?`${e.count}x`:""} ${h.showTokens?`(${e.totalTokens} tokens)`:""}`.trim():"";if(r.forEach(((e,t)=>{if(g.has(t))return;const[a,s]=t.split("->"),i=[a,s].sort().join("->");if(o.get(i)){const e=`${a}->${s}`,t=`${s}->${a}`,n=`${a}-${s}-forward`,o=`${s}-${a}-reverse`,i=(e,t,n,a)=>({id:n,source:e.source,target:e.target,type:"custom",data:{label:f(e),messages:h.showMessages?e.messages:[],routingType:t?"secondary":"primary",bidirectionalPair:a},style:{stroke:"#2563eb",strokeWidth:1}});p.push(i(r.get(e),!1,n,o),i(r.get(t),!0,o,n)),g.add(e),g.add(t)}else p.push({id:`${e.source}-${e.target}-${t}`,source:e.source,target:e.target,type:"custom",data:{label:f(e),messages:h.showMessages?e.messages:[]},animated:"active"===n.status&&t===Array.from(r.keys()).pop(),style:{stroke:"#2563eb",strokeWidth:1}})})),n&&e.length>0){const t=e[e.length-1];if(["complete","error","stopped"].includes(n.status)){a.set("end",bn("end","end",void 0,!1,n));const e={complete:"#2563eb",stopped:"red",error:"red",active:"#2563eb",awaiting_input:"#2563eb",timeout:"red",created:"#2563eb"}[n.status];p.push({id:`${null==t?void 0:t.source}-end`,source:null==t?void 0:t.source,target:"end",type:"custom",data:{label:h.showLabels?"ended":"",messages:[]},style:{stroke:e,strokeWidth:1,opacity:1,zIndex:100}})}}return{nodes:Array.from(a.values()),edges:p}}),[t.config.participants,n,h]),k=(0,r.useCallback)((()=>{g(!p),m(!0)}),[p]);(0,r.useEffect)((()=>{if(!p)return;const e=e=>{"Escape"===e.key&&k()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[p,k]),(0,r.useEffect)((()=>{let e,r;const i="pattern"===a||0===n.messages.length,c=new Set;n.messages.forEach((e=>{var t;null!==(t=e.config)&&void 0!==t&&t.source&&c.add(e.config.source)}));const u=((e,t,n,a)=>{if(a){const r=ln(a);if(r)return{...fn(r,e,t,n),patternType:a,patternDef:r}}const r=vn(e),o=ln({sequential:"sequential",selector:"selector",handoff:"swarm",debate:"debate",reflection:"reflection",unknown:"sequential"}[r]);if(o)return{...fn(o,e,t,n),patternType:r,patternDef:o};return{...yn(r)(e,t,n),patternType:r,patternDef:void 0}})(t,c,n,o),m=u.patternDef,p=i&&m&&"chain"!==m.visual.layout;if(i)e=u.nodes,r=u.edges;else{const t=_(n.messages.map((e=>e.config)));e=t.nodes,r=t.edges}if(p)l(e),d(r);else{const{nodes:t,edges:n}=((e,t,n)=>{const a=(new(Be().graphlib.Graph)).setDefaultEdgeLabel((()=>({})));a.setGraph({rankdir:n,nodesep:110,ranksep:100,ranker:"network-simplex",marginx:30,marginy:30}),e.forEach((e=>{const t="end"===e.data.type?_t.end:_t.default;a.setNode(e.id,{...e,...t})}));const r=new Map;t.forEach((e=>{e.source,e.target,e.target,e.source;const t=[e.source,e.target].sort().join("-");r.has(t)||r.set(t,[]),r.get(t).push({source:e.source,target:e.target})})),r.forEach(((e,t)=>{if(2===e.length){const[t,n]=e;a.setEdge(t.source,t.target,{weight:2,minlen:1}),a.setEdge(n.source,n.target,{weight:1,minlen:1})}else{const t=e[0];a.setEdge(t.source,t.target,{weight:1,minlen:1})}})),Be().layout(a);const o=e.map((e=>{const{x:t,y:n}=a.node(e.id),r="end"===e.data.type?_t.end:_t.default;return{...e,position:{x:t-r.width/2,y:n-r.height/2}}})),s=new Map(o.map((e=>[e.id,{x:e.position.x+_t.default.width/2,y:e.position.y+_t.default.height/2}])));return{nodes:o,edges:t.map((e=>{const t=s.get(e.source),n=s.get(e.target);return{...e,sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y}}))}})(e,r,h.direction);l(t),d(n)}setTimeout((()=>{s({padding:.2,duration:200})}),50)}),[n.messages,_,h.direction,n.status,s,t,a,o]);const N={nodes:i,edges:c.map((e=>({...e,data:{...e.data,onClick:()=>E(e)}}))),nodeTypes:En,edgeTypes:wn,defaultViewport:{x:0,y:0,zoom:1},minZoom:.5,maxZoom:2,onNodesChange:w,proOptions:{hideAttribution:!0}},C=(0,r.useMemo)((()=>({isFullscreen:p,onToggleFullscreen:k,onResetView:()=>s({padding:.2,duration:200})})),[p,k,s]);return r.createElement("div",{ref:x,className:`transition-all duration-200 ${p?"fixed inset-4 z-[50] shadow":"w-full h-full min-h-[300px]"} bg-tertiary rounded-lg`},p&&r.createElement("div",{className:"fixed inset-0 -z-10 bg-background/80 backdrop-blur-sm",onClick:k}),r.createElement(We.Gc,N,h.showGrid&&r.createElement(We.VS,null),h.showMiniMap&&r.createElement(We.of,null),r.createElement("div",{className:"absolute top-0 right-0 z-10"},r.createElement(rt,C))),r.createElement(xt,{open:f,onClose:()=>{v(!1),b(null)},edge:y}))};function _n(e){return r.createElement(We.Ln,null,r.createElement(xn,e))}var kn=n(7235);const Nn=(0,Ie.A)("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]),Cn=function(e){return void 0===e&&(e=3),{DURATION_MS:60*e*1e3,DURATION_SEC:60*e,WEBSOCKET_CODE:4e3,DEFAULT_MESSAGE:`Input timeout after ${e} minute${1!==e?"s":""}`,WARNING_THRESHOLD_SEC:30}};Cn(3);var An=n(1325);var Sn=e=>{let{prompt:t,onSubmit:n,disabled:a=!1,onTimeout:o}=e;const[s,i]=r.useState(""),[l,c]=r.useState(!1),{uiSettings:d}=(0,An.C)(),u=r.useMemo((()=>Cn(d.human_input_timeout_minutes||3)),[d.human_input_timeout_minutes]),[m,p]=r.useState(u.DURATION_SEC),[g,h]=r.useState(!1),f=r.useRef(null),v=(0,r.useRef)();(0,r.useEffect)((()=>(a||(v.current=setInterval((()=>{p((e=>e<=1?(clearInterval(v.current),null==o||o(),0):e-1))}),1e3)),()=>{v.current&&clearInterval(v.current)})),[a,o]),r.useEffect((()=>{f.current&&!a&&f.current.focus()}),[a]);const y=async()=>{if(s.trim()&&!a&&!l){c(!0);try{await n(s.trim()),i(""),h(!1)}finally{c(!1)}}};return r.createElement("div",{className:"p-4 bg-accent/10 border border-accent/20 rounded-lg mt-3 "+(a?"opacity-50":"")},r.createElement("div",{className:"flex justify-between items-center mb-2"},r.createElement("div",{className:"text-sm font-medium text-primary flex items-center gap-2"},t,!g&&!a&&r.createElement("span",{className:"relative flex h-3 w-3"},r.createElement("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-accent opacity-75"}),r.createElement("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-accent"}))),!a&&r.createElement("div",{className:"flex items-center gap-2 text-sm"},r.createElement(kn.A,{size:14,className:"text-accent"}),r.createElement("span",{className:m<u.WARNING_THRESHOLD_SEC?"text-red-500 font-bold animate-pulse":"text-accent"},(b=m,`${Math.floor(b/60)}:${(b%60).toString().padStart(2,"0")}`)))),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{ref:f,type:"text",value:s,onChange:e=>{i(e.target.value),g||h(!0)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),y())},disabled:a||l,className:"text-primary flex-1 px-3 py-2 rounded bg-tertiary border border-secondary focus:border-accent focus:ring-1 focus:ring-accent outline-none disabled:opacity-50",placeholder:a?"Input timeout - please restart the conversation":"Type your response..."}),r.createElement("button",{onClick:y,disabled:a||l||!s.trim(),className:"px-4 py-2 rounded bg-accent text-white hover:bg-accent/90 disabled:opacity-50 disabled:hover:bg-accent flex items-center gap-2 transition-all "+(g||a||s.trim()?"":"animate-pulse")},l?r.createElement(Me.A,{size:16,className:"animate-spin"}):r.createElement(Nn,{size:16}),r.createElement("span",null,"Submit"))));var b};const Mn=e=>{let{content:t,source:n}=e;const{0:a,1:o}=(0,r.useState)(!0);return(0,r.useEffect)((()=>{const e=setInterval((()=>{o((e=>!e))}),530);return()=>clearInterval(e)}),[]),r.createElement("div",{className:"flex items-start gap-2 p-2 rounded bg-tertiary border border-secondary transition-all duration-200 mb-6"},r.createElement("div",{className:"p-1.5 rounded bg-light text-primary"},r.createElement(Ae.A,{size:14})),r.createElement("div",{className:"flex-1 min-w-0"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("span",{className:"text-sm font-semibold text-primary"},n)),r.createElement("div",{className:"text-sm text-secondary break-all"},t,a&&r.createElement("span",{className:"inline-block w-2 h-4 ml-1 bg-accent/70 animate-pulse"}))))},On=e=>{if(!e)return!0;if("string"==typeof e){const t=e.trim();return""===t||"메시지가 없습니다"===t||"메시지가 없습니다."===t}return!(!Array.isArray(e)||0!==e.length)},$n=e=>e.filter((e=>"llm_call_event"!==e.config.source&&!On(e.config.content)));var Tn=e=>{var t,n,a,o,l;let{run:c,onInputResponse:d,onCancel:u,teamConfig:m,isFirstRun:p=!1,streamingContent:g,viewMode:h="pattern",selectedPatternId:f}=e;const{0:v,1:y}=(0,r.useState)(!0),b=(0,r.useRef)(null),E="active"===c.status||"awaiting_input"===c.status,{uiSettings:w}=(0,An.C)(),{0:x,1:_}=(0,r.useState)(null===(t=w.show_agent_flow_by_default)||void 0===t||t),{0:k,1:N}=(0,r.useState)(!1),{0:C,1:A}=(0,r.useState)(0),{0:S,1:M}=(0,r.useState)(null),O=(0,r.useRef)(null),{0:$,1:T}=(0,r.useState)(1),I=(0,r.useMemo)((()=>k&&S?{...S,messages:S.messages.slice(0,C+1),status:C<S.messages.length-1?"active":S.status}:c),[c,k,S,C]),j=(0,r.useMemo)((()=>{let e=I.messages;return e=e.filter((e=>!On(e.config.content))),w.show_llm_call_events||(e=e.filter((e=>"llm_call_event"!==e.config.source))),e}),[I.messages,w.show_llm_call_events]),R=e=>{if(T(e),k&&O.current){clearInterval(O.current);const t=800/e;O.current=setInterval((()=>{A((e=>e>=((null==S?void 0:S.messages.length)||c.messages.length)-1?(N(!1),O.current&&(clearInterval(O.current),O.current=null),e):e+1))}),t)}};(0,r.useEffect)((()=>()=>{O.current&&clearInterval(O.current)}),[]);const L=("complete"===c.status||"error"===c.status||"stopped"===c.status)&&c.messages.length>0;console.log("Run task",c.task),(0,r.useEffect)((()=>{setTimeout((()=>{b.current&&b.current.scrollTo({top:b.current.scrollHeight,behavior:"smooth"})}),450)}),[I.messages,g]);const P=e=>{if(k&&S)return r.createElement("div",{className:"inline-block mr-1"},r.createElement(Se.A,{size:20,className:"inline-block mr-1 text-accent"}),r.createElement("span",{className:"inline-block mr-2 ml-1"},"Replaying"),r.createElement(dt.XC,{size:8}));switch(e){case"active":return r.createElement("div",{className:"inline-block mr-1"},r.createElement(Me.A,{size:20,className:"inline-block mr-1 text-accent animate-spin"}),r.createElement("span",{className:"inline-block mr-2 ml-1 "},"Processing"),r.createElement(dt.XC,{size:8}));case"awaiting_input":return r.createElement("div",{className:"text-sm mb-2"},r.createElement(Oe.A,{size:20,className:"inline-block mr-2 text-accent"}),r.createElement("span",{className:"inline-block mr-2"},"Waiting for your input "),r.createElement(dt.XC,{size:8}));case"complete":return r.createElement("div",{className:"text-sm mb-2"},r.createElement($e.A,{size:20,className:"inline-block mr-2 text-accent"}),"Task completed");case"error":return r.createElement("div",{className:"text-sm mb-2"},r.createElement(Te.A,{size:20,className:"inline-block mr-2 text-red-500"}),c.error_message||"An error occurred");case"stopped":return r.createElement("div",{className:"text-sm mb-2"},r.createElement(je,{size:20,className:"inline-block mr-2 text-red-500"}),"Task was stopped");default:return null}},z=null===(n=I.team_result)||void 0===n||null===(a=n.task_result)||void 0===a?void 0:a.messages.slice(-1)[0],F=j.filter((e=>"llm_call_event"!==e.config.source)).slice(-1)[0];return r.createElement("div",{className:"space-y-6  mr-2 "},r.createElement("div",{className:(p?"mb-2":"mt-4")+" mb-4 pb-2 pt-2 border-b border-dashed border-secondary"},r.createElement("div",{id:"run-header",className:"flex items-center justify-between"},r.createElement("div",{className:"text-xs text-secondary"},r.createElement(s.A,{title:r.createElement("div",{className:"text-xs"},r.createElement("div",null,"ID: ",c.id),r.createElement("div",null,"Created: ",new Date(c.created_at).toLocaleString()),r.createElement("div",null,"Status: ",c.status))},r.createElement("span",{className:"cursor-help"},"Run ...",c.id," | ",(0,dt.vq)((null==c?void 0:c.created_at)||"")," ")),!p&&r.createElement(r.Fragment,null," ","|"," ",r.createElement(Te.A,{className:"w-4 h-4 -mt-1 inline-block mr-1 ml-1"}),"Note: Each run does not share data with previous runs in the same session yet.")),L&&r.createElement("div",{className:"flex items-center gap-2"},!k&&!S&&r.createElement("div",{className:"flex items-center gap-0"},r.createElement("button",{onClick:()=>{if("complete"!==c.status&&"error"!==c.status&&"stopped"!==c.status)return;M(c),A(0),N(!0),y(!0);const e=800/$;O.current=setInterval((()=>{A((e=>e>=c.messages.length-1?(N(!1),O.current&&(clearInterval(O.current),O.current=null),e):e+1))}),e)},className:"p-1 px-2 rounded-l hover:bg-secondary transition-colors text-secondary hover:text-primary"},r.createElement(Se.A,{className:"inline-block",size:16}),r.createElement("span",{className:"inline-block text-xs text-secondary ml-1"},"Replay Run (",$,"x)")),r.createElement(i.A,{menu:{items:[{key:"0.1",label:"0.1x",onClick:()=>R(.1)},{key:"0.5",label:"0.5x",onClick:()=>R(.5)},{key:"1",label:"1x",onClick:()=>R(1)},{key:"2",label:"2x",onClick:()=>R(2)},{key:"5",label:"5x",onClick:()=>R(5)}],selectedKeys:[$.toString()]},trigger:["click"]},r.createElement("button",{className:"p-1 px-1 rounded-r hover:bg-secondary transition-colors text-secondary hover:text-primary border-l border-secondary"},r.createElement(Re.A,{className:"inline-block",size:12})))),k&&r.createElement("div",{className:"flex items-center gap-0"},r.createElement("button",{onClick:()=>{O.current&&(clearInterval(O.current),O.current=null),N(!1)},className:"p-1 px-2 rounded-l hover:bg-secondary transition-colors text-accent hover:text-primary"},r.createElement(Le,{className:"inline-block",size:16}),r.createElement("span",{className:"inline-block text-xs text-accent ml-1"},"Pause Replay (",$,"x)")),r.createElement(i.A,{menu:{items:[{key:"0.1",label:"0.1x",onClick:()=>R(.1)},{key:"0.5",label:"0.5x",onClick:()=>R(.5)},{key:"1",label:"1x",onClick:()=>R(1)},{key:"2",label:"2x",onClick:()=>R(2)},{key:"5",label:"5x",onClick:()=>R(5)}],selectedKeys:[$.toString()]},trigger:["click"]},r.createElement("button",{className:"p-1 px-1 rounded-r hover:bg-secondary transition-colors text-secondary hover:text-primary border-l border-secondary"},r.createElement(Re.A,{className:"inline-block",size:12})))),(k||S)&&r.createElement("button",{onClick:()=>{O.current&&(clearInterval(O.current),O.current=null),N(!1),A(0),M(null)},className:"p-1 px-2 rounded hover:bg-secondary transition-colors text-secondary hover:text-primary"},r.createElement(Pe.A,{className:"inline-block",size:16})," ",r.createElement("span",{className:"inline-block text-xs text-secondary"},"Reset Replay")),(k||S)&&r.createElement("div",{className:"text-xs text-secondary"},C+1,"/",(null==S?void 0:S.messages.length)||c.messages.length)))),r.createElement("div",{className:"flex flex-col items-end w-full"},r.createElement("div",{className:"w-full"},r.createElement(Et,{message:I.task,isLast:!1}))),r.createElement("div",{className:"flex flex-col items-start"},r.createElement("div",{className:"flex items-center gap-2 mb-1"},r.createElement("div",{className:"p-1.5 rounded bg-secondary text-primary"},r.createElement(Ae.A,{size:20})),r.createElement("span",{className:"text-sm font-medium text-primary"},"Agent Team")),r.createElement("div",{className:"   w-full"},r.createElement("div",{className:"p-4 bg-secondary border border-secondary rounded"},r.createElement("div",{className:"flex justify-between items-start mb-2"},r.createElement("div",{className:"text-primary"},P(I.status)),E&&u&&!k&&r.createElement("button",{onClick:u,className:"px-4 text-sm py-2 bg-red-500 hover:bg-red-600 text-white rounded-md transition-colors flex items-center gap-2"},r.createElement(je,{size:16}),"Cancel Run")),"awaiting_input"!==I.status&&"active"!==I.status&&r.createElement("div",{className:"text-sm break-all"},r.createElement("div",{className:"text-xs bg-tertiary mb-1 text-secondary border-secondary -mt-2 bdorder rounded p-2"},"Stop reason:"," ",null===(o=I.team_result)||void 0===o||null===(l=o.task_result)||void 0===l?void 0:l.stop_reason),F?r.createElement(Et,{message:F.config,isLast:!0}):r.createElement(r.Fragment,null,z&&r.createElement(Et,{message:z})))),r.createElement("div",{className:""},j.length>0&&r.createElement("div",{className:"mt-2 pl-4 border-secondary rounded-b border-l-2 border-secondary/30"},r.createElement("div",{className:"flex pt-2"},r.createElement("div",{className:"flex-1"},r.createElement("button",{onClick:()=>y(!v),className:"flex items-center gap-1 text-sm text-secondary hover:text-primary transition-colors"},r.createElement(Oe.A,{size:16})," Agent steps [",r.createElement("span",{className:"text-accent text-xs"},v?r.createElement("span",null,r.createElement(ze.A,{size:16,className:"inline-block mr-1"}),"Hide"):r.createElement("span",null," ",r.createElement(Re.A,{size:16,className:"inline-block mr-1"})," ","Show more"))," ","]")),r.createElement("div",{className:"text-sm text-secondary"},(e=>e.reduce(((e,t)=>{var n;return null!==(n=t.config)&&void 0!==n&&n.models_usage?e+(t.config.models_usage.prompt_tokens||0)+(t.config.models_usage.completion_tokens||0):e}),0))(j)," tokens |"," ",j.length," messages")),v&&r.createElement("div",{className:"flex relative flex-row gap-4"},!x&&r.createElement("div",{className:"z-50 absolute right-2 top-2 bg-tertiary rounded p-2 hover:opacity-100 opacity-80"},r.createElement(s.A,{title:"Show message flow graph"},r.createElement("button",{onClick:()=>_(!0),className:" p-1 rounded-md bg-tertiary  hover:bg-secondary  transition-colors"},r.createElement(Fe,{strokeWidth:1.5,size:22})))),r.createElement("div",{ref:b,className:"flex-1 mt-2 overflow-y-auto max-h-[400px] scroll-smooth scroll pb-2 relative"},r.createElement("div",{id:"scroll-gradient",className:"scroll-gradient h-8"}," ",r.createElement("span",{className:"  inline-block h-6"})," "),j.map(((e,t)=>r.createElement("div",{key:"message_id"+t+c.id,className:"  mr-2"},r.createElement(Et,{message:e.config,isLast:t===j.length-1})))),g&&g.runId===c.id&&!k&&r.createElement("div",{className:"mr-2 mb-10"},r.createElement(Mn,{content:g.content,source:g.source})),"awaiting_input"===I.status&&d&&!k&&r.createElement("div",{className:"mt-4 mr-2"},r.createElement(Sn,{prompt:"Type your response...",onSubmit:d})),r.createElement("div",{className:"text-primary mt-2"},r.createElement("div",{className:"w-4 h-4 inline-block  border-secondary rounded-bl-lg border-l-2 border-b-2"})," ",r.createElement("div",{className:"inline-block "},P(I.status)))),x&&r.createElement("div",{className:"bg-tertiary flex-1 rounded mt-2 relative"},r.createElement("div",{className:"z-10 absolute left-2 top-2 p-2 hover:opacity-100 opacity-80"},r.createElement(s.A,{title:"Hide message flow"},r.createElement("button",{onClick:()=>_(!1),className:" p-1 rounded-md bg-tertiary hover:bg-secondary transition-colors"},r.createElement(De,{strokeWidth:1.5,size:22})))),m&&r.createElement(_n,{teamConfig:m,run:{...I,messages:$n(j)},viewMode:h,selectedPatternId:f}))))))))};const In=(0,Ie.A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),jn=(0,Ie.A)("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);var Rn=n(6844),Ln=n(5687),Pn=n(7677);const zn=(0,Ie.A)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Fn=(0,Ie.A)("SquareSplitHorizontal",[["path",{d:"M8 19H5c-1 0-2-1-2-2V7c0-1 1-2 2-2h3",key:"lubmu8"}],["path",{d:"M16 5h3c1 0 2 1 2 2v10c0 1-1 2-2 2h-3",key:"1ag34g"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);var Dn=n(5061),Wn=n(7015);var Gn=e=>{let{session:t,availableSessions:n,onSessionChange:o,className:l=""}=e;const[c,d]=r.useState(""),u=n.filter((e=>e.name.toLowerCase().includes(c.toLowerCase()))),m=[{type:"group",key:"search-sessions",label:r.createElement("div",null,r.createElement("div",{className:"text-xs text-secondary mb-1"},"Search sessions"),r.createElement(ot.A,{prefix:r.createElement(Wn.A,{className:"w-4 h-4"}),placeholder:"Search sessions",onChange:e=>d(e.target.value),onClick:e=>e.stopPropagation()}))},{type:"divider"}].concat((0,a.A)(u.map((e=>({key:(e.id||"").toString(),label:r.createElement("div",{className:"py-1"},r.createElement("div",{className:"font-medium"},e.name),r.createElement("div",{className:"text-xs text-secondary"},(0,dt.vq)(e.updated_at||"")))})))));return r.createElement(i.A,{menu:{items:m,onClick:e=>{let{key:t}=e;const a=n.find((e=>e.id===Number(t)));a&&o(a)}},trigger:["click"]},r.createElement("div",{className:`cursor-pointer flex items-center gap-2 min-w-0 ${l}`},r.createElement(s.A,{title:null==t?void 0:t.name},r.createElement("span",{className:"text-primary font-medium truncate overflow-hidden"},(null==t?void 0:t.name)||"Select Session")),r.createElement(Re.A,{className:"w-4 h-4 text-secondary flex-shrink-0"})))};const Bn=(e,t)=>{const n=e.config;return null!=n&&n.model_client?e:{...e,config:{...n,model_client:{...t}}}},qn=function(e,t){void 0===t&&(t={});const n=ln(e);if(!n)return{teamConfig:Vn(),pattern:null,isNewTeam:!0,warnings:[`Pattern '${e}' not found, using fallback sequential team`],modelClientModified:!0};const a=nn(e);if(!a)return{teamConfig:Vn(),pattern:n,isNewTeam:!0,warnings:[`No template for pattern '${e}', using fallback team`],modelClientModified:!0};const r=sn(a),o=r.config,s=t.modelClient||Qt;let i=!1;if(o.model_client&&(o.model_client={...s},i=!0),o.participants&&(o.participants=o.participants.map((e=>{const t=Bn(e,s);return t!==e&&(i=!0),t}))),t.useCombinedTermination){const e={...rn};t.maxMessages&&(e.config.conditions[1].config.max_messages=t.maxMessages),o.termination_condition=e}else t.terminationCondition&&(o.termination_condition=t.terminationCondition);return{teamConfig:r,pattern:n,isNewTeam:!0,warnings:[],modelClientModified:i}},Hn=function(e,t,n){var a,r;void 0===n&&(n={});const o=[],s=ln(t);if(!s)return o.push(`Pattern '${t}' not found, returning original team`),{teamConfig:e,pattern:null,isNewTeam:!1,warnings:o,modelClientModified:!1};const i=(null===(a=e.config)||void 0===a?void 0:a.participants)||[],l=i.length,c=(null===(r=s.structure)||void 0===r?void 0:r.minAgents)||2,d=i.map((e=>{var t,n;return{name:(null===(t=e.config)||void 0===t?void 0:t.name)||"unnamed",description:(null===(n=e.config)||void 0===n?void 0:n.description)||e.description||""}})),u=d.map((e=>e.name));if(console.log(`🔍 APPLY PATTERN TO EXISTING TEAM:\n    patternId: "${t}"\n    patternProvider: "${s.autogenProviderFull}"\n    patternMinAgents: ${c}\n    existingParticipantCount: ${l}\n    existingAgents: ${JSON.stringify(d,null,2)}\n    action: ${0===l?"CREATE NEW (no agents)":"KEEP EXISTING AGENTS"}\n  `),0===l)return console.log("✅ No existing agents - creating from pattern template"),o.push("No existing agents. Using pattern's default agents."),qn(t,n);console.log(`✅ Keeping ${l} existing agents and applying ${t} structure`);const m=JSON.parse(JSON.stringify(e)),p=m.config,g=nn(t);null==g||g.config;let h;m.provider=s.autogenProviderFull;let f=!1;if(n.modelClient?(h=n.modelClient,f=!0):n.preserveExistingModelClient&&null!=p&&p.model_client?h=p.model_client:(h=Qt,f=!0),"SelectorGroupChat"===s.autogenProvider){p.model_client&&n.preserveExistingModelClient||(p.model_client={...h},f=!0);{const e=u.join(", "),n=((e,t)=>{const n=t.map((e=>e.name)).join(", "),a=t.map((e=>`- ${e.name}: ${e.description||"No description"}`)).join("\n"),r={debate:`You are coordinating a multi-agent debate. You MUST rotate between different agents.\n\nAvailable Agents:\n${a}\n\nCRITICAL RULES:\n1. **NEVER select the same agent twice in a row** - you MUST choose a DIFFERENT agent than the last speaker\n2. Each agent must take turns presenting their unique perspective\n3. Ensure ALL agents participate by rotating through them fairly\n4. If Agent A just spoke, select Agent B or Agent C next - NEVER Agent A again\n\nBased on the conversation history, select the NEXT speaker (must be different from the last one).\nConsider:\n- Who just spoke? Select someone DIFFERENT\n- Has everyone had a chance to speak?\n- Whose expertise complements the current discussion?\n\nAvailable agents: ${n}\nReturn ONLY the agent name, nothing else. The agent MUST be different from the last speaker.`,selector:`You are a smart agent selector.\n\nAvailable Agents:\n${a}\n\nBased on the conversation history and the current request, choose the agent whose expertise best matches the needs.\n\nAvailable agents: ${n}\nReturn ONLY the agent name, nothing else.`,reflection:`You are coordinating a reflection/review pattern.\n\nAvailable Agents:\n${a}\n\nPattern: One agent produces work, another reviews and provides feedback.\nBased on the conversation, select who should respond next.\n\nAvailable agents: ${n}\nReturn ONLY the agent name, nothing else.`,default:`Select the next agent to speak.\n\nAvailable Agents:\n${a}\n\nBased on the conversation history, choose the most appropriate agent to continue.\nConsider each agent's expertise and the current topic.\n\nReturn ONLY the agent name, nothing else.`};return r[e]||r.default})(t,d);p.selector_prompt=n,o.push(`Generated dynamic selector_prompt for agents: [${e}]`),console.log(`📝 Dynamic selector_prompt generated for pattern "${t}" with agents:\n${d.map((e=>`  - ${e.name}: ${e.description}`)).join("\n")}`)}var v,y;if(void 0===p.allow_repeated_speaker)p.allow_repeated_speaker=null===(v=null===(y=s.requiredConfig)||void 0===y?void 0:y.allow_repeated_speaker)||void 0===v||v}return i.length>0&&(p.participants=i.map((e=>{const t=Bn(e,h);return t!==e&&(f=!0),t}))),p.termination_condition||(n.useCombinedTermination?p.termination_condition={...rn}:n.terminationCondition?p.termination_condition=n.terminationCondition:p.termination_condition={...en},o.push("Added default termination condition")),{teamConfig:m,pattern:s,isNewTeam:!1,warnings:o,modelClientModified:f}},Yn=function(e,t,n){if(void 0===n&&(n={}),!e)return qn(t,n);const a=e.config;return(null==a?void 0:a.participants)&&a.participants.length>0?Hn(e,t,n):qn(t,n)},Vn=()=>({provider:"autogen_agentchat.teams.RoundRobinGroupChat",component_type:"team",config:{participants:[on("Assistant","General purpose assistant","You are a helpful assistant."),on("Reviewer","Reviews and validates work","You review work and say TERMINATE when satisfied.")],termination_condition:en}}),Un=e=>{var t;const n=[],a=e.config;return e.provider||n.push("Missing team provider"),null!=a&&a.participants&&0!==a.participants.length?a.participants.forEach(((e,t)=>{var a,r;null!==(a=e.config)&&void 0!==a&&a.model_client||n.push(`Participant ${t} (${(null===(r=e.config)||void 0===r?void 0:r.name)||"unnamed"}) missing model_client`)})):n.push("Team has no participants"),null!==(t=e.provider)&&void 0!==t&&t.includes("SelectorGroupChat")&&(null!=a&&a.model_client||n.push("SelectorGroupChat requires team-level model_client")),{valid:0===n.length,errors:n}};const Jn=function(e,t,n){return void 0===n&&(n={}),Yn(e,t,n)},Xn=e=>{var t;const n=Un(e),a=[],r=e.config;return null!==(t=e.provider)&&void 0!==t&&t.includes("SelectorGroupChat")&&(null!=r&&r.selector_prompt||a.push("SelectorGroupChat without selector_prompt may use default behavior")),null!=r&&r.termination_condition||a.push("No termination_condition set - task may run indefinitely"),{valid:n.valid,errors:n.errors,warnings:a}};n(8351).A;function Kn(e){var t;let{session:n,isCompareMode:u=!1,isSecondaryView:m=!1,onCompareClick:p,onExitCompare:g,onSessionChange:h,availableSessions:f=[],showCompareButton:v=!0}=e;const y=(0,c.Tt)(),[b,E]=r.useState(!1),[w,x]=r.useState({status:!0,message:"All good"}),[_,k]=r.useState([]),[N,C]=r.useState(null),[A,S]=o.Ay.useMessage(),M=r.useRef(null),[O,$]=r.useState(null),[T,I]=r.useState("pattern"),[j,R]=r.useState("sequential"),L=r.useMemo((()=>ln(j)||Zt[0]),[j]),P=r.useMemo((()=>Zt.map((e=>({key:e.id,icon:"sequential"===e.id?r.createElement(tt.A,{className:"w-4 h-4"}):"selector"===e.id?r.createElement(In,{className:"w-4 h-4"}):"swarm"===e.id?r.createElement(jn,{className:"w-4 h-4"}):"reflection"===e.id?r.createElement(Rn.A,{className:"w-4 h-4"}):r.createElement(Ln.A,{className:"w-4 h-4"}),label:e.name})))),[]),{user:z}=r.useContext(d.v),[F,D]=r.useState(null),[W,G]=r.useState(null),B=r.useMemo((()=>{var e,t;if(!j)return W;const n=Jn(W,j);console.log("🔄 PATTERN APPLIED:",{patternId:j,originalProvider:null==W?void 0:W.provider,newProvider:null===(e=n.teamConfig)||void 0===e?void 0:e.provider,providerChanged:(null==W?void 0:W.provider)!==(null===(t=n.teamConfig)||void 0===t?void 0:t.provider),isNewTeam:n.isNewTeam}),n.warnings.length>0&&console.log("Pattern configuration warnings:",n.warnings);const a=Xn(n.teamConfig);return a.valid||console.warn("Team validation errors:",a.errors),a.warnings.length>0&&console.log("Team validation warnings:",a.warnings),n.teamConfig}),[W,j]),{uiSettings:q}=(0,An.C)(),H=r.useMemo((()=>Cn(q.human_input_timeout_minutes||3)),[q.human_input_timeout_minutes]),Y=r.useRef(null),V=r.useRef(null),U=(e,t,n)=>({created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),config:e,session_id:n,run_id:t,user_id:(null==z?void 0:z.id)||void 0});r.useEffect((()=>{null!=n&&n.id?((async()=>{if(null!=n&&n.id&&null!=z&&z.id)try{const e=await Ce.j.getSessionRuns(n.id,z.id);k(e.runs)}catch(w){console.error("Error loading session runs:",w),A.error("Failed to load chat history")}})(),C(null)):(k([]),C(null))}),[null==n?void 0:n.id]),r.useEffect((()=>{null!=n&&n.team_id&&null!=z&&z.id&&Ne.CG.getTeam(n.team_id,z.id).then((e=>{G(e.component)})).catch((e=>{console.error("Error loading team config:",e),G(null)}))}),[n]),r.useEffect((()=>{if(null!=W&&W.provider){const e=cn(W.provider);e&&R(e.id)}}),[W]),r.useEffect((()=>{setTimeout((()=>{M.current&&_.length>0&&M.current.scrollTo({top:M.current.scrollHeight,behavior:"auto"})}),450)}),[_.length,null==N?void 0:N.messages]),r.useEffect((()=>()=>{Y.current&&clearTimeout(Y.current),null==F||F.close()}),[F]);const J=e=>{console.error("Error:",e),o.Ay.error("Error during request processing"),C((t=>{if(!t)return null;const n={...t,status:"error",error_message:e instanceof Error?e.message:"Unknown error occurred"};return k((e=>[].concat((0,a.A)(e),[n]))),null})),x({status:!1,message:e instanceof Error?e.message:"Unknown error occurred"})},X=(e,t,r)=>{if(!n||!n.id)throw new Error("Invalid session configuration");(null==F?void 0:F.readyState)===WebSocket.OPEN&&F.close();const o=K(y),s="https:"===window.location.protocol?"wss:":"ws:",i=localStorage.getItem("auth_token"),l=new WebSocket(`${s}//${o}/api/ws/runs/${e}?token=${i}`);return C({id:e,created_at:(new Date).toISOString(),status:"active",task:[U({content:t,source:"user"},e,n.id||0).config],team_result:null,messages:[],error_message:void 0}),l.onopen=()=>{l.send(JSON.stringify({type:"start",task:t,files:r,team_config:B}))},l.onmessage=e=>{try{(e=>{C((t=>{if(!t||null==n||!n.id)return null;switch(e.type){case"error":Y.current&&(clearTimeout(Y.current),Y.current=null),F&&(F.close(),D(null),V.current=null),console.log("Error: ",e.error);const r={...t,status:"error",error_message:e.error||"An error occurred"};return k((e=>[].concat((0,a.A)(e),[r]))),null;case"message_chunk":if(!e.data)return t;try{const n=e.data;$((e=>({runId:t.id,content:((null==e?void 0:e.content)||"")+(n.content||""),source:n.source||"assistant"})))}catch(w){console.error("Error parsing message chunk:",w)}return t;case"message":if($(null),!e.data)return t;const o=U(e.data,t.id,n.id);return{...t,messages:[].concat((0,a.A)(t.messages),[o])};case"input_request":return Y.current&&clearTimeout(Y.current),Y.current=setTimeout((()=>{const e=V.current;console.log("Input timeout",e),(null==e?void 0:e.readyState)===WebSocket.OPEN&&(e.send(JSON.stringify({type:"stop",reason:H.DEFAULT_MESSAGE,code:H.WEBSOCKET_CODE})),C((e=>e?{...e,status:"stopped",error_message:H.DEFAULT_MESSAGE}:null)))}),H.DURATION_MS),{...t,status:"awaiting_input"};case"result":case"completion":const s="complete"===e.status?"complete":"error"===e.status?"error":"stopped",i=e=>e&&"task_result"in e&&"usage"in e&&"duration"in e,l={...t,status:s,team_result:e.data&&i(e.data)?e.data:null};return"complete"===s?(Y.current&&(clearTimeout(Y.current),Y.current=null),F&&(F.close(),D(null),V.current=null),k((e=>[].concat((0,a.A)(e),[l]))),null):l;default:return t}}))})(JSON.parse(e.data))}catch(w){console.error("WebSocket message parsing error:",w)}},l.onclose=()=>{V.current=null,D(null)},l.onerror=e=>{J(e)},l},K=e=>{try{let t=e.replace(/(^\w+:|^)\/\//,"");return t=t.startsWith("localhost")?t.replace("/api",""):"/api"===t?window.location.host:t.replace("/api","").replace(/\/$/,""),t}catch(w){throw console.error("Error processing server URL:",w),new Error("Invalid server URL configuration")}};return r.createElement("div",{className:"text-primary h-[calc(100vh-165px)] bg-primary relative rounded flex-1 scroll"},S,r.createElement("div",{className:"flex pt-2 items-center justify-between text-sm h-10"},r.createElement("div",{className:"flex items-center gap-2 min-w-0 overflow-hidden flex-1 pr-4"},u?r.createElement(Gn,{session:n,availableSessions:f,onSessionChange:h||(()=>{}),className:"w-full"}):r.createElement(r.Fragment,null,r.createElement("span",{className:"text-primary font-medium whitespace-nowrap flex-shrink-0"},"Sessions"),n&&r.createElement(r.Fragment,null,r.createElement(Pn.A,{className:"w-4 h-4 text-secondary flex-shrink-0"}),r.createElement(s.A,{title:n.name},r.createElement("span",{className:"text-secondary truncate overflow-hidden"},n.name))))),r.createElement("div",{className:"flex items-center gap-2 flex-shrink-0 whitespace-nowrap"},W&&r.createElement(i.A,{menu:{items:P,onClick:e=>{let{key:t}=e;return R(t)},selectedKeys:[j]},trigger:["click"]},r.createElement(s.A,{title:(null==L?void 0:L.description)||"Select collaboration pattern"},r.createElement("button",{className:"flex items-center gap-1 px-2 py-1.5 rounded-md text-xs bg-secondary hover:bg-tertiary transition-colors border border-secondary"},"sequential"===j&&r.createElement(tt.A,{className:"w-3.5 h-3.5"}),"selector"===j&&r.createElement(In,{className:"w-3.5 h-3.5"}),"swarm"===j&&r.createElement(jn,{className:"w-3.5 h-3.5"}),!["sequential","selector","swarm"].includes(j)&&r.createElement(Ln.A,{className:"w-3.5 h-3.5"}),r.createElement("span",{className:"hidden sm:inline"},(null==L||null===(t=L.name)||void 0===t?void 0:t.split(" ")[0])||"Pattern"),r.createElement(Re.A,{className:"w-3 h-3"})))),W&&r.createElement("div",{className:"flex items-center bg-secondary rounded-md p-0.5"},r.createElement(s.A,{title:"Pattern View - Shows team collaboration structure"},r.createElement("button",{onClick:()=>I("pattern"),className:"flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors "+("pattern"===T?"bg-accent text-white":"text-secondary hover:text-primary")},r.createElement(zn,{className:"w-3.5 h-3.5"}),"Pattern")),r.createElement(s.A,{title:"Execution View - Shows actual message flow"},r.createElement("button",{onClick:()=>I("execution"),className:"flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors "+("execution"===T?"bg-accent text-white":"text-secondary hover:text-primary")},r.createElement(Rn.A,{className:"w-3.5 h-3.5"}),"Execution"))),!u&&!m&&v&&r.createElement(l.Ay,{type:"text",onClick:p,icon:r.createElement(Fn,{className:"w-4 h-4"})},"Compare"),u&&m&&r.createElement(l.Ay,{type:"text",onClick:g,icon:r.createElement(be.A,{className:"w-4 h-4"})},"Exit Compare"))),r.createElement("div",{className:"flex flex-col h-full"},r.createElement("div",{ref:M,className:"flex-1 overflow-y-auto scroll mt-2 min-h-0 relative"},r.createElement("div",{id:"scroll-gradient",className:"scroll-gradient h-8 top-0"}," ",r.createElement("span",{className:"  inline-block h-6"})," "),r.createElement(r.Fragment,null,W&&r.createElement(r.Fragment,null,_.map(((e,t)=>r.createElement(Tn,{teamConfig:B||W,key:e.id+"-review-"+t+"-"+j,run:e,isFirstRun:0===t,viewMode:T,selectedPatternId:j}))),N&&B&&r.createElement(Tn,{run:N,teamConfig:B,onInputResponse:async e=>{if(V.current&&N){if(V.current.readyState!==WebSocket.OPEN)return console.error("Socket not in OPEN state:",V.current.readyState),void J(new Error("WebSocket connection not available"));Y.current&&(clearTimeout(Y.current),Y.current=null);try{V.current.send(JSON.stringify({type:"input_response",response:e})),C((e=>e?{...e,status:"active"}:null))}catch(w){J(w)}}},onCancel:async()=>{if(V.current&&N){Y.current&&(clearTimeout(Y.current),Y.current=null);try{V.current.send(JSON.stringify({type:"stop",reason:"Cancelled by user"})),C((e=>e?{...e,status:"stopped"}:null))}catch(w){J(w)}}},isFirstRun:0===_.length,streamingContent:O,viewMode:T,selectedPatternId:j}),!N&&0===_.length&&B&&r.createElement("div",{className:"flex flex-col items-center justify-center h-[80%]"},r.createElement("div",{className:"text-center mb-4"},r.createElement(Ln.A,{strokeWidth:1,className:"w-12 h-12 mb-2 inline-block text-secondary"}),r.createElement("div",{className:"font-medium mb-1"},(null==L?void 0:L.name)||"Pattern"),r.createElement("div",{className:"text-secondary text-sm"},"Enter a task to start the conversation")),r.createElement("div",{className:"w-full max-w-2xl h-[350px] bg-tertiary rounded-lg border border-secondary"},r.createElement(_n,{teamConfig:B,run:{id:0,created_at:(new Date).toISOString(),status:"created",messages:[],task:[],team_result:null,error_message:void 0},viewMode:"pattern",selectedPatternId:j})))),!W&&r.createElement("div",{className:"flex items-center justify-center h-[80%]"},r.createElement("div",{className:"text-center  "},r.createElement(Dn.A,{strokeWidth:1,className:"w-64 h-64 mb-4 inline-block"}),r.createElement("div",{className:"  font-medium mb-2"},"No team configuration found for this session (may have been deleted)."," "),r.createElement("div",{className:"text-secondary text-sm"},"Add a team to the session to get started."))))),n&&B&&r.createElement("div",{className:"flex-shrink-0"},r.createElement(ke,{onSubmit:async function(e,t){if(void 0===t&&(t=[]),x(null),E(!0),F&&(F.close(),D(null),V.current=null),Y.current&&(clearTimeout(Y.current),Y.current=null),null!=n&&n.id&&B)try{const a=await(async e=>await Ce.j.createRun(e,(null==z?void 0:z.id)||""))(n.id),r=await(0,c.f7)(t);C({id:a,created_at:(new Date).toISOString(),status:"created",messages:[],task:[{content:e,source:"user"}],team_result:null,error_message:void 0});const o=X(a,e,r);D(o),V.current=o}catch(w){J(w)}finally{E(!1)}else E(!1)},loading:b,error:w,disabled:"awaiting_input"===(null==N?void 0:N.status)||"active"===(null==N?void 0:N.status)}))))}},4060:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});const a=(0,n(1788).A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},4168:function(e){e.exports=function(e){var t=0,n=[],a={},r=[];function o(s){var i=a[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){Object.hasOwn(a,e)?a[e].onStack&&(i.lowlink=Math.min(i.lowlink,a[e].index)):(o(e),i.lowlink=Math.min(i.lowlink,a[e].lowlink))})),i.lowlink===i.index){var l,c=[];do{l=n.pop(),a[l].onStack=!1,c.push(l)}while(s!==l);r.push(c)}}return e.nodes().forEach((function(e){Object.hasOwn(a,e)||o(e)})),r}},4318:function(e,t,n){var a=n(6316);e.exports=function(e,t,n,o){return function(e,t,n,r){var o,s,i={},l=new a,c=function(e){var t=e.v!==o?e.v:e.w,a=i[t],r=n(e),c=s.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+r);c<a.distance&&(a.distance=c,a.predecessor=o,l.decrease(t,c))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;i[e]={distance:n},l.add(e,n)}));for(;l.size()>0&&(o=l.removeMin(),(s=i[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(c);return i}(e,String(t),n||r,o||function(t){return e.outEdges(t)})};var r=()=>1},4529:function(e){e.exports="1.1.4"},4570:function(e,t,n){let a=n(6743).Graph,r=n(6796);e.exports=function(e,t){if(e.nodeCount()<=1)return[];let n=function(e,t){let n=new a,o=0,s=0;e.nodes().forEach((e=>{n.setNode(e,{v:e,in:0,out:0})})),e.edges().forEach((e=>{let a=n.edge(e.v,e.w)||0,r=t(e),i=a+r;n.setEdge(e.v,e.w,i),s=Math.max(s,n.node(e.v).out+=r),o=Math.max(o,n.node(e.w).in+=r)}));let l=function(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}(s+o+3).map((()=>new r)),c=o+1;return n.nodes().forEach((e=>{i(l,c,n.node(e))})),{graph:n,buckets:l,zeroIdx:c}}(e,t||o);return function(e,t,n){let a,r=[],o=t[t.length-1],i=t[0];for(;e.nodeCount();){for(;a=i.dequeue();)s(e,t,n,a);for(;a=o.dequeue();)s(e,t,n,a);if(e.nodeCount())for(let o=t.length-2;o>0;--o)if(a=t[o].dequeue(),a){r=r.concat(s(e,t,n,a,!0));break}}return r}(n.graph,n.buckets,n.zeroIdx).flatMap((t=>e.outEdges(t.v,t.w)))};let o=()=>1;function s(e,t,n,a,r){let o=r?[]:void 0;return e.inEdges(a.v).forEach((a=>{let s=e.edge(a),l=e.node(a.v);r&&o.push({v:a.v,w:a.w}),l.out-=s,i(t,n,l)})),e.outEdges(a.v).forEach((a=>{let r=e.edge(a),o=a.w,s=e.node(o);s.in-=r,i(t,n,s)})),e.removeNode(a.v),o}function i(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},4718:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});const a=(0,n(1788).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},4809:function(e,t,n){"use strict";let a=n(6743).Graph;function r(e,t,n,a){let r;do{r=c(a)}while(e.hasNode(r));return n.dummy=t,e.setNode(r,n),r}e.exports={addBorderNode:function(e,t,n,a){let o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=a);return r(e,"border",o,t)},addDummyNode:r,applyWithChunking:s,asNonCompoundGraph:function(e){let t=new a({multigraph:e.isMultigraph()}).setGraph(e.graph());return e.nodes().forEach((n=>{e.children(n).length||t.setNode(n,e.node(n))})),e.edges().forEach((n=>{t.setEdge(n,e.edge(n))})),t},buildLayerMatrix:function(e){let t=d(i(e)+1).map((()=>[]));return e.nodes().forEach((n=>{let a=e.node(n),r=a.rank;void 0!==r&&(t[r][a.order]=n)})),t},intersectRect:function(e,t){let n,a,r=e.x,o=e.y,s=t.x-r,i=t.y-o,l=e.width/2,c=e.height/2;if(!s&&!i)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(i)*l>Math.abs(s)*c?(i<0&&(c=-c),n=c*s/i,a=c):(s<0&&(l=-l),n=l,a=l*i/s);return{x:r+n,y:o+a}},mapValues:function(e,t){let n=t;"string"==typeof t&&(n=e=>e[t]);return Object.entries(e).reduce(((e,[t,a])=>(e[t]=n(a,t),e)),{})},maxRank:i,normalizeRanks:function(e){let t=e.nodes().map((t=>{let n=e.node(t).rank;return void 0===n?Number.MAX_VALUE:n})),n=s(Math.min,t);e.nodes().forEach((t=>{let a=e.node(t);Object.hasOwn(a,"rank")&&(a.rank-=n)}))},notime:function(e,t){return t()},partition:function(e,t){let n={lhs:[],rhs:[]};return e.forEach((e=>{t(e)?n.lhs.push(e):n.rhs.push(e)})),n},pick:function(e,t){const n={};for(const a of t)void 0!==e[a]&&(n[a]=e[a]);return n},predecessorWeights:function(e){let t=e.nodes().map((t=>{let n={};return e.inEdges(t).forEach((t=>{n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return u(e.nodes(),t)},range:d,removeEmptyRanks:function(e){let t=e.nodes().map((t=>e.node(t).rank)),n=s(Math.min,t),a=[];e.nodes().forEach((t=>{let r=e.node(t).rank-n;a[r]||(a[r]=[]),a[r].push(t)}));let r=0,o=e.graph().nodeRankFactor;Array.from(a).forEach(((t,n)=>{void 0===t&&n%o!==0?--r:void 0!==t&&r&&t.forEach((t=>e.node(t).rank+=r))}))},simplify:function(e){let t=(new a).setGraph(e.graph());return e.nodes().forEach((n=>t.setNode(n,e.node(n)))),e.edges().forEach((n=>{let a=t.edge(n.v,n.w)||{weight:0,minlen:1},r=e.edge(n);t.setEdge(n.v,n.w,{weight:a.weight+r.weight,minlen:Math.max(a.minlen,r.minlen)})})),t},successorWeights:function(e){let t=e.nodes().map((t=>{let n={};return e.outEdges(t).forEach((t=>{n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return u(e.nodes(),t)},time:function(e,t){let n=Date.now();try{return t()}finally{console.log(e+" time: "+(Date.now()-n)+"ms")}},uniqueId:c,zipObject:u};const o=65535;function s(e,t){if(t.length>o){const n=function(e,t=o){const n=[];for(let a=0;a<e.length;a+=t){const r=e.slice(a,a+t);n.push(r)}return n}(t);return e.apply(null,n.map((t=>e.apply(null,t))))}return e.apply(null,t)}function i(e){const t=e.nodes().map((t=>{let n=e.node(t).rank;return void 0===n?Number.MIN_VALUE:n}));return s(Math.max,t)}let l=0;function c(e){var t=++l;return toString(e)+t}function d(e,t,n=1){null==t&&(t=e,e=0);let a=e=>e<t;n<0&&(a=e=>t<e);const r=[];for(let o=e;a(o);o+=n)r.push(o);return r}function u(e,t){return e.reduce(((e,n,a)=>(e[n]=t[a],e)),{})}},4822:function(e,t,n){"use strict";let a=n(2667),r=n(7764),o=n(3535),s=n(3843),i=n(477),l=n(6743).Graph,c=n(4809);function d(e,t,n){return t.map((function(t){return s(e,t,n)}))}function u(e,t){let n=new l;e.forEach((function(e){let a=e.graph().root,r=o(e,a,n,t);r.vs.forEach(((t,n)=>e.node(t).order=n)),i(e,n,r.vs)}))}function m(e,t){Object.values(t).forEach((t=>t.forEach(((t,n)=>e.node(t).order=n))))}e.exports=function e(t,n){if(n&&"function"==typeof n.customOrder)return void n.customOrder(t,e);let o=c.maxRank(t),s=d(t,c.range(1,o+1),"inEdges"),i=d(t,c.range(o-1,-1,-1),"outEdges"),l=a(t);if(m(t,l),n&&n.disableOptimalOrderHeuristic)return;let p,g=Number.POSITIVE_INFINITY;for(let a=0,d=0;d<4;++a,++d){u(a%2?s:i,a%4>=2),l=c.buildLayerMatrix(t);let e=r(t,l);e<g&&(d=0,p=Object.assign({},l),g=e)}m(t,p)}},4867:function(e){e.exports=function(e){let t=function(e){let t={},n=0;function a(r){let o=n;e.children(r).forEach(a),t[r]={low:o,lim:n++}}return e.children().forEach(a),t}(e);e.graph().dummyChains.forEach((n=>{let a=e.node(n),r=a.edgeObj,o=function(e,t,n,a){let r,o,s=[],i=[],l=Math.min(t[n].low,t[a].low),c=Math.max(t[n].lim,t[a].lim);r=n;do{r=e.parent(r),s.push(r)}while(r&&(t[r].low>l||c>t[r].lim));o=r,r=a;for(;(r=e.parent(r))!==o;)i.push(r);return{path:s.concat(i.reverse()),lca:o}}(e,t,r.v,r.w),s=o.path,i=o.lca,l=0,c=s[l],d=!0;for(;n!==r.w;){if(a=e.node(n),d){for(;(c=s[l])!==i&&e.node(c).maxRank<a.rank;)l++;c===i&&(d=!1)}if(!d){for(;l<s.length-1&&e.node(c=s[l+1]).minRank<=a.rank;)l++;c=s[l]}e.setParent(n,c),n=e.successors(n)[0]}}))}},5456:function(e,t,n){var a=n(6239),r=n(6316);e.exports=function(e,t){var n,o=new a,s={},i=new r;function l(e){var a=e.v===n?e.w:e.v,r=i.priority(a);if(void 0!==r){var o=t(e);o<r&&(s[a]=n,i.decrease(a,o))}}if(0===e.nodeCount())return o;e.nodes().forEach((function(e){i.add(e,Number.POSITIVE_INFINITY),o.setNode(e)})),i.decrease(e.nodes()[0],0);var c=!1;for(;i.size()>0;){if(n=i.removeMin(),Object.hasOwn(s,n))o.setEdge(n,s[n]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(n).forEach(l)}return o}},5677:function(e){"use strict";function t(e){e.nodes().forEach((t=>n(e.node(t)))),e.edges().forEach((t=>n(e.edge(t))))}function n(e){let t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function r(e){let t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){let n=e.graph().rankdir.toLowerCase();"lr"!==n&&"rl"!==n||t(e)},undo:function(e){let n=e.graph().rankdir.toLowerCase();"bt"!==n&&"rl"!==n||function(e){e.nodes().forEach((t=>a(e.node(t)))),e.edges().forEach((t=>{let n=e.edge(t);n.points.forEach(a),Object.hasOwn(n,"y")&&a(n)}))}(e);"lr"!==n&&"rl"!==n||(!function(e){e.nodes().forEach((t=>r(e.node(t)))),e.edges().forEach((t=>{let n=e.edge(t);n.points.forEach(r),Object.hasOwn(n,"x")&&r(n)}))}(e),t(e))}}},5944:function(e){e.exports=function(e){var t,n={},a=[];function r(a){Object.hasOwn(n,a)||(n[a]=!0,t.push(a),e.successors(a).forEach(r),e.predecessors(a).forEach(r))}return e.nodes().forEach((function(e){t=[],r(e),t.length&&a.push(t)})),a}},6043:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});const a=(0,n(1788).A)("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]])},6156:function(e,t,n){"use strict";var a=n(6540);function r({title:e,titleId:t,...n},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const o=a.forwardRef(r);t.A=o},6239:function(e){"use strict";var t="\0";function n(e,t){e[t]?e[t]++:e[t]=1}function a(e,t){--e[t]||delete e[t]}function r(e,t,n,a){var r=""+t,o=""+n;if(!e&&r>o){var s=r;r=o,o=s}return r+""+o+""+(void 0===a?"\0":a)}function o(e,t){return r(e,t.v,t.w,t.name)}e.exports=class{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(e){e&&(this._isDirected=!Object.hasOwn(e,"directed")||e.directed,this._isMultigraph=!!Object.hasOwn(e,"multigraph")&&e.multigraph,this._isCompound=!!Object.hasOwn(e,"compound")&&e.compound),this._isCompound&&(this._parent={},this._children={},this._children[t]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return this._defaultNodeLabelFn=e,"function"!=typeof e&&(this._defaultNodeLabelFn=()=>e),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var e=this;return this.nodes().filter((t=>0===Object.keys(e._in[t]).length))}sinks(){var e=this;return this.nodes().filter((t=>0===Object.keys(e._out[t]).length))}setNodes(e,t){var n=arguments,a=this;return e.forEach((function(e){n.length>1?a.setNode(e,t):a.setNode(e)})),this}setNode(e,n){return Object.hasOwn(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=n),this):(this._nodes[e]=arguments.length>1?n:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=t,this._children[e]={},this._children[t][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.hasOwn(this._nodes,e)}removeNode(e){var t=this;if(Object.hasOwn(this._nodes,e)){var n=e=>t.removeEdge(t._edgeObjs[e]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],this.children(e).forEach((function(e){t.setParent(e)})),delete this._children[e]),Object.keys(this._in[e]).forEach(n),delete this._in[e],delete this._preds[e],Object.keys(this._out[e]).forEach(n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(void 0===n)n=t;else{for(var a=n+="";void 0!==a;a=this.parent(a))if(a===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=n,this._children[n][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var n=this._parent[e];if(n!==t)return n}}children(e=t){if(this._isCompound){var n=this._children[e];if(n)return Object.keys(n)}else{if(e===t)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return Object.keys(t)}successors(e){var t=this._sucs[e];if(t)return Object.keys(t)}neighbors(e){var t=this.predecessors(e);if(t){const a=new Set(t);for(var n of this.successors(e))a.add(n);return Array.from(a.values())}}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;Object.entries(this._nodes).forEach((function([n,a]){e(n)&&t.setNode(n,a)})),Object.values(this._edgeObjs).forEach((function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var a={};function r(e){var o=n.parent(e);return void 0===o||t.hasNode(o)?(a[e]=o,o):o in a?a[o]:r(o)}return this._isCompound&&t.nodes().forEach((e=>t.setParent(e,r(e)))),t}setDefaultEdgeLabel(e){return this._defaultEdgeLabelFn=e,"function"!=typeof e&&(this._defaultEdgeLabelFn=()=>e),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(e,t){var n=this,a=arguments;return e.reduce((function(e,r){return a.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this}setEdge(){var e,t,a,o,s=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(e=i.v,t=i.w,a=i.name,2===arguments.length&&(o=arguments[1],s=!0)):(e=i,t=arguments[1],a=arguments[3],arguments.length>2&&(o=arguments[2],s=!0)),e=""+e,t=""+t,void 0!==a&&(a=""+a);var l=r(this._isDirected,e,t,a);if(Object.hasOwn(this._edgeLabels,l))return s&&(this._edgeLabels[l]=o),this;if(void 0!==a&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[l]=s?o:this._defaultEdgeLabelFn(e,t,a);var c=function(e,t,n,a){var r=""+t,o=""+n;if(!e&&r>o){var s=r;r=o,o=s}var i={v:r,w:o};a&&(i.name=a);return i}(this._isDirected,e,t,a);return e=c.v,t=c.w,Object.freeze(c),this._edgeObjs[l]=c,n(this._preds[t],e),n(this._sucs[e],t),this._in[t][l]=c,this._out[e][l]=c,this._edgeCount++,this}edge(e,t,n){var a=1===arguments.length?o(this._isDirected,arguments[0]):r(this._isDirected,e,t,n);return this._edgeLabels[a]}edgeAsObj(){const e=this.edge(...arguments);return"object"!=typeof e?{label:e}:e}hasEdge(e,t,n){var a=1===arguments.length?o(this._isDirected,arguments[0]):r(this._isDirected,e,t,n);return Object.hasOwn(this._edgeLabels,a)}removeEdge(e,t,n){var s=1===arguments.length?o(this._isDirected,arguments[0]):r(this._isDirected,e,t,n),i=this._edgeObjs[s];return i&&(e=i.v,t=i.w,delete this._edgeLabels[s],delete this._edgeObjs[s],a(this._preds[t],e),a(this._sucs[e],t),delete this._in[t][s],delete this._out[e][s],this._edgeCount--),this}inEdges(e,t){var n=this._in[e];if(n){var a=Object.values(n);return t?a.filter((e=>e.v===t)):a}}outEdges(e,t){var n=this._out[e];if(n){var a=Object.values(n);return t?a.filter((e=>e.w===t)):a}}nodeEdges(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}}},6316:function(e){e.exports=class{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map((function(e){return e.key}))}has(e){return Object.hasOwn(this._keyIndices,e)}priority(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority}min(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key}add(e,t){var n=this._keyIndices;if(e=String(e),!Object.hasOwn(n,e)){var a=this._arr,r=a.length;return n[e]=r,a.push({key:e,priority:t}),this._decrease(r),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key}decrease(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)}_heapify(e){var t=this._arr,n=2*e,a=n+1,r=e;n<t.length&&(r=t[n].priority<t[r].priority?n:r,a<t.length&&(r=t[a].priority<t[r].priority?a:r),r!==e&&(this._swap(e,r),this._heapify(r)))}_decrease(e){for(var t,n=this._arr,a=n[e].priority;0!==e&&!(n[t=e>>1].priority<a);)this._swap(e,t),e=t}_swap(e,t){var n=this._arr,a=this._keyIndices,r=n[e],o=n[t];n[e]=o,n[t]=r,a[o.key]=e,a[r.key]=t}}},6361:function(e){e.exports=function(e,t=[]){return t.map((t=>{let n=e.inEdges(t);if(n.length){let a=n.reduce(((t,n)=>{let a=e.edge(n),r=e.node(n.v);return{sum:t.sum+a.weight*r.order,weight:t.weight+a.weight}}),{sum:0,weight:0});return{v:t,barycenter:a.sum/a.weight,weight:a.weight}}return{v:t}}))}},6554:function(e,t,n){let a=n(4809);function r(e,t,n,o,s,i,l){let c=e.children(l);if(!c.length)return void(l!==t&&e.setEdge(t,l,{weight:0,minlen:n}));let d=a.addBorderNode(e,"_bt"),u=a.addBorderNode(e,"_bb"),m=e.node(l);e.setParent(d,l),m.borderTop=d,e.setParent(u,l),m.borderBottom=u,c.forEach((a=>{r(e,t,n,o,s,i,a);let c=e.node(a),m=c.borderTop?c.borderTop:a,p=c.borderBottom?c.borderBottom:a,g=c.borderTop?o:2*o,h=m!==p?1:s-i[l]+1;e.setEdge(d,m,{weight:g,minlen:h,nestingEdge:!0}),e.setEdge(p,u,{weight:g,minlen:h,nestingEdge:!0})})),e.parent(l)||e.setEdge(t,d,{weight:0,minlen:s+i[l]})}e.exports={run:function(e){let t=a.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(a,r){var o=e.children(a);o&&o.length&&o.forEach((e=>n(e,r+1))),t[a]=r}return e.children().forEach((e=>n(e,1))),t}(e),o=Object.values(n),s=a.applyWithChunking(Math.max,o)-1,i=2*s+1;e.graph().nestingRoot=t,e.edges().forEach((t=>e.edge(t).minlen*=i));let l=function(e){return e.edges().reduce(((t,n)=>t+e.edge(n).weight),0)}(e)+1;e.children().forEach((a=>r(e,t,i,l,s,n,a))),e.graph().nodeRankFactor=i},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,e.edges().forEach((t=>{e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},6743:function(e,t,n){var a=n(9351);e.exports={Graph:a.Graph,json:n(2377),alg:n(7174),version:a.version}},6796:function(e){function t(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function n(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=class{constructor(){let e={};e._next=e._prev=e,this._sentinel=e}dequeue(){let e=this._sentinel,n=e._prev;if(n!==e)return t(n),n}enqueue(e){let n=this._sentinel;e._prev&&e._next&&t(e),e._next=n._next,n._next._prev=e,n._next=e,e._prev=n}toString(){let e=[],t=this._sentinel,a=t._prev;for(;a!==t;)e.push(JSON.stringify(a,n)),a=a._prev;return"["+e.join(", ")+"]"}}},7015:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});const a=(0,n(1788).A)("TextSearch",[["path",{d:"M21 6H3",key:"1jwq7v"}],["path",{d:"M10 12H3",key:"1ulcyk"}],["path",{d:"M10 18H3",key:"13769t"}],["circle",{cx:"17",cy:"15",r:"3",key:"1upz2a"}],["path",{d:"m21 19-1.9-1.9",key:"dwi7p8"}]])},7174:function(e,t,n){e.exports={components:n(5944),dijkstra:n(4318),dijkstraAll:n(9552),findCycles:n(2839),floydWarshall:n(8929),isAcyclic:n(7681),postorder:n(7448),preorder:n(9439),prim:n(5456),tarjan:n(4168),topsort:n(9441)}},7204:function(e,t,n){let a=n(4809);function r(e,t,n){let a;for(;t.length&&(a=t[t.length-1]).i<=n;)t.pop(),e.push(a.vs),n++;return n}e.exports=function(e,t){let n=a.partition(e,(e=>Object.hasOwn(e,"barycenter"))),o=n.lhs,s=n.rhs.sort(((e,t)=>t.i-e.i)),i=[],l=0,c=0,d=0;o.sort((u=!!t,(e,t)=>e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:u?t.i-e.i:e.i-t.i)),d=r(i,s,d),o.forEach((e=>{d+=e.vs.length,i.push(e.vs),l+=e.barycenter*e.weight,c+=e.weight,d=r(i,s,d)}));var u;let m={vs:i.flat(!0)};c&&(m.barycenter=l/c,m.weight=c);return m}},7235:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});const a=(0,n(1788).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7277:function(e,t,n){"use strict";let a=n(4809),r=n(2806).positionX;e.exports=function(e){(function(e){let t=a.buildLayerMatrix(e),n=e.graph().ranksep,r=0;t.forEach((t=>{const a=t.reduce(((t,n)=>{const a=e.node(n).height;return t>a?t:a}),0);t.forEach((t=>e.node(t).y=r+a/2)),r+=a+n}))})(e=a.asNonCompoundGraph(e)),Object.entries(r(e)).forEach((([t,n])=>e.node(t).x=n))}},7448:function(e,t,n){var a=n(3933);e.exports=function(e,t){return a(e,t,"post")}},7681:function(e,t,n){var a=n(9441);e.exports=function(e){try{a(e)}catch(t){if(t instanceof a.CycleException)return!1;throw t}return!0}},7764:function(e,t,n){"use strict";let a=n(4809).zipObject;function r(e,t,n){let r=a(n,n.map(((e,t)=>t))),o=t.flatMap((t=>e.outEdges(t).map((t=>({pos:r[t.w],weight:e.edge(t).weight}))).sort(((e,t)=>e.pos-t.pos)))),s=1;for(;s<n.length;)s<<=1;let i=2*s-1;s-=1;let l=new Array(i).fill(0),c=0;return o.forEach((e=>{let t=e.pos+s;l[t]+=e.weight;let n=0;for(;t>0;)t%2&&(n+=l[t+1]),t=t-1>>1,l[t]+=e.weight;c+=e.weight*n})),c}e.exports=function(e,t){let n=0;for(let a=1;a<t.length;++a)n+=r(e,t[a-1],t[a]);return n}},8057:function(e,t,n){e.exports={graphlib:n(6743),layout:n(9507),debug:n(334),util:{time:n(4809).time,notime:n(4809).notime},version:n(4529)}},8351:function(e,t,n){"use strict";t.A=n.p+"static/welcome-eb6c9c3c9d3b4710ff4a6026a37c39ce.svg"},8929:function(e){e.exports=function(e,n,a){return function(e,t,n){var a={},r=e.nodes();return r.forEach((function(e){a[e]={},a[e][e]={distance:0},r.forEach((function(t){e!==t&&(a[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var r=n.v===e?n.w:n.v,o=t(n);a[e][r]={distance:o,predecessor:e}}))})),r.forEach((function(e){var t=a[e];r.forEach((function(n){var o=a[n];r.forEach((function(n){var a=o[e],r=t[n],s=o[n],i=a.distance+r.distance;i<s.distance&&(s.distance=i,s.predecessor=r.predecessor)}))}))})),a}(e,n||t,a||function(t){return e.outEdges(t)})};var t=()=>1},9207:function(e){e.exports="2.2.4"},9294:function(e,t,n){"use strict";const{applyWithChunking:a}=n(4809);e.exports={longestPath:function(e){var t={};e.sources().forEach((function n(r){var o=e.node(r);if(Object.hasOwn(t,r))return o.rank;t[r]=!0;let s=e.outEdges(r).map((t=>null==t?Number.POSITIVE_INFINITY:n(t.w)-e.edge(t).minlen));var i=a(Math.min,s);return i===Number.POSITIVE_INFINITY&&(i=0),o.rank=i}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},9351:function(e,t,n){e.exports={Graph:n(6239),version:n(9207)}},9439:function(e,t,n){var a=n(3933);e.exports=function(e,t){return a(e,t,"pre")}},9441:function(e){function t(e){var t={},a={},r=[];if(e.sinks().forEach((function o(s){if(Object.hasOwn(a,s))throw new n;Object.hasOwn(t,s)||(a[s]=!0,t[s]=!0,e.predecessors(s).forEach(o),delete a[s],r.push(s))})),Object.keys(t).length!==e.nodeCount())throw new n;return r}class n extends Error{constructor(){super(...arguments)}}e.exports=t,t.CycleException=n},9507:function(e,t,n){"use strict";let a=n(41),r=n(258),o=n(860),s=n(4809).normalizeRanks,i=n(4867),l=n(4809).removeEmptyRanks,c=n(6554),d=n(1236),u=n(5677),m=n(4822),p=n(7277),g=n(4809),h=n(6743).Graph;e.exports=function(e,t){let n=t&&t.debugTiming?g.time:g.notime;n("layout",(()=>{let C=n("  buildLayoutGraph",(()=>function(e){let t=new h({multigraph:!0,compound:!0}),n=N(e.graph());return t.setGraph(Object.assign({},v,k(n,f),g.pick(n,y))),e.nodes().forEach((n=>{const a=k(N(e.node(n)),b);Object.keys(E).forEach((e=>{void 0===a[e]&&(a[e]=E[e])})),t.setNode(n,a),t.setParent(n,e.parent(n))})),e.edges().forEach((n=>{let a=N(e.edge(n));t.setEdge(n,Object.assign({},x,k(a,w),g.pick(a,_)))})),t}(e)));n("  runLayout",(()=>function(e,t,n){t("    makeSpaceForEdgeLabels",(()=>function(e){let t=e.graph();t.ranksep/=2,e.edges().forEach((n=>{let a=e.edge(n);a.minlen*=2,"c"!==a.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?a.width+=a.labeloffset:a.height+=a.labeloffset)}))}(e))),t("    removeSelfEdges",(()=>function(e){e.edges().forEach((t=>{if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e))),t("    acyclic",(()=>a.run(e))),t("    nestingGraph.run",(()=>c.run(e))),t("    rank",(()=>o(g.asNonCompoundGraph(e)))),t("    injectEdgeLabelProxies",(()=>function(e){e.edges().forEach((t=>{let n=e.edge(t);if(n.width&&n.height){let n=e.node(t.v),a={rank:(e.node(t.w).rank-n.rank)/2+n.rank,e:t};g.addDummyNode(e,"edge-proxy",a,"_ep")}}))}(e))),t("    removeEmptyRanks",(()=>l(e))),t("    nestingGraph.cleanup",(()=>c.cleanup(e))),t("    normalizeRanks",(()=>s(e))),t("    assignRankMinMax",(()=>function(e){let t=0;e.nodes().forEach((n=>{let a=e.node(n);a.borderTop&&(a.minRank=e.node(a.borderTop).rank,a.maxRank=e.node(a.borderBottom).rank,t=Math.max(t,a.maxRank))})),e.graph().maxRank=t}(e))),t("    removeEdgeLabelProxies",(()=>function(e){e.nodes().forEach((t=>{let n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e))),t("    normalize.run",(()=>r.run(e))),t("    parentDummyChains",(()=>i(e))),t("    addBorderSegments",(()=>d(e))),t("    order",(()=>m(e,n))),t("    insertSelfEdges",(()=>function(e){var t=g.buildLayerMatrix(e);t.forEach((t=>{var n=0;t.forEach(((t,a)=>{var r=e.node(t);r.order=a+n,(r.selfEdges||[]).forEach((t=>{g.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:r.rank,order:a+ ++n,e:t.e,label:t.label},"_se")})),delete r.selfEdges}))}))}(e))),t("    adjustCoordinateSystem",(()=>u.adjust(e))),t("    position",(()=>p(e))),t("    positionSelfEdges",(()=>function(e){e.nodes().forEach((t=>{var n=e.node(t);if("selfedge"===n.dummy){var a=e.node(n.e.v),r=a.x+a.width/2,o=a.y,s=n.x-r,i=a.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:r+2*s/3,y:o-i},{x:r+5*s/6,y:o-i},{x:r+s,y:o},{x:r+5*s/6,y:o+i},{x:r+2*s/3,y:o+i}],n.label.x=n.x,n.label.y=n.y}}))}(e))),t("    removeBorderNodes",(()=>function(e){e.nodes().forEach((t=>{if(e.children(t).length){let n=e.node(t),a=e.node(n.borderTop),r=e.node(n.borderBottom),o=e.node(n.borderLeft[n.borderLeft.length-1]),s=e.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(s.x-o.x),n.height=Math.abs(r.y-a.y),n.x=o.x+n.width/2,n.y=a.y+n.height/2}})),e.nodes().forEach((t=>{"border"===e.node(t).dummy&&e.removeNode(t)}))}(e))),t("    normalize.undo",(()=>r.undo(e))),t("    fixupEdgeLabelCoords",(()=>function(e){e.edges().forEach((t=>{let n=e.edge(t);if(Object.hasOwn(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e))),t("    undoCoordinateSystem",(()=>u.undo(e))),t("    translateGraph",(()=>function(e){let t=Number.POSITIVE_INFINITY,n=0,a=Number.POSITIVE_INFINITY,r=0,o=e.graph(),s=o.marginx||0,i=o.marginy||0;function l(e){let o=e.x,s=e.y,i=e.width,l=e.height;t=Math.min(t,o-i/2),n=Math.max(n,o+i/2),a=Math.min(a,s-l/2),r=Math.max(r,s+l/2)}e.nodes().forEach((t=>l(e.node(t)))),e.edges().forEach((t=>{let n=e.edge(t);Object.hasOwn(n,"x")&&l(n)})),t-=s,a-=i,e.nodes().forEach((n=>{let r=e.node(n);r.x-=t,r.y-=a})),e.edges().forEach((n=>{let r=e.edge(n);r.points.forEach((e=>{e.x-=t,e.y-=a})),Object.hasOwn(r,"x")&&(r.x-=t),Object.hasOwn(r,"y")&&(r.y-=a)})),o.width=n-t+s,o.height=r-a+i}(e))),t("    assignNodeIntersects",(()=>function(e){e.edges().forEach((t=>{let n,a,r=e.edge(t),o=e.node(t.v),s=e.node(t.w);r.points?(n=r.points[0],a=r.points[r.points.length-1]):(r.points=[],n=s,a=o),r.points.unshift(g.intersectRect(o,n)),r.points.push(g.intersectRect(s,a))}))}(e))),t("    reversePoints",(()=>function(e){e.edges().forEach((t=>{let n=e.edge(t);n.reversed&&n.points.reverse()}))}(e))),t("    acyclic.undo",(()=>a.undo(e)))}(C,n,t))),n("  updateInputGraph",(()=>function(e,t){e.nodes().forEach((n=>{let a=e.node(n),r=t.node(n);a&&(a.x=r.x,a.y=r.y,a.rank=r.rank,t.children(n).length&&(a.width=r.width,a.height=r.height))})),e.edges().forEach((n=>{let a=e.edge(n),r=t.edge(n);a.points=r.points,Object.hasOwn(r,"x")&&(a.x=r.x,a.y=r.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,C)))}))};let f=["nodesep","edgesep","ranksep","marginx","marginy"],v={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},y=["acyclicer","ranker","rankdir","align"],b=["width","height"],E={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],x={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},_=["labelpos"];function k(e,t){return g.mapValues(g.pick(e,t),Number)}function N(e){var t={};return e&&Object.entries(e).forEach((([e,n])=>{"string"==typeof e&&(e=e.toLowerCase()),t[e]=n})),t}},9552:function(e,t,n){var a=n(4318);e.exports=function(e,t,n){return e.nodes().reduce((function(r,o){return r[o]=a(e,o,t,n),r}),{})}},9850:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var a=n(7387);let r=function(e){function t(){return e.apply(this,arguments)||this}(0,a.A)(t,e);var n=t.prototype;return n.listSessions=async function(e){const t=await fetch(`${this.getBaseUrl()}/sessions/?user_id=${e}`,{headers:this.getHeaders()}),n=await t.json();if(!n.status)throw new Error(n.message||"Failed to fetch sessions");return n.data},n.getSession=async function(e,t){const n=await fetch(`${this.getBaseUrl()}/sessions/${e}?user_id=${t}`,{headers:this.getHeaders()}),a=await n.json();if(!a.status)throw new Error(a.message||"Failed to fetch session");return a.data},n.createSession=async function(e,t){const n={...e,user_id:t},a=await fetch(`${this.getBaseUrl()}/sessions/`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(n)}),r=await a.json();if(!r.status)throw new Error(r.message||"Failed to create session");return r.data},n.updateSession=async function(e,t,n){const a={...t,id:e,user_id:n},r=await fetch(`${this.getBaseUrl()}/sessions/${e}?user_id=${n}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(a)}),o=await r.json();if(!o.status)throw new Error(o.message||"Failed to update session");return o.data},n.getSessionRuns=async function(e,t){const n=await fetch(`${this.getBaseUrl()}/sessions/${e}/runs?user_id=${t}`,{headers:this.getHeaders()}),a=await n.json();if(!a.status)throw new Error(a.message||"Failed to fetch session runs");return a.data},n.deleteSession=async function(e,t){const n=await fetch(`${this.getBaseUrl()}/sessions/${e}?user_id=${t}`,{method:"DELETE",headers:this.getHeaders()}),a=await n.json();if(!a.status)throw new Error(a.message||"Failed to delete session")},n.listSessionMessages=async function(e,t){const n=await fetch(`${this.getBaseUrl()}/sessions/${e}/messages?user_id=${t}`,{headers:this.getHeaders()}),a=await n.json();if(!a.status)throw new Error(a.message||"Failed to fetch messages");return a.data},n.createRun=async function(e,t){const n={session_id:e,user_id:t},a=await fetch(`${this.getBaseUrl()}/runs/`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(n)}),r=await a.json();if(!r.status)throw new Error(r.message||"Failed to create run");return r.data.run_id},t}(n(3838).y);const o=new r}}]);
//# sourceMappingURL=b82788f2cde183498e3bd32c4ca2ee816d96851b-3f2a74469a966f448b85.js.map